<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <meta name="keywords" content="hexo,个人博客,blog" />
  <meta name="description" content="某某的个人博客" />
  <meta http-equiv="x-dns-prefetch-control" content="on">
  <link rel="dns-prefetch" href="https://busuanzi.ibruce.info">
  <link rel="dns-prefetch" href="https://at.alicdn.com">
  
  <link rel="dns-prefetch" href="https://widget.daovoice.io">
  <link rel="dns-prefetch" href="https://widget-static-cdn.daovoice.io">
  <link rel="dns-prefetch" href="https://im.daovoice.io">
  
  
  <link rel="dns-prefetch" href="https://hm.baidu.com/">
  
  
  <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">
  <link rel="dns-prefetch" href="https://api.github.com">
  <link rel="dns-prefetch" href="https://avatars3.githubusercontent.com">
  
  <link rel="stylesheet" type="text/css" href="/./style/main.css">
	<link rel="shortcut icon" href="/favicon.ico" title="Favicon">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
	<title>MySQL数据库</title>
  
  <script>var _hmt=_hmt||[];(function(){var hm=document.createElement("script");hm.src="https://hm.baidu.com/hm.js?awwssw1snsnsnn1ndndnndnd99j";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(hm,s);})();
  </script>
  
  
    <script>(function(i,s,o,g,r,a,m){i["DaoVoiceObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset="utf-8";m.parentNode.insertBefore(a,m)})(window,document,"script",('https:' == document.location.protocol ? 'https:' : 'http:') + "//widget.daovoice.io/widget/123456.js","daovoice");daovoice('init',{app_id: "123456"});daovoice('update');
  </script>
  
<meta name="generator" content="Hexo 4.2.0"></head>
<body>
  <canvas id="pattern-placeholder" height="230"></canvas>
<div class="navbar-header">
  <a class="blog-title" href="/">Hexo</a>
  <a class="face-img" href="/">
    <img src="https://tva3.sinaimg.cn/crop.0.0.200.200.180/005Kc3C1jw8f2uep0hhkvj305k05k3yk.jpg">
  </a>
</div>
<main>
  <div class="article-title">
    
  
  <h1 class="title">
    MySQL数据库
  </h1>
  


    <ul class="article-info">
      <li>
        发布
        <time datetime="2020-04-03T06:25:27.095Z" itemprop="datePublished">2020-04-03</time>
      </li>
      <li>
        
    更新 <time datetime="2020-04-03T06:32:58.000Z" itemprop="dateUpdated">2020-04-03</time>

      </li>
      <li id="busuanzi_container_page_pv">
        阅读 <span id="busuanzi_value_page_pv"></span>
      </li>
    </ul>
  </div>
  <div class="container">
    <div class="article">
      <div class="content">
        
        <h3 id="MySQL数据库优点"><a href="#MySQL数据库优点" class="headerlink" title="MySQL数据库优点"></a>MySQL数据库优点</h3><ul>
<li><h5 id="持久化数据到本地"><a href="#持久化数据到本地" class="headerlink" title="持久化数据到本地"></a>持久化数据到本地</h5></li>
<li><h5 id="可以实现结构化查询，方便管理"><a href="#可以实现结构化查询，方便管理" class="headerlink" title="可以实现结构化查询，方便管理"></a>可以实现结构化查询，方便管理</h5></li>
<li><h5 id="成本低：开源，免费使用"><a href="#成本低：开源，免费使用" class="headerlink" title="成本低：开源，免费使用"></a>成本低：开源，免费使用</h5></li>
<li><h5 id="性能高：移植性好"><a href="#性能高：移植性好" class="headerlink" title="性能高：移植性好"></a>性能高：移植性好</h5></li>
<li><h5 id="体积小便于安装"><a href="#体积小便于安装" class="headerlink" title="体积小便于安装"></a>体积小便于安装</h5></li>
</ul>
<h3 id="数据的概念"><a href="#数据的概念" class="headerlink" title="数据的概念"></a>数据的概念</h3><ul>
<li><strong>DB</strong><ul>
<li><strong>数据库(database)</strong>：存储数据的<strong>“仓库”</strong>。它<strong>保存了一系列有组织的数据。</strong></li>
</ul>
</li>
<li><strong>DBMS</strong><ul>
<li><strong>数据管理系统(Database Management System)</strong>。数据库是<strong>通过DBMS创建和操作的容器，又被称为数据</strong></li>
<li><strong>数据库管理系统-DBMS</strong>用于 <strong>检索数据、插入数据、更新数据、删除数据</strong></li>
</ul>
</li>
<li><strong>SQL</strong><ul>
<li><strong>结构化查询语言(Structure Query Language)</strong>：<strong>专门用来与数据库通信的语言</strong></li>
</ul>
</li>
</ul>
<h5 id="SQL的优点："><a href="#SQL的优点：" class="headerlink" title="SQL的优点："></a>SQL的优点：</h5><h5 id="1、不是某个特定数据库供应商应有的语言，几乎所有DBMS都支持SQL"><a href="#1、不是某个特定数据库供应商应有的语言，几乎所有DBMS都支持SQL" class="headerlink" title="1、不是某个特定数据库供应商应有的语言，几乎所有DBMS都支持SQL"></a>1、不是某个特定数据库供应商应有的语言，几乎所有DBMS都支持SQL</h5><h5 id="2、简单易学"><a href="#2、简单易学" class="headerlink" title="2、简单易学"></a>2、简单易学</h5><h5 id="3、虽然简单，但实际上是一种强有力的语言，灵活使用其他语言元素，可以进行非常复杂和高级的数据库操作"><a href="#3、虽然简单，但实际上是一种强有力的语言，灵活使用其他语言元素，可以进行非常复杂和高级的数据库操作" class="headerlink" title="3、虽然简单，但实际上是一种强有力的语言，灵活使用其他语言元素，可以进行非常复杂和高级的数据库操作"></a>3、虽然简单，但实际上是一种强有力的语言，灵活使用其他语言元素，可以进行非常复杂和高级的数据库操作</h5><h3 id="数据库存储数据的特点"><a href="#数据库存储数据的特点" class="headerlink" title="数据库存储数据的特点"></a>数据库存储数据的特点</h3><h5 id="1、将数据放到表中，表再放到库中"><a href="#1、将数据放到表中，表再放到库中" class="headerlink" title="1、将数据放到表中，表再放到库中"></a>1、将数据放到表中，表再放到库中</h5><h5 id="2、一个数据库中可与有多个表，每个表都有一个名字，用来标识自己的。表明具有唯一性。"><a href="#2、一个数据库中可与有多个表，每个表都有一个名字，用来标识自己的。表明具有唯一性。" class="headerlink" title="2、一个数据库中可与有多个表，每个表都有一个名字，用来标识自己的。表明具有唯一性。"></a>2、一个数据库中可与有多个表，每个表都有一个名字，用来标识自己的。表明具有唯一性。</h5><h5 id="3、表具有一些特性，这些特性定义了数据再表中如何存储，类似java中”类”的设计。"><a href="#3、表具有一些特性，这些特性定义了数据再表中如何存储，类似java中”类”的设计。" class="headerlink" title="3、表具有一些特性，这些特性定义了数据再表中如何存储，类似java中”类”的设计。"></a>3、表具有一些特性，这些特性定义了数据再表中如何存储，类似java中”类”的设计。</h5><h5 id="4、-表由列组成，我们也成为字段。所有表都是由一个或多个列组成的，每一列类似java中的”属性”"><a href="#4、-表由列组成，我们也成为字段。所有表都是由一个或多个列组成的，每一列类似java中的”属性”" class="headerlink" title="4、 表由列组成，我们也成为字段。所有表都是由一个或多个列组成的，每一列类似java中的”属性”"></a>4、 表由列组成，我们也成为字段。所有表都是由一个或多个列组成的，每一列类似java中的”属性”</h5><h5 id="5、表中的数据是按行存储的，每一行类似于java中的”对象”。"><a href="#5、表中的数据是按行存储的，每一行类似于java中的”对象”。" class="headerlink" title="5、表中的数据是按行存储的，每一行类似于java中的”对象”。"></a>5、表中的数据是按行存储的，每一行类似于java中的”对象”。</h5><h3 id="常见数据库管理系统"><a href="#常见数据库管理系统" class="headerlink" title="常见数据库管理系统"></a>常见数据库管理系统</h3><p>MySQL、Oracle、db2、SQL server</p>
<h3 id="登录和退出MySQL"><a href="#登录和退出MySQL" class="headerlink" title="登录和退出MySQL"></a>登录和退出MySQL</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">登录指令</span><br><span class="line">mysql -h localhost -P 3306 -u root -p</span><br><span class="line">登录指令简写</span><br><span class="line">mysql -u root -p</span><br><span class="line"></span><br><span class="line">退出指令</span><br><span class="line">exit	或者	ctrl+c</span><br></pre></td></tr></table></figure>

<h3 id="MySQL的常见命令"><a href="#MySQL的常见命令" class="headerlink" title="MySQL的常见命令"></a>MySQL的常见命令</h3><h5 id="其中，mysql、information-schema、performance-schema这三个库是不能随便动的"><a href="#其中，mysql、information-schema、performance-schema这三个库是不能随便动的" class="headerlink" title="其中，mysql、information_schema、performance_schema这三个库是不能随便动的"></a>其中，mysql、information_schema、performance_schema这三个库是不能随便动的</h5><ul>
<li><h5 id="mysql（用于保存用户信息的）"><a href="#mysql（用于保存用户信息的）" class="headerlink" title="mysql（用于保存用户信息的）"></a>mysql（用于保存用户信息的）</h5></li>
<li><h5 id="information-schema（用于保存原数据信息）"><a href="#information-schema（用于保存原数据信息）" class="headerlink" title="information_schema（用于保存原数据信息）"></a>information_schema（用于保存原数据信息）</h5></li>
<li><h5 id="performance-schema（用于搜集性能信息，性能参数）"><a href="#performance-schema（用于搜集性能信息，性能参数）" class="headerlink" title="performance_schema（用于搜集性能信息，性能参数）"></a>performance_schema（用于搜集性能信息，性能参数）</h5></li>
<li><p>test（表示测试数据库，这个库里面是空的，没有表，可以在里面去新建表，可以修改库删除库）</p>
</li>
</ul>
<h5 id="每条命令结尾都要加分号-（非常重要）"><a href="#每条命令结尾都要加分号-（非常重要）" class="headerlink" title="每条命令结尾都要加分号;（非常重要）"></a>每条命令结尾都要加分号;（非常重要）</h5><h5 id="插入sql文件，也就是插入数据库"><a href="#插入sql文件，也就是插入数据库" class="headerlink" title="插入sql文件，也就是插入数据库"></a>插入sql文件，也就是插入数据库</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; source sql文件位置</span><br></pre></td></tr></table></figure>

<h5 id="查看当前所有数据库"><a href="#查看当前所有数据库" class="headerlink" title="查看当前所有数据库"></a>查看当前所有数据库</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show databases;</span><br></pre></td></tr></table></figure>

<h5 id="进入库的指令是"><a href="#进入库的指令是" class="headerlink" title="进入库的指令是"></a>进入库的指令是</h5><h5 id="use-库名；"><a href="#use-库名；" class="headerlink" title="use 库名；"></a>use 库名；</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#use 后面加上指定库名，这里进入的就是test库，结尾不要忘记加分号;</span><br><span class="line">mysql&gt; use test;</span><br><span class="line">Database changed	#返回一个database changed表示打开了test库</span><br></pre></td></tr></table></figure>

<h5 id="查看库中的表"><a href="#查看库中的表" class="headerlink" title="查看库中的表"></a>查看库中的表</h5><h5 id="show-tables；"><a href="#show-tables；" class="headerlink" title="show tables；"></a>show tables；</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#查看当前库中的表用 show tables</span><br><span class="line">mysql&gt; show tables;</span><br><span class="line">Empty set (0.00 sec)	#返回结果empty set 表示空的</span><br></pre></td></tr></table></figure>

<h5 id="查看其他库的所有表"><a href="#查看其他库的所有表" class="headerlink" title="查看其他库的所有表"></a>查看其他库的所有表</h5><h5 id="show-tables-from-库名；"><a href="#show-tables-from-库名；" class="headerlink" title="show tables from 库名；"></a>show tables from 库名；</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#这样也可以查看其他库的表</span><br><span class="line">mysql&gt; show tables from mysql;</span><br></pre></td></tr></table></figure>

<h5 id="声明：如果用use进入当前库之后，再用show-tables-from来查看其他库的内容，虽然显示了其他库的表，但是位置还是在use进入的库里"><a href="#声明：如果用use进入当前库之后，再用show-tables-from来查看其他库的内容，虽然显示了其他库的表，但是位置还是在use进入的库里" class="headerlink" title="声明：如果用use进入当前库之后，再用show tables from来查看其他库的内容，虽然显示了其他库的表，但是位置还是在use进入的库里"></a>声明：如果用use进入当前库之后，再用show tables from来查看其他库的内容，虽然显示了其他库的表，但是位置还是在use进入的库里</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#这里use先进入的test库，虽然用show tables from查看了其他库的表，但是位置还是再test里面</span><br><span class="line">例如:</span><br><span class="line">mysql&gt; use test;</span><br><span class="line">Database changed</span><br><span class="line"></span><br><span class="line">mysql&gt; show tables;</span><br><span class="line">Empty set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; show tables from mysql;</span><br><span class="line">		库里面表的内容</span><br></pre></td></tr></table></figure>

<h5 id="查看所在的库"><a href="#查看所在的库" class="headerlink" title="查看所在的库"></a>查看所在的库</h5><h5 id="select-database"><a href="#select-database" class="headerlink" title="select database();"></a>select database();</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select database();</span><br><span class="line">+------------+</span><br><span class="line">| database() |</span><br><span class="line">+------------+</span><br><span class="line">| test       |</span><br><span class="line">+------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<h5 id="新建数据库"><a href="#新建数据库" class="headerlink" title="新建数据库"></a>新建数据库</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; create database 库名;</span><br></pre></td></tr></table></figure>

<h5 id="删除数据库"><a href="#删除数据库" class="headerlink" title="删除数据库"></a>删除数据库</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; drop database 库名;</span><br></pre></td></tr></table></figure>

<h5 id="新建表"><a href="#新建表" class="headerlink" title="新建表"></a>新建表</h5><h5 id="create-table-表名"><a href="#create-table-表名" class="headerlink" title="create table 表名;"></a>create table 表名;</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">格式：creact table 表名(</span><br><span class="line">		列名 列类型,</span><br><span class="line">		列名 列类型</span><br><span class="line">		...</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">#用create table 创建一个handsome的表，表是由列组成的，加一个id列，这个列的类型是int类型，还有一个name列，它的类型是字符串，varchar，20表示可以存储最多20个字符，也就是字符串的最大长度，varchar是可变字符串的意思</span><br><span class="line">mysql&gt; create table handsome(</span><br><span class="line">    -&gt; id int,</span><br><span class="line">    -&gt; name varchar(20));</span><br><span class="line">Query OK, 0 rows affected (0.02 sec)</span><br><span class="line">#用show tables;查看当前库中的表</span><br><span class="line">mysql&gt; show tables;</span><br><span class="line">+----------------+</span><br><span class="line">| Tables_in_test |</span><br><span class="line">+----------------+</span><br><span class="line">| handsome       |</span><br><span class="line">+----------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<h5 id="删除表"><a href="#删除表" class="headerlink" title="删除表"></a>删除表</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; drop table 表名;</span><br></pre></td></tr></table></figure>

<h5 id="查看表的结构"><a href="#查看表的结构" class="headerlink" title="查看表的结构"></a>查看表的结构</h5><h5 id="desc-表名"><a href="#desc-表名" class="headerlink" title="desc 表名;"></a>desc 表名;</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#用desc产看了handsome表的结构</span><br><span class="line">mysql&gt; desc handsome;</span><br><span class="line">+-------+-------------+------+-----+---------+-------+</span><br><span class="line">| Field | Type        | Null | Key | Default | Extra |</span><br><span class="line">+-------+-------------+------+-----+---------+-------+</span><br><span class="line">| id    | int(11)     | YES  |     | NULL    |       |</span><br><span class="line">| name  | varchar(20) | YES  |     | NULL    |       |</span><br><span class="line">+-------+-------------+------+-----+---------+-------+</span><br><span class="line">2 rows in set (0.01 sec)</span><br></pre></td></tr></table></figure>

<h5 id="查看当前表的数据"><a href="#查看当前表的数据" class="headerlink" title="查看当前表的数据"></a>查看当前表的数据</h5><h5 id="select-from-表名"><a href="#select-from-表名" class="headerlink" title="select * from 表名;"></a>select * from 表名;</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 当前handsome表里并没有数据 </span><br><span class="line">mysql&gt; select * from handsome;</span><br><span class="line">Empty set (0.00 sec)</span><br></pre></td></tr></table></figure>

<h5 id="向表中插入数据"><a href="#向表中插入数据" class="headerlink" title="向表中插入数据"></a>向表中插入数据</h5><h5 id="insert-into-表名-values-插入内容"><a href="#insert-into-表名-values-插入内容" class="headerlink" title="insert into 表名() values (插入内容);"></a>insert into 表名() values (插入内容);</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">#</span><br><span class="line">mysql&gt; insert into handsome (id,name) values(1,&#39;john&#39;);</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; insert into handsome (id,name) values(2,&#39;rose&#39;);</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line"></span><br><span class="line"># 用 select * from handsome;查看当前表的内容</span><br><span class="line">mysql&gt; select * from handsome;</span><br><span class="line">+------+------+</span><br><span class="line">| id   | name |</span><br><span class="line">+------+------+</span><br><span class="line">|    1 | john |</span><br><span class="line">|    2 | rose |</span><br><span class="line">+------+------+</span><br></pre></td></tr></table></figure>

<h5 id="修改表中内容"><a href="#修改表中内容" class="headerlink" title="修改表中内容"></a>修改表中内容</h5><h5 id="update-表名-set-字段-’更改内容’-where-列名-序号"><a href="#update-表名-set-字段-’更改内容’-where-列名-序号" class="headerlink" title="update 表名 set 字段=’更改内容’ where 列名=序号;"></a>update 表名 set 字段=’更改内容’ where 列名=序号;</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; update handsome set name&#x3D;&#39;MySQL&#39; where id&#x3D;1;</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line">Rows matched: 1  Changed: 1  Warnings: 0</span><br><span class="line"></span><br><span class="line"># 用select *form handsome;查看handsome表中的内容</span><br><span class="line">mysql&gt; select * from handsome;</span><br><span class="line">+------+-------+</span><br><span class="line">| id   | name  |</span><br><span class="line">+------+-------+</span><br><span class="line">|    1 | MySQL |</span><br><span class="line">|    2 | rose  |</span><br><span class="line">+------+-------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<h5 id="删除表中内容"><a href="#删除表中内容" class="headerlink" title="删除表中内容"></a>删除表中内容</h5><h5 id="delete-from-表名-where-列名-序列号"><a href="#delete-from-表名-where-列名-序列号" class="headerlink" title="delete from 表名 where 列名=序列号;"></a>delete from 表名 where 列名=序列号;</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#删除handsome表中的id列中的1序列号内容，</span><br><span class="line">mysql&gt; delete from handsome where id&#x3D;1;</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from handsome;</span><br><span class="line">+------+------+</span><br><span class="line">| id   | name |</span><br><span class="line">+------+------+</span><br><span class="line">|    2 | rose |</span><br><span class="line">+------+------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<h5 id="查看MySQL当前版本"><a href="#查看MySQL当前版本" class="headerlink" title="查看MySQL当前版本"></a>查看MySQL当前版本</h5><h5 id="1、select-version"><a href="#1、select-version" class="headerlink" title="1、select version();"></a>1、select version();</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#第一种方法，用select version();查看当前版本，version是版本的意思，说明当前版本是5.5</span><br><span class="line">#第一种方法实在MySQL客户端上查看</span><br><span class="line">mysql&gt; select version();</span><br><span class="line">+-----------+</span><br><span class="line">| version() |</span><br><span class="line">+-----------+</span><br><span class="line">| 5.5.53    |</span><br><span class="line">+-----------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<h5 id="2、mysql-version-简写形式：mysql-V"><a href="#2、mysql-version-简写形式：mysql-V" class="headerlink" title="2、mysql -version    简写形式：mysql -V"></a>2、mysql -version    简写形式：mysql -V</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#退出mysql后，再当前命令行用mysql --version查看版本，版本还是5.5</span><br><span class="line">D:\phpStudy\PHPTutorial\MySQL\bin&gt;mysql --version</span><br><span class="line">mysql  Ver 14.14 Distrib 5.5.53, for Win32 (AMD64)</span><br><span class="line"></span><br><span class="line">D:\phpStudy\PHPTutorial\MySQL\bin&gt;mysql -V</span><br><span class="line">mysql  Ver 14.14 Distrib 5.5.53, for Win32 (AMD64)</span><br></pre></td></tr></table></figure>

<h4 id="MySQL的语法规范"><a href="#MySQL的语法规范" class="headerlink" title="MySQL的语法规范"></a>MySQL的语法规范</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1、不区分大小写，建议关键字大写，表名、列名小写</span><br><span class="line">2、每条命令最好用分号结尾</span><br><span class="line">3、每条命令根据需要，可以进行缩进 或 换行(命令过长时，可以使用换行，如果换行，建议关键字单独一行)</span><br><span class="line">4、注释</span><br><span class="line">	单行注释:#注释文字</span><br><span class="line">	单行注释:-- 注释文字(注意，--后有空格)</span><br><span class="line">	多行注释:&#x2F;* 注释文字 *&#x2F;</span><br></pre></td></tr></table></figure>

<h3 id="myemployees库四张表介绍"><a href="#myemployees库四张表介绍" class="headerlink" title="myemployees库四张表介绍"></a>myemployees库四张表介绍</h3><h4 id="employees表-员工表"><a href="#employees表-员工表" class="headerlink" title="employees表 | 员工表"></a>employees表 | 员工表</h4><table>
<thead>
<tr>
<th>列名</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>employee_id  int(6)</td>
<td>员工编号</td>
</tr>
<tr>
<td>first_name，varchar(20)</td>
<td>名</td>
</tr>
<tr>
<td>last_name， varchar(25)</td>
<td>姓（姓名）</td>
</tr>
<tr>
<td>email，varchar(25)</td>
<td>邮箱</td>
</tr>
<tr>
<td>phone_number， varchar(20)</td>
<td>电话号码</td>
</tr>
<tr>
<td>job_id， varchar(10)</td>
<td>工种编号</td>
</tr>
<tr>
<td>salary， double(10,2)</td>
<td>月薪</td>
</tr>
<tr>
<td>commission_pct， double(4,2)</td>
<td>奖金率</td>
</tr>
<tr>
<td>manager_id， int(6)</td>
<td>上级领导的员工编号</td>
</tr>
<tr>
<td>department_id， int(4)</td>
<td>部门编号</td>
</tr>
<tr>
<td>hiredate， datetime</td>
<td>入职时间</td>
</tr>
</tbody></table>
<h4 id="departments表-部门表"><a href="#departments表-部门表" class="headerlink" title="departments表 | 部门表"></a>departments表 | 部门表</h4><table>
<thead>
<tr>
<th>列名</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>department_id</td>
<td>部门编号</td>
</tr>
<tr>
<td>department_name</td>
<td>部门名称</td>
</tr>
<tr>
<td>manager_id</td>
<td>部门领导的员工编号</td>
</tr>
<tr>
<td>location_id</td>
<td>位置编号</td>
</tr>
</tbody></table>
<h4 id="locations表-位置表"><a href="#locations表-位置表" class="headerlink" title="locations表 | 位置表"></a>locations表 | 位置表</h4><table>
<thead>
<tr>
<th>列名</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>location_id</td>
<td>位置编号</td>
</tr>
<tr>
<td>street_address</td>
<td>街道地址</td>
</tr>
<tr>
<td>postal_code</td>
<td>邮编地址</td>
</tr>
<tr>
<td>city</td>
<td>城市</td>
</tr>
<tr>
<td>state_province</td>
<td>省</td>
</tr>
<tr>
<td>country_id</td>
<td>国家编号</td>
</tr>
</tbody></table>
<h4 id="jobs表-职位"><a href="#jobs表-职位" class="headerlink" title="jobs表 | 职位"></a>jobs表 | 职位</h4><table>
<thead>
<tr>
<th>列名</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>job_id</td>
<td>职位编号</td>
</tr>
<tr>
<td>job_title</td>
<td>职位名称</td>
</tr>
<tr>
<td>min_salary</td>
<td>最低工资</td>
</tr>
<tr>
<td>max_salary</td>
<td>最高工资</td>
</tr>
</tbody></table>
<h3 id="DQL语言"><a href="#DQL语言" class="headerlink" title="DQL语言"></a>DQL语言</h3><h4 id="基础查询（重点）"><a href="#基础查询（重点）" class="headerlink" title="基础查询（重点）"></a>基础查询（重点）</h4><h5 id="语法："><a href="#语法：" class="headerlink" title="语法："></a>语法：</h5><p>​    select  查询列表  from 表名;    </p>
<h5 id="特点："><a href="#特点：" class="headerlink" title="特点："></a>特点：</h5><h5 id="1、查询列表可以是：表中的字段，常量值、表达式、函数"><a href="#1、查询列表可以是：表中的字段，常量值、表达式、函数" class="headerlink" title="1、查询列表可以是：表中的字段，常量值、表达式、函数"></a>1、查询列表可以是：表中的字段，常量值、表达式、函数</h5><h5 id="2、查询的结果是一个虚拟的表格"><a href="#2、查询的结果是一个虚拟的表格" class="headerlink" title="2、查询的结果是一个虚拟的表格"></a>2、查询的结果是一个虚拟的表格</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">着重号&#96; &#96;位置在数字一旁边,用于区分 &#39;关键字&#39;和&#39;字段&#39;的</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br></pre></td><td class="code"><pre><span class="line">1、查询表中的单个字段</span><br><span class="line">#last_name是employees表中的字段，如果不加FROM employees会出错</span><br><span class="line">mysql&gt; SELECT last_name FROM employees;</span><br><span class="line"></span><br><span class="line">2、查询表中的多个字段</span><br><span class="line">#查询多个字段每个字段中间用&#39;,&#39;逗号隔开</span><br><span class="line">mysql&gt; SELECT last_name,salary,email FROM employees;</span><br><span class="line"></span><br><span class="line">3、查询表中所有字段</span><br><span class="line">#查询employees所有字段</span><br><span class="line">mysql&gt; SELECT * FROM employees;</span><br><span class="line">还有一种方法，像第二步一样，将所有字段都打上，然后查询。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">4、查询常量值</span><br><span class="line">#100只是一个普通的常量值，并不是来自某个表所以不需要加FROM</span><br><span class="line">mysql&gt; SELECT 100;	#还会返回结果，只不过它显示的字段名就是它本身</span><br><span class="line">+-----+</span><br><span class="line">| 100 |</span><br><span class="line">+-----+</span><br><span class="line">| 100 |</span><br><span class="line">+-----+</span><br><span class="line"></span><br><span class="line">查询字符型常量值</span><br><span class="line"></span><br><span class="line"># MySQL中是不区分字符和字符串的，只要是字符都认为是字符型</span><br><span class="line"></span><br><span class="line">mysql&gt; SELECT &#39;jock&#39;;</span><br><span class="line">+------+</span><br><span class="line">| jock |</span><br><span class="line">+------+</span><br><span class="line">| jock |</span><br><span class="line">+------+</span><br><span class="line">注意:字符型和日期型的常量值必须用引号引起来，数值型不需要</span><br><span class="line"></span><br><span class="line">5、查询表达式</span><br><span class="line"></span><br><span class="line"># 用SELECT 计算表达式也是可以的(+、-、*、&#x2F;、%...)算数运算符都可以用</span><br><span class="line"></span><br><span class="line">mysql&gt; SELECT 100*98;</span><br><span class="line">+--------+</span><br><span class="line">| 100*98 |</span><br><span class="line">+--------+</span><br><span class="line">|   9800 |</span><br><span class="line">+--------+</span><br><span class="line"></span><br><span class="line">6、查询函数</span><br><span class="line"># 函数最关键的标志就是&#39;()&#39;小括号，之前的VERSION()就是一个函数</span><br><span class="line"># 查看版本号</span><br><span class="line"></span><br><span class="line">mysql&gt; SELECT VERSION();</span><br><span class="line">+-----------+</span><br><span class="line">| VERSION() |</span><br><span class="line">+-----------+</span><br><span class="line">| 5.5.53    |</span><br><span class="line">+-----------+</span><br><span class="line"></span><br><span class="line">7、为字段起别名</span><br><span class="line">优点：</span><br><span class="line">	便于理解，提高可读性</span><br><span class="line">	如果要查询的字段有重名情况，使用别名可以区分。</span><br><span class="line"></span><br><span class="line">方式一：使用AS</span><br><span class="line">#格式 SELECT 内容(列表) AS 名称(别名)</span><br><span class="line">mysql&gt; SELECT 100%98 AS 结果;</span><br><span class="line">+------+</span><br><span class="line">| 结果     |</span><br><span class="line">+------+</span><br><span class="line">|    2 |</span><br><span class="line">+------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br><span class="line"># 将employees数据库中的last_name 和 first_name 分别起名 &#39;姓&#39;和&#39;名&#39;</span><br><span class="line"></span><br><span class="line">mysql&gt; SELECT last_name AS 姓,first_name AS 名 FROM employees;</span><br><span class="line">+-------------+-------------+</span><br><span class="line">| 姓            | 名            |</span><br><span class="line">+-------------+-------------+</span><br><span class="line">| K_ing       | Steven      |</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">方式二：使用空格，不需要使用AS</span><br><span class="line">mysql&gt; SELECT last_name 姓,first_name 名 FROM employees;</span><br><span class="line">+-------------+-------------+</span><br><span class="line">| 姓            | 名            |</span><br><span class="line">+-------------+-------------+</span><br><span class="line">| K_ing       | Steven      |</span><br><span class="line"></span><br><span class="line">特殊情况</span><br><span class="line">	案例：给last_name起一个别名out put</span><br><span class="line">	#如果这样运行会报错，因为中间有特殊符号 &#39;空格&#39;，MySQL不理解当前内容</span><br><span class="line">	mysql&gt; SELECT last_name AS out put from employees;</span><br><span class="line">	修改：</span><br><span class="line">	#将有特殊符号的别名用(&quot;&quot;)双引号引起来，当然，这里着重号(&#39;&#39;)也是可以的。</span><br><span class="line">	mysql&gt; SELECT last_name AS &quot;out put&quot; from employees;</span><br><span class="line">	</span><br><span class="line">8、去重 distinct</span><br><span class="line">语法：</span><br><span class="line">	SELECT DISTINCT 字段名 FROM 表名;</span><br><span class="line"></span><br><span class="line">案例：查询员工表中涉及到的所有部门编号</span><br><span class="line"># 其中有很多重复的编号</span><br><span class="line">mysql&gt; SELECT department_id FROM employees;</span><br><span class="line">+---------------+</span><br><span class="line">| department_id |</span><br><span class="line">+---------------+</span><br><span class="line">|          NULL |</span><br><span class="line">|            10 |</span><br><span class="line">|            20 |</span><br><span class="line">|            20 |</span><br><span class="line">|            30 |</span><br><span class="line">|            30 |</span><br><span class="line"></span><br><span class="line"># 这样就将重复的数字去除了</span><br><span class="line">mysql&gt; select distinct department_id from employees;</span><br><span class="line">+---------------+</span><br><span class="line">| department_id |</span><br><span class="line">+---------------+</span><br><span class="line">|          NULL |</span><br><span class="line">|            10 |</span><br><span class="line">|            20 |</span><br><span class="line">|            30 |</span><br><span class="line">|            40 |</span><br><span class="line">注意:去重不能用于多个字段，只能用于单字段</span><br><span class="line"></span><br><span class="line">9、+号的作用</span><br><span class="line">在其他编程语言中+号是运算符，也是拼接符，</span><br><span class="line">而在MySQL中+号：</span><br><span class="line">		只有一个功能:运算符</span><br><span class="line">select 100+90; 	  两个操作数都是数值时，则做加法运算</span><br><span class="line">select &#39;123&#39;+90;  只要其中一方为字符型，试图将字符型转换成数值型</span><br><span class="line">				  如果转换成功，则继续做加法运算</span><br><span class="line">select &#39;john&#39;+90; 如果转换失败，则将字符型数值转换成0</span><br><span class="line">select null+90;   只要其中一方为null，则结果肯定为null</span><br><span class="line"></span><br><span class="line">案例：查询员工名和姓连接成一个字段，并显示为 姓名</span><br><span class="line">#虽然没报错，但是输出结果全是0，原因是+号和我们想象的不一样，这里并不是拼接的意思</span><br><span class="line">	mysql&gt; SELECT last_name+first_name AS 姓名 FROM employees;</span><br><span class="line">+------+</span><br><span class="line">| 姓名     |</span><br><span class="line">+------+</span><br><span class="line">|    0 |	</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">【补充】concat函数</span><br><span class="line">在MySQL中做拼接就不能用+号了而是用到一个函数CONCAT函数</span><br><span class="line"></span><br><span class="line">mysql&gt; SELECT CONCAT(last_name,first_name) AS 姓名 FROM employees;</span><br><span class="line">+------------------+</span><br><span class="line">| 姓名                 |</span><br><span class="line">+------------------+</span><br><span class="line">| K_ingSteven      |</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">【补充】ifnull函数</span><br><span class="line"></span><br><span class="line">IFNULL()函数用于判断第一个表达式是否为 NULL，如果为 NULL 则返回指定的值，如果不为 NULL 则返回原来的的值</span><br><span class="line"># 用IFNULL判断时候为null，结果为null返回0，不为null返回本身</span><br><span class="line">mysql&gt; SELECT CONCAT(first_name,&#39;,&#39;,last_name,&#39;,&#39;,IFNULL(commission_pct,0)) AS out_put FROM employees;</span><br><span class="line">+------------------------+</span><br><span class="line">| out_put                |</span><br><span class="line">+------------------------+</span><br><span class="line">| Steven,K_ing,0.00      |</span><br><span class="line">| Neena,Kochhar,0.00     |</span><br><span class="line">| John,Russell,0.40      |</span><br><span class="line"></span><br><span class="line">【补充】isnull函数</span><br><span class="line">判断某字段表达式是否为null，如果是，则返回1，否则返回0</span><br><span class="line">SELECT CONCAT(first_name,&#39;,&#39;,last_name,&#39;,&#39;,ISNULL(commission_pct,0)) AS out_put FROM employees;</span><br></pre></td></tr></table></figure>

<h4 id="条件查询"><a href="#条件查询" class="headerlink" title="条件查询"></a>条件查询</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;&gt;和!&#x3D;都是不等于的意思</span><br><span class="line">语法：</span><br><span class="line">	SELECT 查询列表 FROM 表名	WHERE 筛选条件;  #这里的where可以理解为if的意思</span><br><span class="line">	</span><br><span class="line">分类:</span><br><span class="line">	一、按条件表达式筛选(条件运算符):&gt;、&lt;、&#x3D;、&lt;&gt;(!&#x3D;)、&gt;&#x3D;、&lt;&#x3D;  #其中&lt;&gt;表示不等于，也可以用!&#x3D; </span><br><span class="line">	二、按逻辑表达式筛选(逻辑运算符):and、or、not</span><br><span class="line">	三、模糊查询:like、between and、in、is null</span><br></pre></td></tr></table></figure>

<h5 id="1、按条件表达式筛选"><a href="#1、按条件表达式筛选" class="headerlink" title="1、按条件表达式筛选"></a>1、按条件表达式筛选</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">案例一:查询工资&gt;12000的员工信息</span><br><span class="line">mysql&gt; SELECT * FROM employees WHERE salary&gt;12000;</span><br><span class="line">  案例二:查询部门编号不等于90号的员工名和部门编号</span><br><span class="line">mysql&gt; SELECT last_name,department_id FROM employees WHERE department_id&lt;&gt;90;</span><br></pre></td></tr></table></figure>

<h5 id="2、按逻辑表达式筛选"><a href="#2、按逻辑表达式筛选" class="headerlink" title="2、按逻辑表达式筛选"></a>2、按逻辑表达式筛选</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">案例一:查询工资在1w到2w之间的员工名、工资、以及奖金</span><br><span class="line">mysql&gt; SELECT</span><br><span class="line">    -&gt; last_name,salary,commission_pct</span><br><span class="line">    -&gt; FROM</span><br><span class="line">    -&gt; employees</span><br><span class="line">    -&gt; WHERE</span><br><span class="line">    -&gt; salary&gt;&#x3D;10000 AND salary&lt;&#x3D;20000;</span><br><span class="line">    </span><br><span class="line">案例一:查询部门编号不是在90到110之间，或者工资高于15000的员工信息</span><br><span class="line"> SELECT</span><br><span class="line">    -&gt; department_id,salary</span><br><span class="line">    -&gt; FROM</span><br><span class="line">    -&gt; employees</span><br><span class="line">    -&gt; WHERE</span><br><span class="line">    -&gt; department_id&lt;90 AND department_id&gt;110 OR salary&lt;15000;</span><br><span class="line">   	#还有一种是</span><br><span class="line">    -&gt; NOT(department_id&gt;&#x3D;90 AND department_id&lt;&#x3D;110) OR salary&lt;15000;</span><br></pre></td></tr></table></figure>

<h4 id="模糊查询"><a href="#模糊查询" class="headerlink" title="模糊查询"></a>模糊查询</h4><h5 id="一、like"><a href="#一、like" class="headerlink" title="一、like"></a>一、like</h5><h5 id="特点"><a href="#特点" class="headerlink" title="特点:"></a>特点:</h5><ul>
<li><h5 id="一般和通配符搭配使用"><a href="#一般和通配符搭配使用" class="headerlink" title="一般和通配符搭配使用"></a>一般和通配符搭配使用</h5></li>
<li><h5 id="通配符"><a href="#通配符" class="headerlink" title="通配符:"></a>通配符:</h5><ul>
<li><h5 id="任意多个字符，包含0个字符"><a href="#任意多个字符，包含0个字符" class="headerlink" title="% 任意多个字符，包含0个字符"></a>% 任意多个字符，包含0个字符</h5></li>
<li><h5 id="任意单个字符"><a href="#任意单个字符" class="headerlink" title="_ 任意单个字符"></a>_ 任意单个字符</h5></li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">		</span><br><span class="line">案例一:查询员工名中包含字符a的员工信息</span><br><span class="line">#a是字符用引号引起，%代表通配符</span><br><span class="line"></span><br><span class="line">mysql&gt; SELECT * FROM employees WHERE last_name like &#39;%a%&#39;;</span><br><span class="line"></span><br><span class="line">案例二:查询员工名中第三个字符为n，第五个字符为l的员工名和工资</span><br><span class="line"></span><br><span class="line">mysql&gt; SELECT salary,last_name FROM employees WHERE last_name LIKE &#39;__n_l%&#39;;</span><br><span class="line">+---------+-----------+</span><br><span class="line">| salary  | last_name |</span><br><span class="line">+---------+-----------+</span><br><span class="line">| 9000.00 | Hunold    |</span><br><span class="line">+---------+-----------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">案例三:查询员工名中第二个字符为下划线的 </span><br><span class="line">#可以用反斜杠转义</span><br><span class="line">mysql&gt; SELECT last_name FROM employees WHERE last_name LIKE &#39;_\_%&#39;;</span><br><span class="line">+-----------+</span><br><span class="line">| last_name |</span><br><span class="line">+-----------+</span><br><span class="line">| K_ing     |</span><br><span class="line">| K_ing     |</span><br><span class="line">+-----------+</span><br><span class="line"></span><br><span class="line">escape方法</span><br><span class="line">#可以不用反斜杠使用任意字符，然后再后面加一个 ESCAPE关键字，将之前的字符引起来就可以</span><br><span class="line">mysql&gt; SELECT last_name FROM employees WHERE last_name LIKE &#39;_^_%&#39; ESCAPE &#39;^&#39;;</span><br></pre></td></tr></table></figure>

<h5 id="二、between-and"><a href="#二、between-and" class="headerlink" title="二、between and"></a>二、between and</h5><p>1、使用between and 可以提高语句的简洁度</p>
<p>2、包含临界值</p>
<p>3、两个临界值不能调换顺序</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">案例1:查询员工编号100到120之间的员工信息</span><br><span class="line">#这样就不需要像之前用and一样，每个数值前都需要加上字段名</span><br><span class="line">现在:mysql&gt; SELECT employee_id FROM employees WHERE employee_id BETWEEN 100 AND 120;</span><br><span class="line"></span><br><span class="line">#之前:mysql&gt; SELECT employee_id FROM employees WHERE employee_id&gt;&#x3D;100 AND employee_id&lt;&#x3D;120;</span><br><span class="line"></span><br><span class="line">not between and</span><br><span class="line">mysql&gt; SELECT last_name,salary FROM employees WHERE salary NOT BETWEEN 8000 and 17000</span><br></pre></td></tr></table></figure>

<h5 id="三、in"><a href="#三、in" class="headerlink" title="三、in"></a>三、in</h5><h5 id="含义-判断某一字段的值是否属于in列表中的某一项，只要满足其中一项就可以，类似于or"><a href="#含义-判断某一字段的值是否属于in列表中的某一项，只要满足其中一项就可以，类似于or" class="headerlink" title="含义:判断某一字段的值是否属于in列表中的某一项，只要满足其中一项就可以，类似于or"></a>含义:判断某一字段的值是否属于in列表中的某一项，只要满足其中一项就可以，类似于or</h5><h5 id="特点-1"><a href="#特点-1" class="headerlink" title="特点:"></a>特点:</h5><h5 id="1、使用in提高了语句的简洁度"><a href="#1、使用in提高了语句的简洁度" class="headerlink" title="1、使用in提高了语句的简洁度"></a>1、使用in提高了语句的简洁度</h5><h5 id="2、in列表的值类型必须统一或者兼容"><a href="#2、in列表的值类型必须统一或者兼容" class="headerlink" title="2、in列表的值类型必须统一或者兼容"></a>2、in列表的值类型必须统一或者兼容</h5><h5 id="3、in列表不支持通配符"><a href="#3、in列表不支持通配符" class="headerlink" title="3、in列表不支持通配符"></a>3、in列表不支持通配符</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">案例:查询员工的工种编号是 IT_PROG、AD_VP中的一个员工名和工种编号</span><br><span class="line">现在:mysql&gt; SELECT last_name,job_id FROM employees WHERE job_id IN (&#39;IT_PROG&#39;,&#39;AD_VP&#39;);</span><br><span class="line"></span><br><span class="line">之前:mysql&gt; SELECT last_name,job_id FROM employees WHERE job_id&#x3D;&#39;IT_PROG&#39; OR job_id&#x3D;&#39;AD_VP&#39;;</span><br></pre></td></tr></table></figure>

<h5 id="四、is-null"><a href="#四、is-null" class="headerlink" title="四、is null"></a>四、is null</h5><h5 id="或者-lt-gt-不能用于判断null值"><a href="#或者-lt-gt-不能用于判断null值" class="headerlink" title="= 或者 &lt;&gt; 不能用于判断null值"></a>= 或者 &lt;&gt; 不能用于判断null值</h5><h5 id="is-null-或-is-not-null-可以判断null值"><a href="#is-null-或-is-not-null-可以判断null值" class="headerlink" title="is null 或 is not null 可以判断null值"></a>is null 或 is not null 可以判断null值</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">案例一:查询没有奖金的员工名和奖金率</span><br><span class="line">mysql&gt; SELECT last_name,commission_pct FROM employees WHERE commission_pct IS NULL;</span><br><span class="line">查询有奖金的:</span><br><span class="line">mysql&gt; SELECT last_name,commission_pct FROM employees WHERE commission_pct IS NOT NULL;</span><br></pre></td></tr></table></figure>

<h5 id="安全等于-lt-gt"><a href="#安全等于-lt-gt" class="headerlink" title="安全等于    &lt;=&gt;"></a>安全等于    &lt;=&gt;</h5><p>是判断是否等于，</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">案例一:查询没有奖金的员工名和奖金率</span><br><span class="line">mysql&gt; SELECT last_name,commission_pct FROM employees WHERE commission_pct &lt;&#x3D;&gt; NULL;</span><br><span class="line"></span><br><span class="line">案例二:查询工资12000的员工信息</span><br><span class="line">mysql&gt; SELECT last_name,salary FROM employees WHERE salary &lt;&#x3D;&gt; 12000;</span><br></pre></td></tr></table></figure>

<h4 id="排序查询"><a href="#排序查询" class="headerlink" title="排序查询"></a>排序查询</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">提点:</span><br><span class="line">	1、ASC是升序 DESC是降序，如果不写，默认是升序</span><br><span class="line">	2、order by子句中可以支持单个字段、多个字段、表达式、函数、别名</span><br><span class="line">	3、order by子句一般是放在查询语句的最后面，limit语句除外</span><br><span class="line">	</span><br><span class="line">语法一:</span><br><span class="line">	SELECT 查询列表 FROM 表 【WHERE 筛选条件】 ORDER BY 排序列表  |【ASC | DESC】</span><br><span class="line"></span><br><span class="line">案例:查询员工信息，要求工资从高到低排序  | 从低到高只需要把DESC修改成ASC就可以</span><br><span class="line">mysql&gt; SELECT * FROM employees WHERE salary ORDER BY salary DESC;</span><br><span class="line"></span><br><span class="line">案例二:查询部门编号&gt;&#x3D;90的员工信息,按入职时间的先后进行排序【添加筛选条件】</span><br><span class="line">mysql&gt; SELECT department_id,hiredate FROM employees WHERE department_id&gt;&#x3D;90 ORDER BY hiredate ASC;</span><br><span class="line"></span><br><span class="line">案例三:按年薪的高低显示员工的信息和年薪【按表达式排序】</span><br><span class="line">mysql&gt; SELECT *,salary*12*(1+IFNULL(commission_pct,0)) 年薪</span><br><span class="line">    -&gt; FROM employees</span><br><span class="line">    -&gt; ORDER BY salary*12*(1+IFNULL(commission_pct,0)) DESC;</span><br><span class="line">    </span><br><span class="line">案例四:按年薪的高低显示员工的信息和年薪【按别名排序】</span><br><span class="line">mysql&gt; SELECT *,salary*12*(1+IFNULL(commission_pct,0)) 年薪</span><br><span class="line">    -&gt; FROM employees</span><br><span class="line">    -&gt; ORDER BY 年薪 DESC;</span><br><span class="line">   </span><br><span class="line">案例五:按姓名的长度显示员工的姓名和工资【按函数排序】</span><br><span class="line">lenth()函数可以显示字符长度</span><br><span class="line">mysql&gt; SELECT LENGTH(last_name) 字节长度,last_name,salary FROM employees ORDER BY LENGTH(last_name);</span><br><span class="line"></span><br><span class="line">案例六:查询员工信息，要求先按照员工工资排序，再按员工编号排序【按多个字段排序】</span><br><span class="line">mysql&gt; SELECT * FROM employees ORDER BY salary ASC,employee_id DESC;</span><br></pre></td></tr></table></figure>

<h3 id="常见函数"><a href="#常见函数" class="headerlink" title="常见函数"></a>常见函数</h3><h5 id="概念-将一组逻辑语句封装在方法体中，对外暴露方法名"><a href="#概念-将一组逻辑语句封装在方法体中，对外暴露方法名" class="headerlink" title="概念:将一组逻辑语句封装在方法体中，对外暴露方法名"></a>概念:将一组逻辑语句封装在方法体中，对外暴露方法名</h5><h5 id="好处-1、隐藏了函数实现细节-2、提高了代码的重用性"><a href="#好处-1、隐藏了函数实现细节-2、提高了代码的重用性" class="headerlink" title="好处:1、隐藏了函数实现细节    2、提高了代码的重用性"></a>好处:1、隐藏了函数实现细节    2、提高了代码的重用性</h5><h5 id="调用-select-函数名-实参列表-【form-表】"><a href="#调用-select-函数名-实参列表-【form-表】" class="headerlink" title="调用: select 函数名(实参列表) 【form 表】;"></a>调用: select 函数名(实参列表) 【form 表】;</h5><h5 id="特点-2"><a href="#特点-2" class="headerlink" title="特点:"></a>特点:</h5><h5 id="函数名"><a href="#函数名" class="headerlink" title="函数名"></a>函数名</h5><h5 id="函数功能"><a href="#函数功能" class="headerlink" title="函数功能"></a>函数功能</h5><h5 id="分类"><a href="#分类" class="headerlink" title="分类:"></a>分类:</h5><h5 id="1、单行函数"><a href="#1、单行函数" class="headerlink" title="1、单行函数"></a>1、单行函数</h5><h5 id="如-concat、length、ifnull等"><a href="#如-concat、length、ifnull等" class="headerlink" title="如: concat、length、ifnull等"></a>如: concat、length、ifnull等</h5><h5 id="2、分组函数"><a href="#2、分组函数" class="headerlink" title="2、分组函数"></a>2、分组函数</h5><h5 id="功能：做统计使用，又称为统计函数、聚合函数、组函数"><a href="#功能：做统计使用，又称为统计函数、聚合函数、组函数" class="headerlink" title="功能：做统计使用，又称为统计函数、聚合函数、组函数"></a>功能：做统计使用，又称为统计函数、聚合函数、组函数</h5><h3 id="单行函数"><a href="#单行函数" class="headerlink" title="单行函数"></a>单行函数</h3><h4 id="单行函数-1"><a href="#单行函数-1" class="headerlink" title="单行函数:"></a>单行函数:</h4><ul>
<li><h5 id="字符函数"><a href="#字符函数" class="headerlink" title="字符函数"></a>字符函数</h5></li>
<li><h5 id="数学函数"><a href="#数学函数" class="headerlink" title="数学函数"></a>数学函数</h5></li>
<li><h5 id="日期函数"><a href="#日期函数" class="headerlink" title="日期函数"></a>日期函数</h5></li>
<li><h5 id="其他函数【补充】"><a href="#其他函数【补充】" class="headerlink" title="其他函数【补充】"></a>其他函数【补充】</h5></li>
<li><h5 id="流程控制函数【补充】"><a href="#流程控制函数【补充】" class="headerlink" title="流程控制函数【补充】"></a>流程控制函数【补充】</h5></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">单行函数</span><br><span class="line">总结:</span><br><span class="line">	字符函数:</span><br><span class="line">	length (获取字节长度)</span><br><span class="line">	concat(拼接字符)</span><br><span class="line">	upper(将字母大写)</span><br><span class="line">	lower(将字母小写)</span><br><span class="line">	substr(索引)</span><br><span class="line">	instr(返回第一次索引的位置)</span><br><span class="line">	trim(去除开头和结尾)</span><br><span class="line">	lpad(用指定字符实现左填充)</span><br><span class="line">	rpad(用指定字符实现右填充)</span><br><span class="line">	replace(替换)</span><br><span class="line">数学函数:</span><br><span class="line">	round(四舍五入)</span><br><span class="line">	ceil(向上取整)</span><br><span class="line">	floor(向下取整)</span><br><span class="line">	truncate(截断)</span><br><span class="line">	mod(取余)</span><br><span class="line">	rand(获取随机数)，返回0-1之间的小数，无限接近于1但到不了1</span><br><span class="line">日期函数:</span><br><span class="line">	now(返回当前日期和时间)</span><br><span class="line">	curdate(返回当前日期)</span><br><span class="line">	curtime(返回当前时间)</span><br><span class="line">	year(年)</span><br><span class="line">	month(月)</span><br><span class="line">	day(日)</span><br><span class="line">	hour(小时)</span><br><span class="line">	minute(分钟)</span><br><span class="line">	second(秒)</span><br><span class="line">	str_to_date(将字符通过指定的格式转换成日期)</span><br><span class="line">	date_format(将日期转换成字符)</span><br><span class="line">	ditediff(两个日期相差的天数)</span><br><span class="line">	monthname(以英文形式返回月)</span><br><span class="line">其他函数:</span><br><span class="line">	version(查看当前系统版本)</span><br><span class="line">	datebase(查看当前库名)</span><br><span class="line">	user(查看当前用户)</span><br><span class="line">	password(&#39;字符&#39;):返回该字符的密码形式，也就是自动加密</span><br><span class="line">	md5(&#39;字符&#39;):返回md5加密形式</span><br><span class="line">流程控制函数：</span><br><span class="line">	if(类似于if else)</span><br><span class="line">	case(类似于 swith default)</span><br></pre></td></tr></table></figure>



<h5 id="一、字符函数"><a href="#一、字符函数" class="headerlink" title="一、字符函数"></a>一、字符函数</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line">1、length 获取参数值的字节个数</span><br><span class="line">mysql&gt; SELECT LENGTH(&#39;john&#39;);</span><br><span class="line"></span><br><span class="line">2、concat 拼接字符串</span><br><span class="line">mysql&gt; SELECT CONCAT(last_name,&#39;_&#39;,first_name) FROM employees;</span><br><span class="line"></span><br><span class="line">3、upper、lower  upper将想写变成大写，lower是将大写变成小写</span><br><span class="line">mysql&gt; SELECT UPPER(&#39;joke&#39;);</span><br><span class="line">mysql&gt; SELECT LOWER(&#39;jokE&#39;);</span><br><span class="line">示例:将姓大写，名小写，然后拼接</span><br><span class="line">mysql</span><br><span class="line">&gt; SELECT CONCAT(UPPER(last_name),LOWER(first_name)) 姓名 FROM employees;</span><br><span class="line"></span><br><span class="line">4、substr、substring	索引</span><br><span class="line">注意:索引是从1开始的，截取指定索引处后面所有的字符</span><br><span class="line">mysql&gt; SELECT SUBSTR(&#39;世间美好与你环环相扣&#39;,5) out_put;</span><br><span class="line"></span><br><span class="line">截取从指定索引处指定字符长度的字符</span><br><span class="line">mysql&gt; SELECT SUBSTR(&#39;世间美好与你环环相扣&#39;，1,4) out_put;</span><br><span class="line"></span><br><span class="line">案例:姓名中首字符大写，其他字符小写，然后用_拼接，显示出来</span><br><span class="line">mysql&gt; SELECT CONCAT(UPPER(SUBSTR(last_name,1,1)),&#39;_&#39;,LOWER(SUBSTR(last_name,2))) out_put FROM employees;</span><br><span class="line"></span><br><span class="line">5、instr	返回子串第一次出现的索引，如果找不到返回0</span><br><span class="line">mysql&gt; SELECT INSTR(&#39;杨过和小龙女&#39;,&#39;小龙女&#39;) out_put;</span><br><span class="line">+---------+</span><br><span class="line">| out_put |</span><br><span class="line">+---------+</span><br><span class="line">|       4 |</span><br><span class="line">+---------+</span><br><span class="line"></span><br><span class="line">6、trim</span><br><span class="line">注意:trim只能去除开头和结尾，中间不能去除</span><br><span class="line">mysql&gt; SELECT TRIM(&#39;     皮卡丘     &#39;) out_put;</span><br><span class="line">+---------+</span><br><span class="line">| out_put |</span><br><span class="line">+---------+</span><br><span class="line">| 皮卡丘       |</span><br><span class="line">+---------+</span><br><span class="line"></span><br><span class="line">#可以加上length来查看字符长度，看看是否将空格去除了</span><br><span class="line">mysql&gt; SELECT LENGTH(TRIM(&#39;      皮卡丘      &#39;)) out_put;</span><br><span class="line">+---------+</span><br><span class="line">| out_put |</span><br><span class="line">+---------+</span><br><span class="line">|       6 |</span><br><span class="line">+---------+</span><br><span class="line"></span><br><span class="line">案例一、aaaaaaa皮卡丘aaaaaaaa将a去除，只显示皮卡丘</span><br><span class="line"># 只需要在前面加上你想要去掉的符号就可以</span><br><span class="line">mysql&gt; SELECT TRIM(&#39;a&#39; FROM &#39;aaaaaaa皮卡丘aaaaaaaa&#39;) out_put;</span><br><span class="line">+---------+</span><br><span class="line">| out_put |</span><br><span class="line">+---------+</span><br><span class="line">| 皮卡丘       |</span><br><span class="line">+---------+</span><br><span class="line"></span><br><span class="line">7、lpad  用指定字符实现左填充指定长度</span><br><span class="line">mysql&gt; SELECT LPAD(&#39;小智&#39;,10,&#39;*&#39;) out_put;</span><br><span class="line">+--------------+</span><br><span class="line">| out_put      |</span><br><span class="line">+--------------+</span><br><span class="line">| ********小智    |</span><br><span class="line">+--------------+</span><br><span class="line"></span><br><span class="line">8、rpad  用指定字符实现右填充指定长度</span><br><span class="line">mysql&gt; SELECT RPAD(&#39;小智&#39;,10,&#39;*&#39;) out_put;</span><br><span class="line">+--------------+</span><br><span class="line">| out_put      |</span><br><span class="line">+--------------+</span><br><span class="line">| 小智********    |</span><br><span class="line">+--------------+</span><br><span class="line"></span><br><span class="line">9、replace  替换</span><br><span class="line">#将周芷若替换成了赵敏</span><br><span class="line">mysql&gt; SELECT REPLACE(&#39;张无忌爱上了周芷若&#39;,&#39;周芷若&#39;,&#39;赵敏&#39;) AS out_put;</span><br><span class="line">+------------------+</span><br><span class="line">| out_put          |</span><br><span class="line">+------------------+</span><br><span class="line">| 张无忌爱上了赵敏               |</span><br><span class="line">+------------------+</span><br></pre></td></tr></table></figure>

<h5 id="二、数学函数"><a href="#二、数学函数" class="headerlink" title="二、数学函数"></a>二、数学函数</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">1、round  四舍五入</span><br><span class="line">mysql&gt; SELECT ROUND(4.6) number;</span><br><span class="line"></span><br><span class="line">2、ceil  向上取整，返回&gt;&#x3D;该参数的最小整数</span><br><span class="line">mysql&gt; SELECT CEIL(1.0000002) AS number;</span><br><span class="line">+--------+</span><br><span class="line">| number |</span><br><span class="line">+--------+</span><br><span class="line">|      2 |</span><br><span class="line">+--------+</span><br><span class="line"></span><br><span class="line">3、floor  向下取整，返回&lt;&#x3D;该参数的最大整数</span><br><span class="line">mysql&gt; SELECT FLOOR(1.0000002) AS number;</span><br><span class="line">+--------+</span><br><span class="line">| number |</span><br><span class="line">+--------+</span><br><span class="line">|      1 |</span><br><span class="line">+--------+</span><br><span class="line"></span><br><span class="line">4、truncate  截断</span><br><span class="line"># 4 表示保留小数点后几位</span><br><span class="line">mysql&gt; SELECT TRUNCATE(3.1415926,4) AS number;</span><br><span class="line">+--------+</span><br><span class="line">| number |</span><br><span class="line">+--------+</span><br><span class="line">| 3.1415 |</span><br><span class="line">+--------+</span><br><span class="line"></span><br><span class="line">5、mod  取余</span><br><span class="line">mysql&gt; SELECT MOD(10,8) AS number;</span><br><span class="line">+--------+</span><br><span class="line">| number |</span><br><span class="line">+--------+</span><br><span class="line">|      2 |</span><br><span class="line">+--------+</span><br></pre></td></tr></table></figure>

<h5 id="三、日期函数"><a href="#三、日期函数" class="headerlink" title="三、日期函数"></a>三、日期函数</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">1、now 返回当前系统+日期</span><br><span class="line">mysql&gt; SELECT NOW();</span><br><span class="line">+---------------------+</span><br><span class="line">| NOW()               |</span><br><span class="line">+---------------------+</span><br><span class="line">| 2020-02-05 15:09:28 |</span><br><span class="line">+---------------------+</span><br><span class="line"></span><br><span class="line">2、curdate  放回当前系统日期，不包含时间</span><br><span class="line">mysql&gt; SELECT CURDATE();</span><br><span class="line">+------------+</span><br><span class="line">| CURDATE()  |</span><br><span class="line">+------------+</span><br><span class="line">| 2020-02-05 |</span><br><span class="line">+------------+</span><br><span class="line"></span><br><span class="line">3、curtime 返回当前系统时间，不包含日期</span><br><span class="line">mysql&gt; SELECT CURTIME();</span><br><span class="line">+-----------+</span><br><span class="line">| CURTIME() |</span><br><span class="line">+-----------+</span><br><span class="line">| 15:21:07  |</span><br><span class="line">+-----------+</span><br><span class="line"></span><br><span class="line">4、可以获取指定的部分，年、月、日、小时、分钟、秒</span><br><span class="line"># 年(year)、月(month)、日(day)、小时(hour)、分钟(Minute)、秒(second)</span><br><span class="line">mysql&gt; SELECT YEAR(NOW());</span><br><span class="line">+-------------+</span><br><span class="line">| YEAR(NOW()) |</span><br><span class="line">+-------------+</span><br><span class="line">|        2020 |</span><br><span class="line">+-------------+</span><br><span class="line"></span><br><span class="line">5、str_to_date 将字符通过指定的格式转换成日期</span><br><span class="line">mysql&gt; SELECT STR_TO_DATE(&#39;2020-23-2&#39;,&#39;%Y-%d-%c&#39;);</span><br><span class="line">+-------------------------------------+</span><br><span class="line">| STR_TO_DATE(&#39;2020-23-2&#39;,&#39;%Y-%d-%c&#39;) |</span><br><span class="line">+-------------------------------------+</span><br><span class="line">| 2020-02-23                          |</span><br><span class="line">+-------------------------------------+</span><br><span class="line"></span><br><span class="line">案例一:查询入职时间为1992-4-3的员工信息</span><br><span class="line">mysql&gt; SELECT hiredate FROM employees WHERE hiredate &#x3D; STR_TO_DATE(&#39;4-3-1992&#39;,&#39;%c-%d-%Y&#39;);</span><br><span class="line">+---------------------+</span><br><span class="line">| hiredate            |</span><br><span class="line">+---------------------+</span><br><span class="line">| 1992-04-03 00:00:00 |</span><br><span class="line">| 1992-04-03 00:00:00 |</span><br><span class="line">| 1992-04-03 00:00:00 |</span><br><span class="line">| 1992-04-03 00:00:00 |</span><br><span class="line">| 1992-04-03 00:00:00 |</span><br><span class="line">+---------------------+</span><br><span class="line"></span><br><span class="line">date_format:将日期转换成字符</span><br><span class="line">mysql&gt; SELECT DATE_FORMAT(&#39;2020&#x2F;2&#x2F;5&#39;,&#39;%Y年%m月%d日&#39;);</span><br><span class="line">+----------------------------------------+</span><br><span class="line">| DATE_FORMAT(&#39;2020&#x2F;2&#x2F;5&#39;,&#39;%Y年%m月%d日&#39;)       |</span><br><span class="line">+----------------------------------------+</span><br><span class="line">| 2020年02月05日                               |</span><br><span class="line">+----------------------------------------+</span><br><span class="line"></span><br><span class="line">案例一:查询有奖金的员工名和入职日期(××月&#x2F;××日 ××年)</span><br><span class="line">mysql&gt; SELECT last_name,DATE_FORMAT(hiredate,&#39;%m月%d日 %y年&#39;) FROM employees WHERE commission_pct IS NOT NULL;</span><br><span class="line">+------------+---------------------------------------+</span><br><span class="line">| last_name  | DATE_FORMAT(hiredate,&#39;%m月%d日 %y年&#39;)       |</span><br><span class="line">+------------+---------------------------------------+</span><br><span class="line">| Russell    | 12月23日 02年                               |</span><br><span class="line">| Partners   | 12月23日 02年                               |</span><br></pre></td></tr></table></figure>

<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/1581511994303.png" alt="1580887767466"></p>
<h5 id="四、其他函数"><a href="#四、其他函数" class="headerlink" title="四、其他函数"></a>四、其他函数</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">select version();  查看当前版本</span><br><span class="line">select datebase(); 查看当前数据库</span><br><span class="line">select user();  代表当前用户</span><br></pre></td></tr></table></figure>

<h5 id="五、流程控制函数"><a href="#五、流程控制函数" class="headerlink" title="五、流程控制函数"></a>五、流程控制函数</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line">1、if函数: 类似于 if else 的效果</span><br><span class="line"></span><br><span class="line">#括号里面的数值，第一个是条件表达式，如果条件成立输出第二个，如果不成立，输出第三个</span><br><span class="line">10&gt;2成立，输出  大 </span><br><span class="line">mysql&gt; select if(10&gt;2,&#39;大&#39;,&#39;小&#39;);</span><br><span class="line"># 10&lt;2条件不成立，输出 小</span><br><span class="line">mysql&gt; select if(10&lt;2,&#39;大&#39;,&#39;小&#39;);</span><br><span class="line"></span><br><span class="line">案例一:将有奖金的员工名打印有，没有奖金的打印无</span><br><span class="line">mysql&gt; select last_name,commission_pct,if(commission_pct is null,&#39;无&#39;,&#39;有&#39;) 奖金 from employees;</span><br><span class="line"></span><br><span class="line">2、case函数的使用方法一	大部分用于等值判断</span><br><span class="line">在when中值不需要加;分号，语句需要加;分号</span><br><span class="line">&#x2F;*</span><br><span class="line">语法:</span><br><span class="line">    case 要判断的字段或表达式</span><br><span class="line">    when 常量1 then 要显示的值1或语句1;</span><br><span class="line">    when 常量2 then 要显示的值2或语句2;</span><br><span class="line">    ...</span><br><span class="line">    else 要显示的值n或语句n;</span><br><span class="line">    end</span><br><span class="line">*&#x2F;</span><br><span class="line"></span><br><span class="line">案例:查询员工的工资，要求:</span><br><span class="line">部门号&#x3D;30，显示工资1.1倍</span><br><span class="line">部门号&#x3D;40，显示工资1.2倍</span><br><span class="line">部门号&#x3D;50，显示工资1.3倍</span><br><span class="line">其他部门，显示工资为原工资</span><br><span class="line">mysql&gt; select salary,department_id,</span><br><span class="line">    -&gt; case department_id</span><br><span class="line">    -&gt; when 30 then salary*1.1</span><br><span class="line">    -&gt; when 40 then salary*1.2</span><br><span class="line">    -&gt; when 50 then salary*1.3</span><br><span class="line">    -&gt; else salary</span><br><span class="line">    -&gt; end as 新工资</span><br><span class="line">    -&gt; from employees;</span><br><span class="line">+----------+---------------+----------+</span><br><span class="line">| salary   | department_id | 新工资        |</span><br><span class="line">+----------+---------------+----------+</span><br><span class="line">| 24000.00 |            90 | 24000.00 |</span><br><span class="line">| 17000.00 |            90 | 17000.00 |</span><br><span class="line">| 17000.00 |            90 | 17000.00 |</span><br><span class="line">|  9000.00 |            60 |  9000.00 |</span><br><span class="line">|  6000.00 |            60 |  6000.00 |</span><br><span class="line"></span><br><span class="line">3、case 函数的使用二	大部分用于判断大于小于</span><br><span class="line">&#x2F;*</span><br><span class="line">语法:</span><br><span class="line">    case </span><br><span class="line">    when 条件1 then 要显示的值1</span><br><span class="line">    when 条件2 then 要显示的值2</span><br><span class="line">    ...</span><br><span class="line">    else 要显示的值n或语句n;</span><br><span class="line">    end</span><br><span class="line">*&#x2F;</span><br><span class="line">案例一:查询员工的工资情况</span><br><span class="line">如果工资&gt;20000,显示A级别</span><br><span class="line">如果工资&gt;15000,显示B级别</span><br><span class="line">如果工资&gt;10000,显示C级别</span><br><span class="line">其他显示D级别</span><br><span class="line">mysql&gt; select salary,</span><br><span class="line">    -&gt; case</span><br><span class="line">    -&gt; when salary&gt;20000 then &#39;A&#39;</span><br><span class="line">    -&gt; when salary&gt;15000 then &#39;B&#39;</span><br><span class="line">    -&gt; when salary&gt;10000 then &#39;C&#39;</span><br><span class="line">    -&gt; else &#39;D&#39;</span><br><span class="line">    -&gt; end as 工资级别</span><br><span class="line">    -&gt; from employees;</span><br><span class="line">+----------+----------+</span><br><span class="line">| salary   | 工资级别        |</span><br><span class="line">+----------+----------+</span><br><span class="line">| 24000.00 | A        |</span><br><span class="line">| 17000.00 | B        |</span><br><span class="line">|  9000.00 | D        |</span><br><span class="line">| 12000.00 | C        |</span><br></pre></td></tr></table></figure>

<h4 id="分组函数"><a href="#分组函数" class="headerlink" title="分组函数"></a>分组函数</h4><h5 id="功能-用作统计使用，又成为聚合函数或统计函数或组函数"><a href="#功能-用作统计使用，又成为聚合函数或统计函数或组函数" class="headerlink" title="功能:用作统计使用，又成为聚合函数或统计函数或组函数"></a>功能:用作统计使用，又成为聚合函数或统计函数或组函数</h5><h5 id="分类-1"><a href="#分类-1" class="headerlink" title="分类:"></a>分类:</h5><h5 id="sum-求和、avg-平均值、max-最大值、min-最小值、count-计算个数"><a href="#sum-求和、avg-平均值、max-最大值、min-最小值、count-计算个数" class="headerlink" title="sum 求和、avg 平均值、max 最大值、min 最小值、count 计算个数"></a>sum 求和、avg 平均值、max 最大值、min 最小值、count 计算个数</h5><h5 id="特点-3"><a href="#特点-3" class="headerlink" title="特点:"></a>特点:</h5><h5 id="1、sum、avg-一般用于处理数值型"><a href="#1、sum、avg-一般用于处理数值型" class="headerlink" title="1、sum、avg 一般用于处理数值型"></a>1、sum、avg 一般用于处理数值型</h5><h5 id="max、min、count可以处理任何类型"><a href="#max、min、count可以处理任何类型" class="headerlink" title="max、min、count可以处理任何类型"></a>max、min、count可以处理任何类型</h5><h5 id="2、以上分组函数都忽略null值"><a href="#2、以上分组函数都忽略null值" class="headerlink" title="2、以上分组函数都忽略null值"></a>2、以上分组函数都忽略null值</h5><h5 id="3、可以和distinct搭配是去重运算-select-sum-distinct-字段-from-表"><a href="#3、可以和distinct搭配是去重运算-select-sum-distinct-字段-from-表" class="headerlink" title="3、可以和distinct搭配是去重运算      select sum(distinct 字段) from 表"></a>3、可以和distinct搭配是去重运算      select sum(distinct 字段) from 表</h5><h5 id="4、count函数的单独介绍，一般使用count-用作统计行数"><a href="#4、count函数的单独介绍，一般使用count-用作统计行数" class="headerlink" title="4、count函数的单独介绍，一般使用count()用作统计行数"></a>4、count函数的单独介绍，一般使用count()用作统计行数</h5><h5 id="5、和分组函数一同查询的字段要求是group-by后的字段"><a href="#5、和分组函数一同查询的字段要求是group-by后的字段" class="headerlink" title="5、和分组函数一同查询的字段要求是group by后的字段"></a>5、和分组函数一同查询的字段要求是group by后的字段</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">1、简单的使用</span><br><span class="line">mysql&gt; select sum(salary) from employees; #salary的全部和</span><br><span class="line">mysql&gt; select avg(salary) from employees; #salary的平均值</span><br><span class="line">mysql&gt; select max(salary) from employees; #salary的最大值</span><br><span class="line">mysql&gt; select min(salary) from employees; #salary的最小值</span><br><span class="line">mysql&gt; select count(salary) from employees; #计算有多少个salary</span><br><span class="line"></span><br><span class="line">可以将函数一起使用</span><br><span class="line">mysql&gt; select sum(salary) 和,avg(salary) 平均,max(salary) 最大,min(salary) 最小,count(salary) 个数 from employees;</span><br><span class="line"></span><br><span class="line">2、参数支持那些类型</span><br><span class="line">sum、avg一般用于处理数值型</span><br><span class="line">max、min、count可以处理任何类型</span><br><span class="line">   </span><br><span class="line">mysql&gt; select sum(salary),avg(salary) from employees;</span><br><span class="line">mysql&gt; select max(last_name),min(salary),count(last_name) from employees;</span><br><span class="line"></span><br><span class="line">3、是否忽略null值</span><br><span class="line">以上分组函数都忽略null值</span><br><span class="line">mysql&gt; select sum(commission_pct),avg(commission_pct) from employees;</span><br><span class="line">mysql&gt; select max(commission_pct),min(commission_pct) from employees;</span><br><span class="line">mysql&gt; select count(commission_pct) from employees;</span><br><span class="line"></span><br><span class="line">4、和distinct的搭配</span><br><span class="line">其他分组函数全都支持distinct去重</span><br><span class="line">mysql&gt; select sum(distinct salary),sum(salary) from employees;</span><br><span class="line">+----------------------+-------------+</span><br><span class="line">| sum(distinct salary) | sum(salary) |</span><br><span class="line">+----------------------+-------------+</span><br><span class="line">|            397900.00 |   691400.00 |</span><br><span class="line">+----------------------+-------------+</span><br><span class="line"></span><br><span class="line">计算有几个工资，去重之后是57个原始的个数是107个</span><br><span class="line">mysql&gt; select count(distinct salary),count(salary) from employees;</span><br><span class="line">+------------------------+---------------+</span><br><span class="line">| count(distinct salary) | count(salary) |</span><br><span class="line">+------------------------+---------------+</span><br><span class="line">|                     57 |           107 |</span><br><span class="line">+------------------------+---------------+</span><br><span class="line"></span><br><span class="line">5、count函数详细介绍</span><br><span class="line">#统计行数也就是个数</span><br><span class="line">mysql&gt; select count(*) from employees;</span><br><span class="line">#和以上方法意思相同</span><br><span class="line">mysql&gt; select count(1) from employees;</span><br><span class="line"></span><br><span class="line">效率:</span><br><span class="line">5.5版本之前用myisam存储引擎下，count(*)的效率高</span><br><span class="line">5.5版本之后用innodb存储引擎下，count(*)和count(1)效率差不多，但比count(字段)要高，如果里面加字段，他会进行一个判断，判断是否为null如果为null不加1</span><br><span class="line"></span><br><span class="line">6、和分组函数一同查询的字段有限制</span><br><span class="line">#虽然语法没报错但是它的employee_id是错误的</span><br><span class="line">mysql&gt; select avg(salary),employee_id from employees;</span><br><span class="line">+-------------+-------------+</span><br><span class="line">| avg(salary) | employee_id |</span><br><span class="line">+-------------+-------------+</span><br><span class="line">| 6461.682243 |         100 |</span><br><span class="line">+-------------+-------------+</span><br></pre></td></tr></table></figure>

<h4 id="分组查询"><a href="#分组查询" class="headerlink" title="分组查询"></a>分组查询</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">特点：</span><br><span class="line">	1、分组查询中的筛选条件分为两类</span><br><span class="line"> 	分组前筛选	原始表		它的位置是在group by 子句的前面		关键字是where</span><br><span class="line"> 	分组后筛选	分组后的结果集		它的位置是在group by 子句的后面	关键字是having</span><br><span class="line"> 		①分组函数做条件一定是放在having子句中</span><br><span class="line"> 		②能用分组前筛选的，就优先考虑使用分组前筛选</span><br><span class="line"> 2、group by子句支持单个字段分组、多个字段分组(多个字段之间用&quot;,&quot;逗号隔开没有顺寻要求)，表达式或函数(用得较少)</span><br><span class="line"> 3、也可以添加排序(排序放在整个分段查询的最后)</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">语法:</span><br><span class="line">​	select 分组函数,字段(要求出现在group by的后面)</span><br><span class="line">​	from 表名</span><br><span class="line">​	【where 筛选条件】</span><br><span class="line">​	group by 分组的列表</span><br><span class="line">​	【order by 子句】</span><br><span class="line"></span><br><span class="line">注意:  370</span><br><span class="line">	查询列表必须特殊，要求是分组函数和group by后出现的字段</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">简单的分组查询</span><br><span class="line"></span><br><span class="line">案例一:查询每个工种的最高工资</span><br><span class="line">mysql&gt; select max(salary),job_id</span><br><span class="line">    -&gt; from employees</span><br><span class="line">    -&gt; group by job_id;</span><br><span class="line">    </span><br><span class="line">案例二:查询每个位置上的部门个数</span><br><span class="line">mysql&gt; select count(*),location_id</span><br><span class="line">    -&gt; from departments</span><br><span class="line">    -&gt; group by location_id;</span><br><span class="line">    </span><br><span class="line">添加分组前的筛选条件</span><br><span class="line">案例一: 查询邮箱中包含a字符的，每个部门的平均工资</span><br><span class="line">mysql&gt; select avg(salary),department_id</span><br><span class="line">    -&gt; from employees</span><br><span class="line">    -&gt; where email like &#39;%a%&#39;</span><br><span class="line">    -&gt; group by department_id;</span><br><span class="line"></span><br><span class="line">案例二:查询有奖金的每个领导手下员工的最高工资</span><br><span class="line">mysql&gt; select max(salary),manager_id</span><br><span class="line">    -&gt; from employees</span><br><span class="line">    -&gt; where commission_pct is not null</span><br><span class="line">    -&gt; group by manager_id;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">添加分组后的的筛选条件</span><br><span class="line">案例一:查询哪个部门的员工表个数&gt;2</span><br><span class="line">mysql&gt; select count(*),department_id</span><br><span class="line">    -&gt; from employees</span><br><span class="line">    -&gt; group by department_id</span><br><span class="line">    -&gt; having count(*)&gt;2;</span><br><span class="line">+----------+---------------+</span><br><span class="line">| count(*) | department_id |</span><br><span class="line">+----------+---------------+</span><br><span class="line">|        6 |            30 |</span><br><span class="line">|       45 |            50 |</span><br><span class="line">|        5 |            60 |</span><br><span class="line">|       34 |            80 |</span><br><span class="line">|        3 |            90 |</span><br><span class="line">|        6 |           100 |</span><br><span class="line">+----------+---------------+  </span><br><span class="line"></span><br><span class="line">案例二:查询每个工种有奖金的员工的最高工资&gt;12000的工种编号和最高工资</span><br><span class="line">mysql&gt; select max(salary),job_id</span><br><span class="line">    -&gt; from employees</span><br><span class="line">    -&gt; where commission_pct is not null</span><br><span class="line">    -&gt; group by job_id</span><br><span class="line">    -&gt; having max(salary)&gt;12000;</span><br><span class="line">+-------------+--------+</span><br><span class="line">| max(salary) | job_id |</span><br><span class="line">+-------------+--------+</span><br><span class="line">|    14000.00 | SA_MAN |</span><br><span class="line">+-------------+--------+</span><br><span class="line"></span><br><span class="line">案例三:查询领导编号&gt;102的每个领导手下的最低工资&gt;5000的领导编号是那个，以及其最低工资</span><br><span class="line">mysql&gt; select min(salary),manager_id</span><br><span class="line">    -&gt; from employees</span><br><span class="line">    -&gt; where manager_id&gt;102</span><br><span class="line">    -&gt; group by manager_id</span><br><span class="line">    -&gt; having min(salary)&gt;5000;</span><br><span class="line">+-------------+------------+</span><br><span class="line">| min(salary) | manager_id |</span><br><span class="line">+-------------+------------+</span><br><span class="line">|     6900.00 |        108 |</span><br><span class="line">|     7000.00 |        145 |</span><br><span class="line">|     7000.00 |        146 |</span><br><span class="line">|     6200.00 |        147 |</span><br><span class="line">|     6100.00 |        148 |</span><br><span class="line">|     6200.00 |        149 |</span><br><span class="line">|     6000.00 |        201 |</span><br><span class="line">|     8300.00 |        205 |</span><br><span class="line">+-------------+------------+</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">按表达式或函数分组</span><br><span class="line"></span><br><span class="line">案例:员工姓名的长度分组，查询每一组的员工个数，筛选员工个数大于5的有哪些</span><br><span class="line">mysql&gt; select count(*),length(last_name)</span><br><span class="line">    -&gt; from employees</span><br><span class="line">    -&gt; group by length(last_name)</span><br><span class="line">    -&gt; having count(*)&gt;5;    </span><br><span class="line">+----------+-------------------+</span><br><span class="line">| count(*) | length(last_name) |</span><br><span class="line">+----------+-------------------+</span><br><span class="line">|       11 |                 4 |</span><br><span class="line">|       29 |                 5 |</span><br><span class="line">|       28 |                 6 |</span><br><span class="line">|       15 |                 7 |</span><br><span class="line">|        7 |                 8 |</span><br><span class="line">|        8 |                 9 |</span><br><span class="line">+----------+-------------------+</span><br><span class="line">按多个字段分组</span><br><span class="line">案例:查询每个部门每个工种的员工的平均工资</span><br><span class="line">mysql&gt; select avg(salary),department_id,job_id</span><br><span class="line">    -&gt; from employees</span><br><span class="line">    -&gt; group by department_id,job_id;</span><br><span class="line">+--------------+---------------+------------+</span><br><span class="line">| avg(salary)  | department_id | job_id     |</span><br><span class="line">+--------------+---------------+------------+</span><br><span class="line">|  7000.000000 |          NULL | SA_REP     |</span><br><span class="line">|  4400.000000 |            10 | AD_ASST    |</span><br><span class="line">| 13000.000000 |            20 | MK_MAN     |</span><br><span class="line">    </span><br><span class="line">添加排序</span><br><span class="line">案例:查询每个部门每个工种的员工的平均工资，并且按平均工资的高低显示</span><br><span class="line">mysql&gt; select avg(salary),department_id,job_id</span><br><span class="line">    -&gt; from employees</span><br><span class="line">    -&gt; group by department_id,job_id</span><br><span class="line">    -&gt; order by avg(salary) desc;</span><br><span class="line">+--------------+---------------+------------+</span><br><span class="line">| avg(salary)  | department_id | job_id     |</span><br><span class="line">+--------------+---------------+------------+</span><br><span class="line">| 24000.000000 |            90 | AD_PRES    |</span><br><span class="line">| 17000.000000 |            90 | AD_VP      |</span><br><span class="line">| 13000.000000 |            20 | MK_MAN     |</span><br><span class="line">| 100.000000 |            80 | SA_MAN     |</span><br></pre></td></tr></table></figure>

<h4 id="连接查询"><a href="#连接查询" class="headerlink" title="连接查询"></a>连接查询</h4><h5 id="多表连接"><a href="#多表连接" class="headerlink" title="多表连接"></a>多表连接</h5><h5 id="含义-又被称为多表查询，当查询的字段来自多个表时，就会用到连接查询"><a href="#含义-又被称为多表查询，当查询的字段来自多个表时，就会用到连接查询" class="headerlink" title="含义:又被称为多表查询，当查询的字段来自多个表时，就会用到连接查询"></a>含义:又被称为多表查询，当查询的字段来自多个表时，就会用到连接查询</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">笛卡尔乘积现象:表一 有m行，表2有n行，结果是&#x3D;m*n行</span><br><span class="line">发生原因:没有有效的连接条件</span><br><span class="line">如何避免:添加有效的连接条件</span><br><span class="line"></span><br><span class="line">分类:</span><br><span class="line">	按年代分类:</span><br><span class="line">	sql92标准:仅仅支持内连接</span><br><span class="line">	sql99标准(推荐):支持内连接+外连接(左外和右外)+交叉连接</span><br><span class="line">	</span><br><span class="line">	sql92:</span><br><span class="line">		内连接</span><br><span class="line">		</span><br><span class="line">	sql99:</span><br><span class="line">		内连接</span><br><span class="line">		外连接</span><br><span class="line">		交叉连接</span><br><span class="line">	</span><br><span class="line">	按功能分类:</span><br><span class="line">		内连接:</span><br><span class="line">			等值连接</span><br><span class="line">			非等值连接</span><br><span class="line">			自连接</span><br><span class="line">		外连接:</span><br><span class="line">			左外连接</span><br><span class="line">			右外连接</span><br><span class="line">			全外连接(MySQL不支持)			</span><br><span class="line">		交叉连接</span><br><span class="line"></span><br><span class="line">错误语法:select name,boyName from beauty,boys;</span><br><span class="line">笛卡尔集的错误情况:</span><br><span class="line">select count(*) from beauty;</span><br><span class="line">假设输出12行</span><br><span class="line">select count(*) from boys;</span><br><span class="line">假设输出4行</span><br><span class="line">最终结果:12*4&#x3D;48行</span><br><span class="line"></span><br><span class="line">正确语法</span><br><span class="line">select 表,表 from 库 where 表.字段&#x3D;表.字段;</span><br><span class="line"></span><br><span class="line">mysql&gt; select name,boyName from boys,beauty</span><br><span class="line">    -&gt; where 等值连接;</span><br><span class="line">    -&gt; 【and 筛选条件】</span><br><span class="line">    -&gt; 【group by 分组】</span><br><span class="line">    -&gt; 【having 分组后筛选】</span><br><span class="line">    -&gt; 【order by 排序字段】</span><br></pre></td></tr></table></figure>

<h5 id="一：sql92标准"><a href="#一：sql92标准" class="headerlink" title="一：sql92标准"></a>一：sql92标准</h5><h5 id="等值连接"><a href="#等值连接" class="headerlink" title="等值连接"></a>等值连接</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line">1、等值连接</span><br><span class="line">①多表等值连接的结果多为表的交集部分</span><br><span class="line">②n表连接，最少需要n-1个连接条件</span><br><span class="line">③多表二的顺序没有要求</span><br><span class="line">④一般需要为表起别名</span><br><span class="line">⑤可以搭配前面的所有子句使用，比如排序、分组、筛选</span><br><span class="line"></span><br><span class="line">案例一:查询女神们和对应的男神名</span><br><span class="line">mysql&gt; select name,boyName</span><br><span class="line">    -&gt; from boys,beauty</span><br><span class="line">    -&gt; where beauty.boyfriend_id&#x3D;boys.id;</span><br><span class="line">    </span><br><span class="line">案例二:查询员工名和对应的部门名</span><br><span class="line">mysql&gt; select last_name,department_name</span><br><span class="line">    -&gt; from employees,departments</span><br><span class="line">    -&gt; where employees.department_id&#x3D;departments.department_id;</span><br><span class="line">    </span><br><span class="line">2、为表起别名</span><br><span class="line">好处:提高语句的简洁度，区分多个重名字段</span><br><span class="line">注意:如果为表起了别名，则查询的阻断就不能使用原来的表名去限定</span><br><span class="line"></span><br><span class="line">查询工种号、工种名、员工名</span><br><span class="line">mysql&gt; select last_name,e.job_id,job_title</span><br><span class="line">    -&gt; from employees e,jobs j</span><br><span class="line">    -&gt; where e.job_id&#x3D;j.job_id;</span><br><span class="line">    </span><br><span class="line">3、两个表的顺序是否可以调换</span><br><span class="line">查询工种号、工种名、员工名</span><br><span class="line">#可以</span><br><span class="line">mysql&gt; select last_name,e.job_id,job_title</span><br><span class="line">    -&gt; from e,jobs j，employees e</span><br><span class="line">    -&gt; where e.job_id&#x3D;j.job_id;</span><br><span class="line">    </span><br><span class="line">4、可以加筛选</span><br><span class="line">案例1:查询有奖金的员工名、部门名</span><br><span class="line">mysql&gt; select last_name,department_name,commission_pct</span><br><span class="line">    -&gt; from employees e,departments d</span><br><span class="line">    -&gt; where e.department_id&#x3D;d.department_id and e.commission_pct is not null;</span><br><span class="line">    </span><br><span class="line">案例2:查询城市名中第二个字符为o的部门名和城市名</span><br><span class="line">mysql&gt; select department_name,city</span><br><span class="line">    -&gt; from departments d,locations l</span><br><span class="line">    -&gt; where d.location_id&#x3D;l.location_id and city like &#39;_o%&#39;;</span><br><span class="line">+-----------------+---------------------+</span><br><span class="line">| department_name | city                |</span><br><span class="line">+-----------------+---------------------+</span><br><span class="line">| IT              | Southlake           |</span><br><span class="line">| Shi             | South San Francisco |</span><br><span class="line">| Mar             | Toronto             |</span><br><span class="line">| Hum             | London              |</span><br><span class="line">+-----------------+---------------------+</span><br><span class="line"></span><br><span class="line">5、可以加分组</span><br><span class="line">案例1:查询每个城市的部门个数</span><br><span class="line">mysql&gt; select count(*),city</span><br><span class="line">    -&gt; from departments d,locations l</span><br><span class="line">    -&gt; where d.location_id&#x3D;l.location_id</span><br><span class="line">    -&gt; group by city;</span><br><span class="line">+----------+---------------------+</span><br><span class="line">| count(*) | city                |</span><br><span class="line">+----------+---------------------+</span><br><span class="line">|        1 | London              |</span><br><span class="line">|        1 | Munich              |</span><br><span class="line">|        1 | Oxford              |</span><br><span class="line">|       21 | Seattle             |</span><br><span class="line">|        1 | South San Francisco |</span><br><span class="line">|        1 | Southlake           |</span><br><span class="line">|        1 | Toronto             |</span><br><span class="line">+----------+---------------------+</span><br><span class="line"></span><br><span class="line">案例2:查询有奖金的每个部门的部门名和部门的领导编号和该部门的最低工资</span><br><span class="line">mysql&gt; select min(salary),department_name,d.manager_id</span><br><span class="line">    -&gt; from employees e,departments d</span><br><span class="line">    -&gt; where e.department_id&#x3D;d.department_id and commission_pct is not null</span><br><span class="line">    -&gt; group by department_name,d.manager_id;</span><br><span class="line">+-------------+-----------------+------------+</span><br><span class="line">| min(salary) | department_name | manager_id |</span><br><span class="line">+-------------+-----------------+------------+</span><br><span class="line">|     6100.00 | Sal             |        145 |</span><br><span class="line">+-------------+-----------------+------------+</span><br><span class="line"></span><br><span class="line">6、可以加排序</span><br><span class="line">mysql&gt; select job_title,count(*)</span><br><span class="line">    -&gt; from jobs j,employees e</span><br><span class="line">    -&gt; where j.job_id&#x3D;e.job_id</span><br><span class="line">    -&gt; group by job_title</span><br><span class="line">    -&gt; order by count(*) desc;</span><br><span class="line">+---------------------------------+----------+</span><br><span class="line">| job_title                       | count(*) |</span><br><span class="line">+---------------------------------+----------+</span><br><span class="line">| Sales Representative            |       30 |</span><br><span class="line">| Shipping Clerk                  |       20 |</span><br><span class="line">| Stock Clerk                     |       20 |</span><br><span class="line">| Purchasing Clerk                |        5 |</span><br><span class="line"></span><br><span class="line">7、可以实现三表连接</span><br><span class="line">案例:查询员工名、部门名和所在城市</span><br><span class="line">mysql&gt; select last_name,department_name,city</span><br><span class="line">    -&gt; from employees e,departments d,locations l</span><br><span class="line">    -&gt; where d.department_id&#x3D;e.department_id and d.location_id&#x3D;l.location_id;</span><br></pre></td></tr></table></figure>

<h5 id="非等值连接"><a href="#非等值连接" class="headerlink" title="非等值连接"></a>非等值连接</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">语法:</span><br><span class="line">	mysql&gt; select name,boyName from boys,beauty</span><br><span class="line">    -&gt; where 非等值连接;</span><br><span class="line">    -&gt; 【and 筛选条件】</span><br><span class="line">    -&gt; 【group by 分组】</span><br><span class="line">    -&gt; 【having 分组后筛选】</span><br><span class="line">    -&gt; 【order by 排序字段】</span><br><span class="line"></span><br><span class="line">案例1:查询员工的工资和工资级别，并进行排序</span><br><span class="line">mysql&gt; select salary,grade_level</span><br><span class="line">    -&gt; from employees e,job_grades g</span><br><span class="line">    -&gt; where salary between g.lowest_sal and g.highest_sal</span><br><span class="line">    -&gt; order by grade_level desc;</span><br><span class="line">+----------+-------------+</span><br><span class="line">| salary   | grade_level |</span><br><span class="line">+----------+-------------+</span><br><span class="line">| 24000.00 | E           |</span><br><span class="line">| 17000.00 | E           |</span><br><span class="line">| 17000.00 | E           |</span><br></pre></td></tr></table></figure>

<h5 id="自连接"><a href="#自连接" class="headerlink" title="自连接"></a>自连接</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">语法:</span><br><span class="line">	mysql&gt; select name,boyName from boys,beauty</span><br><span class="line">	-&gt; from 表 别名1,表 别名2</span><br><span class="line">    -&gt; where 等值;</span><br><span class="line">    -&gt; 【and 筛选条件】</span><br><span class="line">    -&gt; 【group by 分组】</span><br><span class="line">    -&gt; 【having 分组后筛选】</span><br><span class="line">    -&gt; 【order by 排序字段】</span><br><span class="line"></span><br><span class="line">案例:查询员工名和上级名称</span><br><span class="line">mysql&gt; select e.employee_id,e.last_name,m.employee_id,m.last_name</span><br><span class="line">    -&gt; from employees e,employees m</span><br><span class="line">    -&gt; where e.employee_id&#x3D;m.manager_id;</span><br><span class="line">+-------------+-----------+-------------+-------------+</span><br><span class="line">| employee_id | last_name | employee_id | last_name   |</span><br><span class="line">+-------------+-----------+-------------+-------------+</span><br><span class="line">|         100 | K_ing     |         101 | Kochhar     |</span><br><span class="line">|         100 | K_ing     |         102 | De Haan     |</span><br><span class="line">|         102 | De Haan   |         103 | Hunold      |</span><br><span class="line">|         103 | Hunold    |         104 | Ernst       |</span><br><span class="line">|         103 | Hunold    |         105 | Austin      |</span><br><span class="line">|         103 | Hunold    |         106 | Pataballa   |</span><br></pre></td></tr></table></figure>

<h5 id="二、sql99语法"><a href="#二、sql99语法" class="headerlink" title="二、sql99语法"></a>二、sql99语法</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">语法:</span><br><span class="line">	select 查询列表 </span><br><span class="line">	from 表1 别名</span><br><span class="line">	【join】 表2 别名 on 连接条件</span><br><span class="line">	【where 筛选条件】</span><br><span class="line">	【group by 分组】</span><br><span class="line">	【having 筛选条件】</span><br><span class="line">	【order by 排序】</span><br><span class="line">	</span><br><span class="line">分类:</span><br><span class="line">#以下英文标识连接条件，方括号中可加可不加</span><br><span class="line">内连接:inner</span><br><span class="line">外连接</span><br><span class="line">	左外:left 【outer】</span><br><span class="line">	右外:right 【outer】</span><br><span class="line">	全外:full 【outer】</span><br><span class="line">交叉连接:cross</span><br><span class="line"></span><br><span class="line">内连接:</span><br><span class="line">	A表和B表能够完全匹配的记录查询出来，被称为内连接</span><br><span class="line">外连接:</span><br><span class="line">	A表和B表能够完全匹配的记录查询出来之外，将其中一张表的记录无条件的查询出来对方表没有匹配的记录会自动显示null与之匹配，这种查询被称为外连接。</span><br><span class="line">	外连接的查询结果条数 &gt;&#x3D; 内连接的查询结果条数</span><br></pre></td></tr></table></figure>

<h5 id="一、内连接"><a href="#一、内连接" class="headerlink" title="一、内连接"></a>一、内连接</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">select 查询列表</span><br><span class="line">from 表1 别名</span><br><span class="line">inner join 表2 别名</span><br><span class="line">on 连接条件;</span><br><span class="line"></span><br><span class="line">內连分类:</span><br><span class="line">	等值连接</span><br><span class="line">	非等值连接</span><br><span class="line">	自连接</span><br><span class="line">	</span><br><span class="line">特点1:</span><br><span class="line">	①添加排序、分组、筛选</span><br><span class="line">	②inner可以省略</span><br><span class="line">	③筛选条件放在where后面，连接条件放在on的后面，提高了分离性，便于阅读</span><br><span class="line">	④inner join连接和sql92语法中的等值连接效果是一样的，都是查询多表的交集</span><br><span class="line">特点2:</span><br><span class="line">	①表的顺序调换</span><br><span class="line">	②内连接的结果&#x3D;多表的交集</span><br><span class="line">	③n表连接至少需要n-1个连接条件</span><br></pre></td></tr></table></figure>

<h5 id="1、等值连接"><a href="#1、等值连接" class="headerlink" title="1、等值连接"></a>1、等值连接</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">案例一:查询员工名、部门名</span><br><span class="line">mysql&gt; select last_name,department_name</span><br><span class="line">    -&gt; from employees e</span><br><span class="line">    -&gt; inner join departments d</span><br><span class="line">    -&gt; on e.department_id&#x3D;d.department_id;</span><br><span class="line">    </span><br><span class="line">案例二:查询名字中包含e的员工名和工种名（筛选）</span><br><span class="line">mysql&gt; select last_name,job_title</span><br><span class="line">    -&gt; from employees e</span><br><span class="line">    -&gt; inner join jobs j</span><br><span class="line">    -&gt; on e.job_id&#x3D;j.job_id</span><br><span class="line">    -&gt; where e.last_name like &#39;%e%&#39;;</span><br><span class="line">    </span><br><span class="line">案例三:查询部门个数&gt;3的城市名和部门个数（分组+筛选）</span><br><span class="line">mysql&gt; select city,count(*)</span><br><span class="line">    -&gt; from departments d</span><br><span class="line">    -&gt; inner join locations l</span><br><span class="line">    -&gt; on d.location_id&#x3D;l.location_id</span><br><span class="line">    -&gt; group by city</span><br><span class="line">    -&gt; having count(*)&gt;3;</span><br><span class="line">    </span><br><span class="line">案例四:查询部门的员工个数&gt;3的城市名和部门个数，并按个数降序（分组+筛选+排序）</span><br><span class="line">mysql&gt; select count(*),department_id</span><br><span class="line">    -&gt; from employees e</span><br><span class="line">    -&gt; group by department_id</span><br><span class="line">    -&gt; having count(*)&gt;3</span><br><span class="line">    -&gt; order by count(*) desc;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">三表连接</span><br><span class="line">语法格式:</span><br><span class="line">select 查询条件</span><br><span class="line">from 表1 别名</span><br><span class="line">【inner】join 表2 别名 on 表1&#x3D;表3  #等值连接</span><br><span class="line">【inner】join 表3 别名 on 表1&#x3D;表3	#等值连接</span><br><span class="line"></span><br><span class="line">案例五:查询员工名、部门名、工种名，并按部门名降序()</span><br><span class="line"></span><br><span class="line">#进行多面连接时候，先from后面的表和第一个join的表连接</span><br><span class="line">然后再将from后面的表和第二个join表连接</span><br><span class="line">mysql&gt; select last_name,department_name,job_title</span><br><span class="line">    -&gt; from employees e</span><br><span class="line">    -&gt; inner join departments d on e.department_id&#x3D;d.department_id</span><br><span class="line">    -&gt; inner join jobs j on e.job_id&#x3D;j.job_id</span><br><span class="line">    -&gt; order by department_name desc;</span><br></pre></td></tr></table></figure>



<h5 id="2、非等值连接"><a href="#2、非等值连接" class="headerlink" title="2、非等值连接"></a>2、非等值连接</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">查询员工的工资级别</span><br><span class="line">mysql&gt; select salary,grade_level</span><br><span class="line">    -&gt; from employees e</span><br><span class="line">    -&gt; inner join job_grades g</span><br><span class="line">    -&gt; on e.salary between g.lowest_sal and g.highest_sal;</span><br><span class="line">    </span><br><span class="line">查询每个工资级别的个数&gt;20的个数，并且按工资级别排序</span><br><span class="line">mysql&gt; select count(*),grade_level</span><br><span class="line">    -&gt; from employees e</span><br><span class="line">    -&gt; join job_grades g</span><br><span class="line">    -&gt; on e.salary between g.lowest_sal and g.highest_sal</span><br><span class="line">    -&gt; group by grade_level</span><br><span class="line">    -&gt; having count(*)&gt;20</span><br><span class="line">    -&gt; order by count(*) desc;</span><br></pre></td></tr></table></figure>

<h5 id="3、自连接"><a href="#3、自连接" class="headerlink" title="3、自连接"></a>3、自连接</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select e.last_name,m.last_name</span><br><span class="line">    -&gt; from employees e</span><br><span class="line">    -&gt; inner join employees m</span><br><span class="line">    -&gt; on e.manager_id&#x3D;m.employee_id;</span><br></pre></td></tr></table></figure>

<h5 id="二、外连接"><a href="#二、外连接" class="headerlink" title="二、外连接"></a>二、外连接</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">为什么inner和outer可以省略，加上去有什么好处?</span><br><span class="line"> - 可以省略，因为区分内连接和外连接的依靠的不是这些关键字而是left&#x2F;right若存在，表示一定是一个外连接，其他都是内连接</span><br><span class="line"> - 加上去的好处是增强可读性</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">语法:</span><br><span class="line">	select 查询列表 </span><br><span class="line">	from 表1 别名</span><br><span class="line">	left|right|full【outer】 表2 别名 on 连接条件		#其中任意一个都可以</span><br><span class="line">	【where 筛选条件】</span><br><span class="line">	【group by 分组】</span><br><span class="line">	【having 筛选条件】</span><br><span class="line">	【order by 排序】</span><br><span class="line"></span><br><span class="line">特点:</span><br><span class="line">1、外链接的查询结果为主要表中的所有行</span><br><span class="line">		如果从表中有和它匹配的，则显示匹配的行</span><br><span class="line">		如果从表中没有和它匹配的则显示null</span><br><span class="line">	外连接查询结果&#x3D;内连接结果+主表中有而从表中没有的记录</span><br><span class="line">2、左外连接，left join左边的是主表</span><br><span class="line">   右外连接, right join右边的是主表</span><br><span class="line">3、左外和右外交换两个表的顺序，可以实现同样的效果</span><br><span class="line">4、一般用于查询除了交集部分的剩余的不匹配的行</span><br><span class="line"></span><br><span class="line">引入:查询男朋友不在男神表的女神名</span><br><span class="line">左外连接</span><br><span class="line">mysql&gt; select b.name,bo.*</span><br><span class="line">    -&gt; from beauty b</span><br><span class="line">    -&gt; left outer join boys bo</span><br><span class="line">    -&gt; on b.boyfriend_id &#x3D; bo.id</span><br><span class="line">    -&gt; where bo.id is null</span><br><span class="line">    </span><br><span class="line">右外连接</span><br><span class="line">mysql&gt; select b.name,bo.*</span><br><span class="line">    -&gt; from boys bo</span><br><span class="line">    -&gt; right outer joinbeauty b</span><br><span class="line">    -&gt; on b.boyfriend_id &#x3D; bo.id</span><br><span class="line">    -&gt; where b.id is null    </span><br><span class="line">    </span><br><span class="line">案例一:查询那个部门没有员工</span><br><span class="line">左外连接</span><br><span class="line">mysql&gt; select d.*,e.employee_id</span><br><span class="line">    -&gt; from departments d</span><br><span class="line">    -&gt; left outer join employees e</span><br><span class="line">    -&gt; on d.department_id&#x3D;e.department_id</span><br><span class="line">    -&gt; where e.employee_id is null;</span><br><span class="line">    </span><br><span class="line">右外连接</span><br><span class="line">mysql&gt; select d.*,e.employee_id</span><br><span class="line">    -&gt; from employees e</span><br><span class="line">    -&gt; right outer join departments d</span><br><span class="line">    -&gt; on d.department_id&#x3D;e.department_id</span><br><span class="line">    -&gt; where e.employee_id is null;</span><br></pre></td></tr></table></figure>

<h5 id="交叉连接"><a href="#交叉连接" class="headerlink" title="交叉连接"></a>交叉连接</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">语法:</span><br><span class="line">	select 查询列表</span><br><span class="line">	from 表1 别名</span><br><span class="line">	cross join 表2 别名;</span><br><span class="line"></span><br><span class="line">特点:类似于笛卡尔乘积</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select b.*,bo.*</span><br><span class="line">    -&gt; from beauty b</span><br><span class="line">    -&gt; cross join boys bo;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sql92和sql99</span><br><span class="line">功能:sql99支持的较多</span><br><span class="line">可读性:sql99实现连接条件和筛选条件的分离，可读性较高</span><br></pre></td></tr></table></figure>

<h5 id="子查询"><a href="#子查询" class="headerlink" title="子查询"></a>子查询</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">含义:</span><br><span class="line">出现在其他语句中的select语句，成为子查询或内查询</span><br><span class="line">外部如果shiselect语句，则此语句成为主查询或外查询</span><br><span class="line"></span><br><span class="line">分类:</span><br><span class="line">按子查询出现的位置</span><br><span class="line">可以放在</span><br><span class="line">	select后面:</span><br><span class="line">		仅仅支持标量子查询 #select后面只能放标量子查询</span><br><span class="line">	from后面:</span><br><span class="line">		支持表子查询</span><br><span class="line">	where或having后面: ★  	#这三个重点</span><br><span class="line">		标量子查询	   ★</span><br><span class="line">		列子查询	    ★</span><br><span class="line">		行子查询 #用的较少</span><br><span class="line">	exists后面</span><br><span class="line">		标量子查询</span><br><span class="line">		列子查询</span><br><span class="line">		行子查询</span><br><span class="line">按结果集的行列数不同:</span><br><span class="line">	标量子查询(结果集只有一行一列)</span><br><span class="line">	列子查询(结果集只有一列多行)</span><br><span class="line">	行子查询(结果集有多行多列)</span><br><span class="line">	表子查询(结果集，一般为多行多列)</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">示例:</span><br><span class="line">where或having</span><br><span class="line">1、标量子查询</span><br><span class="line">	select first_name from employees </span><br><span class="line">	where department_id in(</span><br><span class="line">	select department_id from departments</span><br><span class="line">	where location_id&#x3D;1700</span><br><span class="line">	)</span><br></pre></td></tr></table></figure>



<h5 id="一、where或having后面"><a href="#一、where或having后面" class="headerlink" title="一、where或having后面"></a>一、where或having后面</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1、标量子查询(单行子查询)</span><br><span class="line">2、列子查询(多行子查询)</span><br><span class="line">3、行子查询(多列多行)</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">特点:</span><br><span class="line">①子查询放在小括号内</span><br><span class="line">②子查询一般放在条件的右侧</span><br><span class="line">③标量子查询，一般搭配着单行操作符使用 #单行操作符就是条件运算符</span><br><span class="line">&gt; &lt; &gt;&#x3D; &lt;&#x3D; &#x3D; &lt;&gt;</span><br><span class="line">列子查询，一般搭配着多行操作符使用</span><br><span class="line">in、any&#x2F;some、all</span><br><span class="line">④子查询的执行优先于主查询执行，主查询的条件用到了子查询的结果</span><br></pre></td></tr></table></figure>

<h5 id="1、标量子查询"><a href="#1、标量子查询" class="headerlink" title="1、标量子查询"></a>1、标量子查询</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"> 子查询就是select语句嵌套select语句</span><br><span class="line"> </span><br><span class="line"> 子查询可以出现在:</span><br><span class="line"> 	select..(select).	#可以出现在select后面</span><br><span class="line"> 	from ..(select).	#可以出现在from后面</span><br><span class="line"> 	where ..(select).	#可以出现where后面</span><br><span class="line"> 格式:</span><br><span class="line"> 	select 字段 from 表名 </span><br><span class="line"> 	where 筛选条件(查询条件)</span><br><span class="line"></span><br><span class="line">where后面使用子查询</span><br><span class="line"></span><br><span class="line">案例1:谁的工资比Abel高</span><br><span class="line">①：先找出谁的名字叫Abel</span><br><span class="line">select salary from employees</span><br><span class="line">    -&gt; where last_name&#x3D;&#39;Abel&#39;;</span><br><span class="line">②再将他们的工资比较</span><br><span class="line"> mysql&gt; select * from employees</span><br><span class="line">    -&gt; where salary&gt;(select salary from employees</span><br><span class="line">    -&gt; where last_name&#x3D;&#39;Abel&#39;);</span><br><span class="line">    </span><br><span class="line">案例2::返回job_id与141号员工相同，salary比143号员工多的员工 姓名，job_id和工资</span><br><span class="line">mysql&gt; select job_id,last_name,salary</span><br><span class="line">    -&gt; from employees</span><br><span class="line">    -&gt; where job_id &#x3D; (select job_id from employees</span><br><span class="line">    -&gt; where employee_id &#x3D; 141) and</span><br><span class="line">    -&gt; salary&gt;(select salary from employees</span><br><span class="line">    -&gt; where employee_id&#x3D;143);</span><br><span class="line">+----------+-------------+---------+</span><br><span class="line">| job_id   | last_name   | salary  |</span><br><span class="line">+----------+-------------+---------+</span><br><span class="line">| ST_CLERK | Nayer       | 3200.00 |</span><br><span class="line">| ST_CLERK | Mikkilineni | 2700.00 |</span><br><span class="line">| ST_CLERK | Bissot      | 3300.00 |</span><br><span class="line">| ST_CLERK | Atkinson    | 2800.00 |</span><br><span class="line">| ST_CLERK | Mallin      | 3300.00 |</span><br><span class="line">| ST_CLERK | Rogers      | 2900.00 |</span><br><span class="line">| ST_CLERK | Ladwig      | 3600.00 |</span><br><span class="line">| ST_CLERK | Stiles      | 3200.00 |</span><br><span class="line">| ST_CLERK | Seo         | 2700.00 |</span><br><span class="line">| ST_CLERK | Rajs        | 3500.00 |</span><br><span class="line">| ST_CLERK | Davies      | 3100.00 |</span><br><span class="line">+----------+-------------+---------+</span><br><span class="line">11 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">案例3:返回公司工资最少的员工的last_name,job_id和salary</span><br><span class="line">mysql&gt; select salary,last_name,job_id</span><br><span class="line">    -&gt; from employees</span><br><span class="line">    -&gt; where salary&#x3D;(select min(salary) from employees);</span><br><span class="line"></span><br><span class="line">having后面</span><br><span class="line">案例4:查询最低工资大于50号部门最低工资的部门id和其最低工资</span><br><span class="line">mysql&gt; select min(salary),department_id</span><br><span class="line">    -&gt; from employees</span><br><span class="line">    -&gt; group by department_id</span><br><span class="line">    -&gt; having min(salary)&gt;(select min(salary)</span><br><span class="line">    -&gt; from employees</span><br><span class="line">    -&gt; where department_id&#x3D;50);</span><br><span class="line">    </span><br><span class="line">注意:非法使用标量子查询也就是说子查询的结果不是一行一列</span><br></pre></td></tr></table></figure>

<h5 id="2、列子查询（多行子查询）"><a href="#2、列子查询（多行子查询）" class="headerlink" title="2、列子查询（多行子查询）"></a>2、列子查询（多行子查询）</h5><ul>
<li><h5 id="多行子查询操作符"><a href="#多行子查询操作符" class="headerlink" title="多行子查询操作符"></a>多行子查询操作符</h5></li>
</ul>
<table>
<thead>
<tr>
<th>操作符</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>in/not in</td>
<td>等于列表中的任意一个</td>
</tr>
<tr>
<td>any | some</td>
<td>和子查询返回的某一个值比较</td>
</tr>
<tr>
<td>all</td>
<td>和子查询返回的所有值比较</td>
</tr>
</tbody></table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">案例1:返回location_id是1400或1700的部门中所有员工姓名</span><br><span class="line">mysql&gt; select last_name</span><br><span class="line">    -&gt; from employees</span><br><span class="line">    -&gt; where department_id in (select department_id from departments</span><br><span class="line">    -&gt; where location_id in(1400,1700));</span><br><span class="line">+------------+</span><br><span class="line">| last_name  |</span><br><span class="line">+------------+</span><br><span class="line">| K_ing      |</span><br><span class="line">| Kochhar    |</span><br><span class="line">| De Haan    |</span><br><span class="line">| Hunold     |</span><br><span class="line"></span><br><span class="line">案例2:返回其他部门中比job_id为&#39;IT_PROG&#39;部门任一工资低的员工的员工号、姓名、job_id以及salary</span><br><span class="line">①查询job_id为&#39;IT_PROG&#39;部门</span><br><span class="line">mysql&gt; select salary</span><br><span class="line">    -&gt; from employees</span><br><span class="line">    -&gt; where job_id &#x3D; &#39;IT_PROG&#39;;</span><br><span class="line">②查询员工号、姓名、job_id以及salary，salary&lt;(①)的任意一个</span><br><span class="line">mysql&gt; select last_name,employee_id,job_id,salary</span><br><span class="line">    -&gt; from employees</span><br><span class="line">    -&gt; where salary&lt;any(select salary from employees where job_id&#x3D;&#39;IT_PROG&#39;);</span><br><span class="line">或</span><br><span class="line">mysql&gt; select last_name,employee_id,job_id,salary</span><br><span class="line">    -&gt; from employees</span><br><span class="line">#小于any也就是比子查询里的都小，也就是小于最大的，就可以改成max(salary)，外面就不需要any了</span><br><span class="line">    -&gt; where salary&lt;(select max(salary) from employees where job_id&#x3D;&#39;IT_PROG&#39;);</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">案例3:返回其他部门中比job_id为&#39;IT_PROG&#39;部门所有工资都低的员工的员工号、姓名、job_id以及salary</span><br><span class="line">①查询job_id为&#39;IT_PROG&#39;部门</span><br><span class="line">mysql&gt; select salary</span><br><span class="line">    -&gt; from employees</span><br><span class="line">    -&gt; where job_id &#x3D; &#39;IT_PROG&#39;;</span><br><span class="line">②查询员工号、姓名、job_id以及salary，salary&lt;(①)的全部</span><br><span class="line">mysql&gt; select employee_id,last_name,job_id,salary</span><br><span class="line">    -&gt; from employees</span><br><span class="line">    -&gt; where salary&lt;all(select salary from employees</span><br><span class="line">    -&gt; where job_id&#x3D;&#39;IT_PROG&#39;) and job_id&lt;&gt;&#39;IT_PROG&#39;;</span><br><span class="line">或</span><br><span class="line">mysql&gt; select employee_id,last_name,job_id,salary</span><br><span class="line">    -&gt; from employees</span><br><span class="line">    -&gt; where salary&lt;(select max(salary) from employees</span><br><span class="line">    -&gt; where job_id&#x3D;&#39;IT_PROG&#39;) and job_id&lt;&gt;&#39;IT_PROG&#39;;</span><br></pre></td></tr></table></figure>

<h5 id="3、行子查询（结果集一行多列或多行多列）"><a href="#3、行子查询（结果集一行多列或多行多列）" class="headerlink" title="3、行子查询（结果集一行多列或多行多列）"></a>3、行子查询（结果集一行多列或多行多列）</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">行子查询（了解）  #有局限性，不常用</span><br><span class="line">案例:查询员工编号最小并且工资最高的员工</span><br><span class="line">mysql&gt; select *</span><br><span class="line">    -&gt; from employees</span><br><span class="line">    -&gt; where (employee_id,salary)&#x3D;(</span><br><span class="line">    -&gt; select min(employee_id),max(salary)</span><br><span class="line">    -&gt; from employees);</span><br></pre></td></tr></table></figure>

<h5 id="二、select后面-了解"><a href="#二、select后面-了解" class="headerlink" title="二、select后面(了解)"></a>二、select后面(了解)</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">select后面仅仅支持标量子查询</span><br><span class="line"></span><br><span class="line">案例1:查询每个部门的员工个数</span><br><span class="line">mysql&gt; select d.*,(select count(*)</span><br><span class="line">    -&gt; from employees e</span><br><span class="line">    -&gt; where e.department_id&#x3D;d.department_id)</span><br><span class="line">    -&gt; from departments d;</span><br><span class="line"></span><br><span class="line">案例2:查询员工号&#x3D;102的部门名</span><br><span class="line">mysql&gt; select (</span><br><span class="line">    -&gt; select department_name</span><br><span class="line">    -&gt; from departments d</span><br><span class="line">    -&gt; inner join employees e</span><br><span class="line">    -&gt; on d.department_id &#x3D; e.department_id</span><br><span class="line">    -&gt; where e.employee_id &#x3D; 102) 部门名;</span><br><span class="line">+--------+</span><br><span class="line">| 部门名       |</span><br><span class="line">+--------+</span><br><span class="line">| Exe    |</span><br><span class="line">+--------+</span><br></pre></td></tr></table></figure>

<h5 id="三、from后面"><a href="#三、from后面" class="headerlink" title="三、from后面"></a>三、from后面</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">将子查询结果充当一张表，要求必须起别名</span><br><span class="line">案例:查询每个部门的平均工资的工资等级</span><br><span class="line">①先查询部门的平均工资</span><br><span class="line">select avg(salary) ag,department_id</span><br><span class="line">    -&gt; from employees</span><br><span class="line">    -&gt; group by department_id</span><br><span class="line">②将查询工资等级并将平均工资表连接，进行工资等级判断</span><br><span class="line">mysql&gt; select ag_dep.*,g.grade_level</span><br><span class="line">    -&gt; from (</span><br><span class="line">    -&gt; select avg(salary) ag,department_id</span><br><span class="line">    -&gt; from employees</span><br><span class="line">    -&gt; group by department_id) ag_dep 	#子查询必须加别名不然找不到</span><br><span class="line">    -&gt; inner join job_grades g</span><br><span class="line">    -&gt; on ag_dep.ag between lowest_sal and highest_sal;</span><br></pre></td></tr></table></figure>

<h5 id="四、exists-相关子查询"><a href="#四、exists-相关子查询" class="headerlink" title="四、exists(相关子查询)"></a>四、exists(相关子查询)</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">#exists(是否存在)</span><br><span class="line">语法:</span><br><span class="line">	exists(完整的查询)</span><br><span class="line">结果:</span><br><span class="line">	1或者是0		#1也就相当于布尔类型的True，0代表False</span><br><span class="line">exists相当于布尔类型，只判断True和False</span><br><span class="line">因为子查询中有数值所以返回1</span><br><span class="line">mysql&gt; select exists(select employee_id from employees) result;</span><br><span class="line">+--------+</span><br><span class="line">| result |</span><br><span class="line">+--------+</span><br><span class="line">|      1 |</span><br><span class="line">+--------+</span><br><span class="line"></span><br><span class="line">在子查询中筛选了salary中等于3w的数值，但是salary中并没有3w所以返回0</span><br><span class="line">mysql&gt; select exists(select employee_id from employees where salary&#x3D;30000) result;</span><br><span class="line">+--------+</span><br><span class="line">| result |</span><br><span class="line">+--------+</span><br><span class="line">|      0 |</span><br><span class="line">+--------+</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">但凡能用exists的都可以用in来代替</span><br><span class="line">案例一:查询有员工名的部门名</span><br><span class="line">#exists</span><br><span class="line">mysql&gt; select department_name</span><br><span class="line">    -&gt; from departments d</span><br><span class="line">    -&gt; where exists(select * from employees e</span><br><span class="line">    -&gt; where d.department_id &#x3D; e.department_id);</span><br><span class="line">+-----------------+</span><br><span class="line">| department_name |</span><br><span class="line">+-----------------+</span><br><span class="line">| Adm             |</span><br><span class="line">| Mar             |</span><br><span class="line">| Pur             |</span><br><span class="line">| Hum             |</span><br><span class="line">| Shi             |</span><br><span class="line">| IT              |</span><br><span class="line">| Pub             |</span><br><span class="line">| Sal             |</span><br><span class="line">| Exe             |</span><br><span class="line">| Fin             |</span><br><span class="line">| Acc             |</span><br><span class="line">+-----------------+    </span><br><span class="line"></span><br><span class="line">#in</span><br><span class="line">mysql&gt; select department_name from departments d</span><br><span class="line">    -&gt; where department_id in (select department_id from employees);</span><br><span class="line"></span><br><span class="line">案例2:查询没有女朋友的男神信息</span><br><span class="line">#in</span><br><span class="line">mysql&gt; select bo.*</span><br><span class="line">    -&gt; from boys bo</span><br><span class="line">    -&gt; where bo.id not in (select boyfriend_id</span><br><span class="line">    -&gt; from beauty);</span><br><span class="line">#exists</span><br><span class="line">mysql&gt; select bo.*</span><br><span class="line">    -&gt; from boys bo</span><br><span class="line">    -&gt; where not exists (select * from beauty</span><br><span class="line">    -&gt; where bo.id&#x3D;beauty.boyfriend_id);</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">子查询案例:</span><br><span class="line">查询各部门中工资比本部门平均工资高的员工的员工号，姓名和工资</span><br><span class="line">mysql&gt; select employee_id,last_name,salary,e.department_id</span><br><span class="line">    -&gt; from employees e</span><br><span class="line">    -&gt; inner join (</span><br><span class="line">    -&gt; select avg(salary) ag,department_id</span><br><span class="line">    -&gt; from employees</span><br><span class="line">    -&gt; group by department_id) ag_dep</span><br><span class="line">    -&gt; on e.department_id &#x3D; ag_dep.department_id</span><br><span class="line">    -&gt; where salary&gt;ag_dep.ag;</span><br></pre></td></tr></table></figure>

<h5 id="分页查询-重点"><a href="#分页查询-重点" class="headerlink" title="分页查询(重点)"></a>分页查询(重点)</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">应用场景:当要查询的条目太多，一页显示不全</span><br><span class="line">1、limit用来获取一张表中某部分数据</span><br><span class="line">2、limit只有在MySQL中存在不通用，是MySQL数据库管理系统的特色</span><br><span class="line">语法:</span><br><span class="line">	select 查询列表		#7</span><br><span class="line">	from 表		#执行循序 1</span><br><span class="line">	【join type join 表2		#2</span><br><span class="line">	【on 连接条件】		#3</span><br><span class="line">	【where 筛选条件】		#4</span><br><span class="line">	【group by 分组字段】		#5</span><br><span class="line">	【having 分组后筛选】	#6</span><br><span class="line">	【order by 排序的字段】		#8</span><br><span class="line">	limit 【offset】,size;	#9  offset可以省略，省略之后默认起始值是0</span><br><span class="line">	</span><br><span class="line">	offset表示要显示条目的起始索引(起始索引从0开始，)</span><br><span class="line">	如果起始下标没有指定，默认从0开始，0标识表中第一条记录</span><br><span class="line">	size表示要显示的条目个数</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">特点:</span><br><span class="line">	①limit语句放在查询语句的最后，</span><br><span class="line">	②公式</span><br><span class="line">	要显示的页数 page，每页的条目数是size</span><br><span class="line">通用的分页sql【只适合MySQL数据库管理系统】	</span><br><span class="line">	select 查询列表 </span><br><span class="line">	from 表 </span><br><span class="line">	limit (page-1)*size,size;</span><br><span class="line">规律：</span><br><span class="line">	size &#x3D; 10</span><br><span class="line">	</span><br><span class="line">	page 		size</span><br><span class="line">	1			0</span><br><span class="line">	2			10</span><br><span class="line">	3			20</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">案例1:查询前五条员工信息</span><br><span class="line">mysql&gt; select * from employees limit 0,5;</span><br><span class="line">或</span><br><span class="line">mysql&gt; select * from employees limit 5;</span><br><span class="line"></span><br><span class="line">案例2:查询第11条到第25条</span><br><span class="line">mysql&gt; select * from employees limit 11,15;</span><br><span class="line"></span><br><span class="line">案例3:有奖金的员工信息，并且工资较高的前10名显示出来</span><br><span class="line">mysql&gt; select * from employees</span><br><span class="line">    -&gt; where commission_pct is not null</span><br><span class="line">    -&gt; order by salary desc</span><br><span class="line">    -&gt; limit 10;</span><br></pre></td></tr></table></figure>

<h4 id="联合查询"><a href="#联合查询" class="headerlink" title="联合查询"></a>联合查询</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">union 联合 合并; 将多条查询语句的结果合并成一个结果</span><br><span class="line">&lt;&gt; 也就是相当于联合查询中包含多条查询语句，每个查询语句都是有一个小结果，用union一联合就会将多个结果合并成一个结果</span><br><span class="line"></span><br><span class="line">语法:</span><br><span class="line">查询语句1</span><br><span class="line">union</span><br><span class="line">查询语句2</span><br><span class="line">union</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">应用场景:</span><br><span class="line">要查询的结果来自于多个表，且多个表没有直接的连接关系，但查询的信息一致时</span><br><span class="line"></span><br><span class="line">注意事项: ★</span><br><span class="line">	1、要求多条查询语句的查询列数是一致的</span><br><span class="line">	2、要求多条查询语句的查询的每一列的类型和顺序最好是一致的</span><br><span class="line">	3、使用union关键字默认去重，如果使用union all 可以包含重复项</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">引入案例:查询部门编号&gt;90或者邮箱中包含a的员工信息</span><br><span class="line">之前实现语法:</span><br><span class="line">mysql&gt; select * from employees where email like &#39;%a%&#39; or department_id&gt;90;</span><br><span class="line">union实现语法:</span><br><span class="line"># 将邮箱中包含a的员工信息查找出来，这是第一个结果</span><br><span class="line">mysql&gt; select * from employees where email like &#39;%a%&#39;</span><br><span class="line"># 使用union联合查询，将两条结果合并成一个结果</span><br><span class="line">    -&gt; union</span><br><span class="line"># 将部门编号&gt;90的信息查找出来，这是第二个结果，</span><br><span class="line">    -&gt; select * from employees where department_id&gt;90;</span><br></pre></td></tr></table></figure>

<h3 id="DML语言"><a href="#DML语言" class="headerlink" title="DML语言"></a>DML语言</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">DML语言可以以称作:数据操作语言</span><br><span class="line"></span><br><span class="line">涉及到：</span><br><span class="line">数据的 插入:insert</span><br><span class="line">数据的 修改:update</span><br><span class="line">数据的 删除:delete</span><br></pre></td></tr></table></figure>

<h4 id="插入语句"><a href="#插入语句" class="headerlink" title="插入语句"></a>插入语句</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">insert语法中要包含 表名、字段名、值</span><br><span class="line">语法：</span><br><span class="line">insert into 表名(字段名,......) values(值1,....);</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">方式一:经典的插入</span><br><span class="line"></span><br><span class="line">注意:</span><br><span class="line">1、插入的值得类型要与列的类型一致或兼容</span><br><span class="line">mysql&gt; insert into beauty(id,name,sex,borndate,phone,photo,boyfriend_id)</span><br><span class="line">    -&gt; values(13,&#39;唐艺昕&#39;,&#39;女&#39;,&#39;1990-4-23&#39;,&#39;1898888888&#39;,null,2);</span><br><span class="line">+----+------------+------+---------------------+-------------+-------+-------+</span><br><span class="line">| 12 | 赵敏    | 女    | 1992-02-03 00:00:00 | 18209179577 | NULL  |       1 |</span><br><span class="line">| 13 | 唐艺昕   | 女    | 1990-04-23 00:00:00 | 1898888888  | NULL  |      2 |</span><br><span class="line">+----+------------+------+---------------------+-------------+-------+-------+</span><br><span class="line"></span><br><span class="line">2、不可以为null的列必须插入值，可以为null的列，如何插入值 </span><br><span class="line"></span><br><span class="line">方式一:</span><br><span class="line">mysql&gt; insert into beauty(id,name,sex,borndate,phone,photo,boyfriend_id)</span><br><span class="line">#可以为null的列不想写入值可以直接写null</span><br><span class="line">    -&gt; values(13,&#39;唐艺昕&#39;,&#39;女&#39;,&#39;1990-4-23&#39;,&#39;1898888888&#39;,null,2);</span><br><span class="line">    </span><br><span class="line">方式二:</span><br><span class="line">#将 为null的列和值不写，其中可以为null的字段不写入值得时候，运行时显示他的默认值</span><br><span class="line">mysql&gt; insert into beauty(id,name,sex,borndate,phone,boyfriend_id)</span><br><span class="line">    -&gt; values(13,&#39;唐艺昕&#39;,&#39;女&#39;,&#39;1990-4-23&#39;,&#39;1898888888&#39;,2);</span><br><span class="line">    </span><br><span class="line">3、列的顺序可以调换，但需要一一对应</span><br><span class="line">mysql&gt; insert into beauty(name,sex,id,phone)</span><br><span class="line">    -&gt; values(&#39;蒋欣&#39;,&#39;女&#39;,16,&#39;110&#39;);</span><br><span class="line">+----+------------+------+---------------------+-------------+-------+-------+</span><br><span class="line">| 16 | 蒋欣     | 女    | 1987-01-01 00:00:00 | 110    | NULL  |     NULL |</span><br><span class="line">+----+------------+------+---------------------+-------------+-------+-------+</span><br><span class="line"></span><br><span class="line">4，列数和值的个数必须一致</span><br><span class="line"># boyfrined_id可以为空，但是values里面的值并没有写入null那这样就会报错</span><br><span class="line">mysql&gt; insert into beauty(name,sex,id,phone,boyfrined_id)</span><br><span class="line">    -&gt; values(&#39;关晓彤&#39;,&#39;女&#39;,17,&#39;110&#39;);</span><br><span class="line"># 报错内容是:列与值不匹配</span><br><span class="line">ERROR 1136 (21S01): Column count doesn&#39;t match value count at row 1</span><br><span class="line"></span><br><span class="line">5，可以省略列名，默认所有列，而且列的顺序和表中的列顺序一致</span><br><span class="line">mysql&gt; insert into beauty</span><br><span class="line">    -&gt; values(14,&#39;张飞&#39;,&#39;男&#39;,null,&#39;11111&#39;,null,null);</span><br><span class="line">+----+------------+------+---------------------+-------------+-------+-------+</span><br><span class="line">| 14 | 张飞      | 男     | NULL       | 11111    | NULL  |      NULL |</span><br><span class="line">+----+------------+------+---------------------+-------------+-------+-------+</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">方式二:</span><br><span class="line"></span><br><span class="line">语法:</span><br><span class="line">insert into 表名</span><br><span class="line">set 列名&#x3D;值,列名&#x3D;值....</span><br><span class="line"></span><br><span class="line">案例1:</span><br><span class="line">mysql&gt; insert into beauty</span><br><span class="line">    -&gt; set id&#x3D;15,name&#x3D;&#39;刘涛&#39;,phone&#x3D;&#39;999&#39;;</span><br><span class="line">+----+------------+------+---------------------+-------------+-------+---+</span><br><span class="line">| 15 | 刘涛   | 女    | 1987-01-01 00:00:00 | 999    | NULL  |      NULL |</span><br><span class="line">+----+------------+------+---------------------+-------------+-------+---+</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">两种方式比较</span><br><span class="line">方式一支持插入多行,方式二不支持</span><br><span class="line">mysql&gt; insert into beauty</span><br><span class="line">    -&gt; values(17,&#39;张飞1&#39;,&#39;男&#39;,null,&#39;11111&#39;,null,2)</span><br><span class="line">    -&gt; ,(18,&#39;张飞2&#39;,&#39;男&#39;,null,&#39;11111&#39;,null,2)</span><br><span class="line">    -&gt; ,(19,&#39;张飞3&#39;,&#39;男&#39;,null,&#39;11111&#39;,null,2);</span><br><span class="line">+----+------------+------+---------------------+-------------+-------+---+</span><br><span class="line">| 17 | 张飞1   | 男     | NULL         | 11111       | NULL  |         2 |</span><br><span class="line">| 18 | 张飞2   | 男     | NULL         | 11111       | NULL  |         2 |</span><br><span class="line">| 19 | 张飞3   | 男     | NULL         | 11111       | NULL  |         2 | </span><br><span class="line">+----+------------+------+---------------------+-------------+-------+---+</span><br><span class="line"></span><br><span class="line">方式一支持子查询，方式二不支持</span><br><span class="line"># 子查询在这里可以充当插入，也可以将select后的值改成变量，来写成完整的子查询</span><br><span class="line">mysql&gt; insert into beauty(id,name,phone)</span><br><span class="line">    -&gt; select 20,&#39;宋茜&#39;,&#39;115112313&#39;;     # 例如: select id,boyname,&#39;115112313&#39;;</span><br><span class="line">+----+------------+------+---------------------+-------------+-------+-------+</span><br><span class="line">| 20 | 宋茜   | 女    | 1987-01-01 00:00:00 | 115112313   | NULL  |     NULL |</span><br><span class="line">+----+------------+------+---------------------+-------------+-------+-------+</span><br></pre></td></tr></table></figure>

<h4 id="二、修改语句"><a href="#二、修改语句" class="headerlink" title="二、修改语句"></a>二、修改语句</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">1、修改单表的记录★</span><br><span class="line">语法:</span><br><span class="line">update 表名</span><br><span class="line">set 列&#x3D;新值,列&#x3D;新值,...</span><br><span class="line">where 筛选条件;</span><br><span class="line"></span><br><span class="line">2、修改多表的记录【补充】</span><br><span class="line">sql92语法:</span><br><span class="line">update 表1 别名,表2 别名</span><br><span class="line">set 列&#x3D;值...</span><br><span class="line">where 连接条件 and 筛选条件;</span><br><span class="line"></span><br><span class="line">sql99语法</span><br><span class="line">update 表1 别名</span><br><span class="line">inner|left|right join 表2 别名</span><br><span class="line">on 连接条件</span><br><span class="line">set 列&#x3D;值...</span><br><span class="line">where 筛选条件</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">1、修改单表的记录</span><br><span class="line"></span><br><span class="line">案例1: 修改beauty表中姓张的电话为13899888899</span><br><span class="line">mysql&gt; update beauty set phone &#x3D; &#39;13899888899&#39; where name like &#39;张%&#39;;</span><br><span class="line"></span><br><span class="line">案例2: 修改boys表中的id号为2的名称为张飞，魅力值为10</span><br><span class="line">mysql&gt; update boys set boyname&#x3D;&#39;张飞&#39;,usercp&#x3D;10 where id &#x3D; 2;</span><br><span class="line">+----+---------+--------+</span><br><span class="line">| id | boyName | userCP |</span><br><span class="line">+----+---------+--------+</span><br><span class="line">|  1 | 张无忌       |    100 |</span><br><span class="line">|  2 | 张飞       |     10 |</span><br><span class="line">|  3 | 黄晓明        |     50 |</span><br><span class="line">|  4 | 段誉        |    300 |</span><br><span class="line">+----+---------+--------+</span><br><span class="line"></span><br><span class="line">2、修改多表记录【补充】</span><br><span class="line">案例1:修改张无忌的女朋友的手机号为114</span><br><span class="line">mysql&gt; update boys bo</span><br><span class="line">    -&gt; inner join beauty b on bo.id &#x3D; b.boyfriend_id</span><br><span class="line">    -&gt; set b.phone &#x3D; &#39;114&#39;</span><br><span class="line">    -&gt; where bo.boyName &#x3D; &#39;张无忌&#39;;</span><br><span class="line">案例2:修改没有男朋友的女神的男朋友编号都为2号</span><br><span class="line">mysql&gt; update boys bo</span><br><span class="line">    -&gt; right join beauty b on bo.id&#x3D;b.boyfriend_id</span><br><span class="line">    -&gt; set b.boyfriend_id&#x3D;2</span><br><span class="line">    -&gt; where bo.id is null;</span><br></pre></td></tr></table></figure>

<h4 id="三、删除语句"><a href="#三、删除语句" class="headerlink" title="三、删除语句"></a>三、删除语句</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">删除语句删除的时候是直接删除一行而不是单个值</span><br><span class="line"></span><br><span class="line">方式一:delete</span><br><span class="line">语法:</span><br><span class="line">1、单表的删除【★】</span><br><span class="line">delete from 表名 where 筛选条件</span><br><span class="line">2、多表的删除【补充】</span><br><span class="line"></span><br><span class="line">sql92语法：</span><br><span class="line">delete 表1 别名,表2 别名</span><br><span class="line">from 表1 别名,表2 别名</span><br><span class="line">where 连接条件</span><br><span class="line">and 筛选条件</span><br><span class="line"></span><br><span class="line">sql99语法:</span><br><span class="line">delete 表1 别名,表2 别名</span><br><span class="line">from 表1 别名</span><br><span class="line">inner|left|right join 表2 别名 on 连接条件</span><br><span class="line">where 筛选条件</span><br><span class="line"></span><br><span class="line">方式二，truncate</span><br><span class="line">语法: truncate table 表名;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">方式一：delete</span><br><span class="line">1、单表的删除</span><br><span class="line">案例1：删除手机号结尾为9的女神信息</span><br><span class="line">mysql&gt; delete from beauty where phone like &#39;%9&#39;;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">2、多表的删除【了解】</span><br><span class="line">案例:删除张无忌的女朋友的信息</span><br><span class="line">mysql&gt; delete b from beauty b</span><br><span class="line">    -&gt; inner join boys bo on b.boyfriend_id &#x3D; bo.id</span><br><span class="line">    -&gt; where bo.boyName &#x3D; &#39;张无忌&#39;;</span><br><span class="line">    </span><br><span class="line">案例:删除黄晓明得信息以及他女朋友的信息</span><br><span class="line">mysql&gt; delete b,bo</span><br><span class="line">    -&gt; from beauty b</span><br><span class="line">    -&gt; inner join boys bo</span><br><span class="line">    -&gt; on b.boyfriend_id&#x3D;bo.id</span><br><span class="line">    -&gt; where bo.boyName&#x3D;&#39;黄晓明&#39;;</span><br></pre></td></tr></table></figure>

<h5 id="方式二-truncate语句"><a href="#方式二-truncate语句" class="headerlink" title="方式二:truncate语句"></a>方式二:truncate语句</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">案例:将魅力值&gt;100的男神信息删除</span><br><span class="line"># truncate的意思是全部清空，后面不能加where筛选，所以不能将&gt;100的信息删除</span><br><span class="line">truncate table boys;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">delete和truncate的区别</span><br><span class="line">1、delete可以加where条件，truncate不能加</span><br><span class="line">2、truncate删除效率高一点</span><br><span class="line">3、假如要删除的表中有自增长列,如果用delete删除后，在插入数据，自增长列的值从断点开始，而truncate删除后，在插入数据，自增长列的值从1开始</span><br><span class="line">4、truncate删除后没有返回值，delete删除后有返回值</span><br></pre></td></tr></table></figure>

<p>例题:</p>
<h5 id="创建表"><a href="#创建表" class="headerlink" title="创建表"></a>创建表</h5><p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/1580887767466.png" alt="1581509550318"></p>
<h5 id="插入内容"><a href="#插入内容" class="headerlink" title="插入内容"></a>插入内容</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">向my_employees表插入内容</span><br><span class="line">方式一:</span><br><span class="line">mysql&gt; insert into my_employees</span><br><span class="line">    -&gt; values(1,&#39;patel&#39;,&#39;Ralph&#39;,&#39;Rpatel&#39;,&#39;895&#39;),</span><br><span class="line">    -&gt; (2,&#39;Dancs&#39;,&#39;Betty&#39;,&#39;Bdancs&#39;,860),</span><br><span class="line">    -&gt; (3,&#39;Biri&#39;,&#39;Ben&#39;,&#39;Bbiri&#39;,1100),</span><br><span class="line">    -&gt; (4,&#39;Newman&#39;,&#39;Chad&#39;,&#39;Cnewman&#39;,750),</span><br><span class="line">    -&gt; (5,&#39;Ropeburn&#39;,&#39;Audrey&#39;,&#39;Aropebur&#39;,1550);</span><br></pre></td></tr></table></figure>

<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/1581512152218.png" alt="1581511994303"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">方式二:</span><br><span class="line">mysql&gt; insert into my_employees</span><br><span class="line">    -&gt; select 1,&#39;patel&#39;,&#39;Ralph&#39;,&#39;Rpatel&#39;,&#39;895&#39; union</span><br><span class="line">    -&gt; select 2,&#39;Dancs&#39;,&#39;Betty&#39;,&#39;Bdancs&#39;,860 union</span><br><span class="line">    -&gt; select 3,&#39;Biri&#39;,&#39;Ben&#39;,&#39;Bbiri&#39;,1100 union</span><br><span class="line">    -&gt; select 4,&#39;Newman&#39;,&#39;Chad&#39;,&#39;Cnewman&#39;,750 union</span><br><span class="line">    -&gt; select 5,&#39;Ropeburn&#39;,&#39;Audrey&#39;,&#39;Aropebur&#39;,1550;</span><br><span class="line">Query OK, 5 rows affected (0.00 sec)</span><br></pre></td></tr></table></figure>

<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/1581509550318.png" alt="1581512152218"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">向users表插入内容</span><br><span class="line">mysql&gt; insert into users</span><br><span class="line">    -&gt; values(1,&#39;Rpatel&#39;,10),</span><br><span class="line">    -&gt; (2,&#39;Bdancs&#39;,10),</span><br><span class="line">    -&gt; (3,&#39;Bbiri&#39;,20),</span><br><span class="line">    -&gt; (4,&#39;Cnewman&#39;,30),</span><br><span class="line">    -&gt; (5,&#39;Aropebur&#39;,40);</span><br><span class="line">Query OK, 5 rows affected (0.00 sec)</span><br></pre></td></tr></table></figure>

<p><img src="https://gitee.com/zhanqiaozai/picture/raw/master/1581512559792.png" alt="1581512559792"></p>

      </div>
        <div class="support-author">
          <p>感谢您的阅读。 🙏
          <a href="https://888.com/index.html" target="_blank">关于转载请看这里</a>
            <!--<a class="btn-pay"  href="#pay-modal">¥ 打赏支持</a>-->
          </p>
        </div>
        <!--
            <div class="like ">
              <div class="like-button">
                <a id="like-note" href="">
                  <i class="icon-heart"></i>喜欢
                </a>
              </div>
              <span id="likes-count">256</span>
            </div>
        -->
        <div class="otherLink">
          <div class="previous">
          </div>
          <div class="next">
          </div>
        </div>
        <div class="comments" id="comments">
          
<script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
<script type="text/javascript">
  const gitalk = new Gitalk({
    clientID: '8888a8888',
    clientSecret: '8888886666666',
    repo: 'xxxx.github.io',
    owner: 'admin',
    admin: ['admin'],
    id: location.pathname,      // Ensure uniqueness and length less than 50
    distractionFreeMode: false
  })

  gitalk.render('comments');
</script>


        </div>
      </div>
    </div>
   </div>
</main>
<div class="footer">
  <div class="info">
    <p>
    <a href="https://hexo.io" target="_blank" rel="noopener"> Hexo </a> 强力驱动 |
      <a href="https://github.com/Youthink/hexo-themes-yearn" target="_blank" rel="noopener"> Yearn </a>
      主题
    </p>
    <p>&copy;2013-2018 某某的博客 京ICP备xxxxxx号</p>
  </div>
</div>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<script>//console
  var consoleConfig = '\n欢迎访问 https://hufangyun.com ，围观小猿大圣的博客(づ｡◕‿‿◕｡)づ！\n,\n本博客使用 %cHexo%c 搭建，博客主题为小猿大圣开发的 %chexo-themes-yearn%c ~~~ 🎉🎉🎉 \n\n源码 https://github.com/Youthink/hexo-themes-yearn \n\n如果喜欢可以 star 支持一下 ❤️~\n,\n扫描下面的二维码，在手机上查看博客！\n,https://static.hufangyun.com/blog-url-qrcode-180-180.png,\n 想知道这个效果如何实现的？博客内搜索 console 彩蛋 🚀 ！\n'.split(',');
  var canConsole = true;
  var consoleInfo = (function(consoleConfig) {
  if (!canConsole || !consoleConfig || consoleConfig.length < 1) {
    return;
  }
  var consoleColor = '#6190e8';
  var _console;
  var backgroundTextStyle = 'padding: 1px 5px;color: #fff;background: ' + consoleColor + ';'
  var textStyle = 'color: ' + consoleColor + ';';

  consoleConfig.map(o => {
    var num = (o.match(/%c/g) || []).length;
    if(/^http(s)?:\/\//.test(o)) {
      console.log('%c     ', 'background: url(' + o + ') no-repeat left center;font-size: 180px;');
      return;
    }
    if (num > 0) {
      var logArguments = [];
      for (var i = 0; i < num; i++) {
        if (i % 2 === 0) {
          logArguments.push(backgroundTextStyle);
        } else {
          logArguments.push(textStyle);
        }
      }
      (_console = console).log.apply(_console, ['%c' + o, textStyle].concat(logArguments));
      return;
    }
    console.log('%c' + o, textStyle);
  });
}(consoleConfig));</script><script type="text/javascript" src="/./js/main.js"></script>

  <script src="//at.alicdn.com/t/font_159214_mvtxvg9me9.js"></script>
</body>
</html>
